Started GET "/cities" for ::1 at 2024-03-05 13:41:21 -0500
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (2.9ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 71.5ms | Allocations: 12935)
  Rendered layout layouts/application.html.erb (Duration: 75.8ms | Allocations: 19419)
Completed 500 Internal Server Error in 99ms (ActiveRecord: 45.3ms | Allocations: 37836)


  
ActionView::Template::Error (The asset "tailwind.css" is not present in the asset pipeline.
):
     5:     <meta name="viewport" content="width=device-width,initial-scale=1">
     6:     <%= csrf_meta_tags %>
     7:     <%= csp_meta_tag %>
     8:     <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
     9: 
    10:     <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    11:     <%= javascript_importmap_tags %>
  
app/views/layouts/application.html.erb:8
Started GET "/cities" for ::1 at 2024-03-05 13:41:22 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 540)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 5031)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms | Allocations: 5293)


  
ActionView::Template::Error (The asset "tailwind.css" is not present in the asset pipeline.
):
     5:     <meta name="viewport" content="width=device-width,initial-scale=1">
     6:     <%= csrf_meta_tags %>
     7:     <%= csp_meta_tag %>
     8:     <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
     9: 
    10:     <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    11:     <%= javascript_importmap_tags %>
  
app/views/layouts/application.html.erb:8
Started GET "/" for ::1 at 2024-03-05 13:41:24 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 23ms (ActiveRecord: 2.7ms | Allocations: 6833)


Started GET "/login" for ::1 at 2024-03-05 13:41:24 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 13.0ms | Allocations: 3992)
  Rendered layout layouts/application.html.erb (Duration: 176.0ms | Allocations: 147752)
Completed 200 OK in 178ms (Views: 177.0ms | ActiveRecord: 0.0ms | Allocations: 148274)


Started GET "/register" for ::1 at 2024-03-05 13:41:27 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2225)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 7768)
Completed 200 OK in 22ms (Views: 13.3ms | ActiveRecord: 1.8ms | Allocations: 13301)


Started POST "/register" for ::1 at 2024-03-05 13:41:30 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (4.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 18:41:30.365488"], ["updated_at", "2024-03-05 18:41:30.365488"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (1.6ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-05 18:41:30.385012"], ["updated_at", "2024-03-05 18:41:30.385012"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 254ms (ActiveRecord: 12.5ms | Allocations: 17867)


Started GET "/home" for ::1 at 2024-03-05 13:41:30 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 875)


Started GET "/login" for ::1 at 2024-03-05 13:41:30 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 445)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 6023)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 6309)


Started POST "/login" for ::1 at 2024-03-05 13:41:32 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 240ms (ActiveRecord: 0.2ms | Allocations: 973)


Started GET "/login" for ::1 at 2024-03-05 13:41:32 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 452)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 5989)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 6230)


Started POST "/login" for ::1 at 2024-03-05 13:41:35 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 240ms (ActiveRecord: 0.3ms | Allocations: 808)


Started GET "/login" for ::1 at 2024-03-05 13:41:35 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 427)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 5875)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms | Allocations: 6116)


Started GET "/register" for ::1 at 2024-03-05 13:41:36 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 6023)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 6467)


Started POST "/register" for ::1 at 2024-03-05 13:41:41 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"1@1.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1565)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 7013)
Completed 422 Unprocessable Entity in 239ms (Views: 4.2ms | ActiveRecord: 0.0ms | Allocations: 8175)


Started POST "/register" for ::1 at 2024-03-05 13:41:45 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"1@1.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "1@1.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 18:41:45.453876"], ["updated_at", "2024-03-05 18:41:45.453876"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (1.9ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 5], ["created_at", "2024-03-05 18:41:45.456178"], ["updated_at", "2024-03-05 18:41:45.456178"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 243ms (ActiveRecord: 4.7ms | Allocations: 3645)


Started GET "/home" for ::1 at 2024-03-05 13:41:45 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 885)


Started GET "/login" for ::1 at 2024-03-05 13:41:45 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 439)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 6000)
Completed 200 OK in 5ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 6242)


Started POST "/login" for ::1 at 2024-03-05 13:41:47 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"1@1.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1@1.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 235ms (ActiveRecord: 0.1ms | Allocations: 789)


Started GET "/home" for ::1 at 2024-03-05 13:41:48 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 99)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 6684)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.5ms | Allocations: 8269)


Started GET "/cities" for ::1 at 2024-03-05 13:41:49 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 531)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 7248)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 1.0ms | Allocations: 7527)


Started GET "/apartments" for ::1 at 2024-03-05 13:41:49 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (2.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 6.5ms | Allocations: 2617)
  Rendered apartments/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 12193)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 27.9ms | Allocations: 18627)
Completed 200 OK in 36ms (Views: 24.1ms | ActiveRecord: 5.1ms | Allocations: 21673)


Started GET "/apartments/1" for ::1 at 2024-03-05 13:41:51 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 351)
  [1m[36mUser Count (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:17:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 15.5ms | Allocations: 6567)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 12800)
Completed 200 OK in 56ms (Views: 18.3ms | ActiveRecord: 5.3ms | Allocations: 37425)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 13:41:53 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 13:41:53 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:17:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2225)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 8455)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 1.0ms | Allocations: 11453)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 13:41:54 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 13:41:54 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mNeighborhood Load (1.6ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:17:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 2225)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 8455)
Completed 200 OK in 12ms (Views: 6.4ms | ActiveRecord: 2.9ms | Allocations: 11443)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 13:41:55 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 13:41:55 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:17:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2225)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 8455)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 1.1ms | Allocations: 11425)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 13:41:55 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 13:41:55 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:17:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2225)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 8455)
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 1.0ms | Allocations: 11431)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 13:41:56 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 13:41:56 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:17:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2225)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 8455)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.1ms | Allocations: 11434)


Started GET "/apartments" for ::1 at 2024-03-05 13:42:00 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 6.4ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1154)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 21.1ms | Allocations: 7692)
Completed 200 OK in 25ms (Views: 21.1ms | ActiveRecord: 0.8ms | Allocations: 8524)


Started GET "/apartments/1/edit" for ::1 at 2024-03-05 13:42:01 -0500
Processing by ApartmentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:87:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/edit.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/apartments/_form.html.erb:16
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods"[0m
  â†³ app/views/apartments/_form.html.erb:21
  Rendered apartments/_form.html.erb (Duration: 9.9ms | Allocations: 4003)
  Rendered apartments/edit.html.erb within layouts/application (Duration: 11.1ms | Allocations: 4342)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 10804)
Completed 200 OK in 28ms (Views: 16.9ms | ActiveRecord: 1.2ms | Allocations: 13856)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8155820719186195965)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to DropApartmentRequests (20240305203122)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(8155820719186195965)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8155820719186195965)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to DropApartmentRequests (20240305203122)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.3ms)[0m  [1m[35mDROP TABLE "apartment_requests"[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240305203122') RETURNING "version"[0m
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8155820719186195965)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8155820719186195965)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateApartmentRequests (20240305203149)
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
, CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240305203149') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(8155820719186195965)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cities" for ::1 at 2024-03-05 16:13:45 -0500
Started GET "/cities" for ::1 at 2024-03-05 16:13:45 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.7ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 16026)
  Rendered cities/index.html.erb within layouts/application (Duration: 26.5ms | Allocations: 16071)
  Rendered layout layouts/application.html.erb (Duration: 113.4ms | Allocations: 125525)
  Rendered layout layouts/application.html.erb (Duration: 114.6ms | Allocations: 133364)
Completed 200 OK in 135ms (Views: 108.0ms | ActiveRecord: 9.3ms | Allocations: 145246)


Completed 200 OK in 136ms (Views: 102.5ms | ActiveRecord: 14.7ms | Allocations: 145610)


Started GET "/" for ::1 at 2024-03-05 16:13:48 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 30ms (ActiveRecord: 14.3ms | Allocations: 6207)


Started GET "/login" for ::1 at 2024-03-05 16:13:48 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1600)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 7065)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 7565)


Started GET "/register" for ::1 at 2024-03-05 16:13:49 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1760)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 7222)
Completed 200 OK in 30ms (Views: 18.4ms | ActiveRecord: 1.5ms | Allocations: 12755)


Started POST "/register" for ::1 at 2024-03-05 16:13:53 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"jeff@jeff.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (3.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jeff@jeff.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 21:13:53.560309"], ["updated_at", "2024-03-05 21:13:53.560309"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (2.2ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 11], ["created_at", "2024-03-05 21:13:53.575377"], ["updated_at", "2024-03-05 21:13:53.575377"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 11], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 257ms (ActiveRecord: 10.1ms | Allocations: 15795)


Started GET "/home" for ::1 at 2024-03-05 16:13:53 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 886)


Started GET "/login" for ::1 at 2024-03-05 16:13:53 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 417)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 5954)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms | Allocations: 6245)


Started POST "/login" for ::1 at 2024-03-05 16:13:59 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"jeff@jeff.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jeff@jeff.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 237ms (ActiveRecord: 0.3ms | Allocations: 954)


Started GET "/home" for ::1 at 2024-03-05 16:13:59 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 218)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 6397)
Completed 200 OK in 15ms (Views: 4.0ms | ActiveRecord: 4.6ms | Allocations: 14353)


Started GET "/cities" for ::1 at 2024-03-05 16:14:01 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 538)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 7236)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.9ms | Allocations: 7518)


Started GET "/apartments" for ::1 at 2024-03-05 16:14:01 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (1.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 3.6ms | Allocations: 1759)
  Rendered apartments/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 11252)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 17686)
Completed 200 OK in 29ms (Views: 21.8ms | ActiveRecord: 3.1ms | Allocations: 18856)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:14:03 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.5ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 353)
  [1m[36mUser Count (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.9ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 8279)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 14573)
Completed 200 OK in 48ms (Views: 12.6ms | ActiveRecord: 6.7ms | Allocations: 25696)


Started GET "/apartments" for ::1 at 2024-03-05 16:14:06 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 0.9ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1154)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 7573)
Completed 200 OK in 20ms (Views: 16.6ms | ActiveRecord: 0.6ms | Allocations: 8416)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:14:08 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.0ms | Allocations: 3907)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 10018)
Completed 200 OK in 26ms (Views: 15.8ms | ActiveRecord: 2.3ms | Allocations: 13571)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 16:14:09 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (14.9ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 6], ["status", 0], ["created_at", "2024-03-05 21:14:09.305979"], ["updated_at", "2024-03-05 21:14:09.305979"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 28ms (ActiveRecord: 16.3ms | Allocations: 7286)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:14:09 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4538)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 10712)
Completed 200 OK in 26ms (Views: 19.5ms | ActiveRecord: 1.8ms | Allocations: 14282)


Started DELETE "/apartments/2/apartment_requests/1" for ::1 at 2024-03-05 16:14:16 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (2.2ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 10ms (ActiveRecord: 3.1ms | Allocations: 3237)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:14:16 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (2.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3904)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 10068)
Completed 200 OK in 17ms (Views: 9.6ms | ActiveRecord: 3.6ms | Allocations: 13643)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 16:14:17 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 6], ["status", 0], ["created_at", "2024-03-05 21:14:17.218811"], ["updated_at", "2024-03-05 21:14:17.218811"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 11ms (ActiveRecord: 2.7ms | Allocations: 3254)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:14:17 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4451)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 10567)
Completed 200 OK in 17ms (Views: 10.3ms | ActiveRecord: 1.8ms | Allocations: 14163)


Started GET "/home" for ::1 at 2024-03-05 16:15:01 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 6135)
Completed 200 OK in 16ms (Views: 9.7ms | ActiveRecord: 0.6ms | Allocations: 7301)


Started GET "/home" for ::1 at 2024-03-05 16:15:01 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | Allocations: 6135)
Completed 200 OK in 27ms (Views: 22.7ms | ActiveRecord: 0.5ms | Allocations: 7284)


Started GET "/home" for ::1 at 2024-03-05 16:15:02 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 6256)
Completed 200 OK in 18ms (Views: 13.9ms | ActiveRecord: 0.7ms | Allocations: 7431)


Started GET "/home" for ::1 at 2024-03-05 16:15:23 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 323)
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 102.5ms | Allocations: 63343)
Completed 200 OK in 163ms (Views: 58.4ms | ActiveRecord: 62.8ms | Allocations: 98802)


Started GET "/home" for ::1 at 2024-03-05 16:15:24 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 6214)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 0.9ms | Allocations: 7401)


Started GET "/apartments" for ::1 at 2024-03-05 16:15:26 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 2.7ms | Allocations: 1844)
  Rendered apartments/index.html.erb within layouts/application (Duration: 32.0ms | Allocations: 11377)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 18015)
Completed 200 OK in 40ms (Views: 35.9ms | ActiveRecord: 2.1ms | Allocations: 19209)


Started GET "/apartments" for ::1 at 2024-03-05 16:15:26 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 0.9ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1155)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 7575)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 0.8ms | Allocations: 8421)


Started GET "/cities" for ::1 at 2024-03-05 16:15:26 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.7ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 5055)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 11771)
Completed 200 OK in 23ms (Views: 16.6ms | ActiveRecord: 3.6ms | Allocations: 13920)


Started GET "/cities" for ::1 at 2024-03-05 16:15:27 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 537)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 7219)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.9ms | Allocations: 7500)


Started GET "/home" for ::1 at 2024-03-05 16:15:27 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 6135)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 0.3ms | Allocations: 7317)


Started GET "/apartments" for ::1 at 2024-03-05 16:15:28 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 0.9ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1155)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 7574)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.7ms | Allocations: 8412)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:15:29 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 360)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.9ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.8ms | Allocations: 12623)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 18941)
Completed 200 OK in 34ms (Views: 14.1ms | ActiveRecord: 5.6ms | Allocations: 30074)


Started DELETE "/apartments/2/apartment_requests/2" for ::1 at 2024-03-05 16:15:30 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (0.8ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 8ms (ActiveRecord: 2.2ms | Allocations: 3711)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:15:30 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3951)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 10068)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 1.7ms | Allocations: 13699)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 16:15:32 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (2.1ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 6], ["status", 0], ["created_at", "2024-03-05 21:15:32.288118"], ["updated_at", "2024-03-05 21:15:32.288118"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 13ms (ActiveRecord: 3.3ms | Allocations: 4441)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:15:32 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4451)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 10566)
Completed 200 OK in 18ms (Views: 11.7ms | ActiveRecord: 1.8ms | Allocations: 14164)


Started GET "/home" for ::1 at 2024-03-05 16:15:33 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 6340)
Completed 200 OK in 13ms (Views: 9.3ms | ActiveRecord: 0.4ms | Allocations: 7510)


Started GET "/cities" for ::1 at 2024-03-05 16:15:53 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.8ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 530)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 6222)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.8ms | Allocations: 6495)


Started GET "/login" for ::1 at 2024-03-05 16:15:54 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1570)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 7026)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 7529)


Started POST "/login" for ::1 at 2024-03-05 16:15:57 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"jeff@jeff.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jeff@jeff.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 247ms (ActiveRecord: 0.3ms | Allocations: 945)


Started GET "/home" for ::1 at 2024-03-05 16:15:58 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 6340)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.4ms | Allocations: 7522)


Started GET "/cities" for ::1 at 2024-03-05 16:15:59 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 7389)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 1.0ms | Allocations: 7665)


Started GET "/apartments" for ::1 at 2024-03-05 16:15:59 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 1.2ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1154)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 7575)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 1.8ms | Allocations: 8418)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:16:00 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (11.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.4ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 21.1ms | Allocations: 4451)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 10562)
Completed 200 OK in 38ms (Views: 16.8ms | ActiveRecord: 13.6ms | Allocations: 14127)


Started DELETE "/apartments/2/apartment_requests/3" for ::1 at 2024-03-05 16:16:01 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (1.1ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 9ms (ActiveRecord: 2.6ms | Allocations: 3137)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:16:01 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3904)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 10035)
Completed 200 OK in 19ms (Views: 13.3ms | ActiveRecord: 1.7ms | Allocations: 13635)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 16:16:02 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (2.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 6], ["status", 0], ["created_at", "2024-03-05 21:16:02.901611"], ["updated_at", "2024-03-05 21:16:02.901611"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 13ms (ActiveRecord: 3.5ms | Allocations: 3247)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:16:02 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4451)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 10732)
Completed 200 OK in 18ms (Views: 11.2ms | ActiveRecord: 1.6ms | Allocations: 14304)


Started GET "/cities" for ::1 at 2024-03-05 16:16:04 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 530)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 7227)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 1.1ms | Allocations: 7502)


Started GET "/cities/1" for ::1 at 2024-03-05 16:16:05 -0500
Processing by CitiesController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/cities_controller.rb:63:in `set_city'
  Rendering layout layouts/application.html.erb
  Rendering cities/show.html.erb within layouts/application
  Rendered cities/_city.html.erb (Duration: 1.0ms | Allocations: 268)
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."city_id" = $1[0m  [["city_id", 1]]
  â†³ app/views/cities/show.html.erb:9
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."city_id" = $1[0m  [["city_id", 1]]
  â†³ app/views/cities/show.html.erb:25
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/cities/show.html.erb:27
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:16:in `remaining_bedrooms'
  Rendered cities/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 6646)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 13171)
Completed 200 OK in 22ms (Views: 16.1ms | ActiveRecord: 1.3ms | Allocations: 14499)


Started GET "/apartments" for ::1 at 2024-03-05 16:16:07 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 0.7ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1154)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 7574)
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 0.9ms | Allocations: 8438)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:16:08 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3830)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 10145)
Completed 200 OK in 27ms (Views: 11.9ms | ActiveRecord: 1.5ms | Allocations: 13705)


Started GET "/apartments" for ::1 at 2024-03-05 16:16:10 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 2.2ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1154)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 7726)
Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 0.7ms | Allocations: 8576)


Started GET "/apartments/3" for ::1 at 2024-03-05 16:16:12 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3903)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 10015)
Completed 200 OK in 22ms (Views: 13.5ms | ActiveRecord: 1.5ms | Allocations: 13580)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 16:16:12 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.4ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 6], ["status", 0], ["created_at", "2024-03-05 21:16:12.840046"], ["updated_at", "2024-03-05 21:16:12.840046"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 10ms (ActiveRecord: 2.3ms | Allocations: 3244)


Started GET "/apartments/3" for ::1 at 2024-03-05 16:16:12 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4450)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 10565)
Completed 200 OK in 15ms (Views: 9.8ms | ActiveRecord: 1.2ms | Allocations: 14140)


Started GET "/cities" for ::1 at 2024-03-05 16:16:14 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 530)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 7332)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.9ms | Allocations: 7608)


Started GET "/home" for ::1 at 2024-03-05 16:16:14 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 6319)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 0.4ms | Allocations: 7516)


Started GET "/apartments" for ::1 at 2024-03-05 16:16:15 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 0.9ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1154)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7626)
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 0.6ms | Allocations: 8470)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:16:16 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3821)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 9933)
Completed 200 OK in 22ms (Views: 13.1ms | ActiveRecord: 1.4ms | Allocations: 13522)


Started GET "/apartments/1/edit" for ::1 at 2024-03-05 16:17:21 -0500
Processing by ApartmentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (11.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/edit.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/apartments/_form.html.erb:16
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods"[0m
  â†³ app/views/apartments/_form.html.erb:21
  Rendered apartments/_form.html.erb (Duration: 19.3ms | Allocations: 23036)
  Rendered apartments/edit.html.erb within layouts/application (Duration: 21.4ms | Allocations: 23384)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 29798)
Completed 200 OK in 53ms (Views: 28.7ms | ActiveRecord: 13.1ms | Allocations: 32862)


Started PATCH "/apartments/1" for ::1 at 2024-03-05 16:17:23 -0500
Processing by ApartmentsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment"=>{"city_id"=>"2", "neighborhood_id"=>"2", "street_address"=>"123 random St.", "bedrooms"=>"2", "rent"=>"825.0", "notes"=>"asdfadsf"}, "commit"=>"Update Apartment", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:69:in `block in update'
  [1m[36mApartment Update (1.5ms)[0m  [1m[33mUPDATE "apartments" SET "bedrooms" = $1, "updated_at" = $2 WHERE "apartments"."id" = $3[0m  [["bedrooms", 2], ["updated_at", "2024-03-05 21:17:23.130469"], ["id", 1]]
  â†³ app/controllers/apartments_controller.rb:69:in `block in update'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:69:in `block in update'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 19ms (ActiveRecord: 3.5ms | Allocations: 5441)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:17:23 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3824)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 10148)
Completed 200 OK in 17ms (Views: 11.5ms | ActiveRecord: 1.3ms | Allocations: 13731)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:17:24 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.5ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3821)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 9949)
Completed 200 OK in 28ms (Views: 13.8ms | ActiveRecord: 2.6ms | Allocations: 13513)


Started DELETE "/logout" for ::1 at 2024-03-05 16:18:26 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 357)


Started GET "/" for ::1 at 2024-03-05 16:18:26 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 959)


Started GET "/login" for ::1 at 2024-03-05 16:18:26 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 445)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 5903)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 6150)


Started POST "/login" for ::1 at 2024-03-05 16:18:28 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"jeffjung34@gmail.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jeffjung34@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.4ms | Allocations: 781)


Started GET "/home" for ::1 at 2024-03-05 16:18:28 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 6136)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.4ms | Allocations: 7332)


Started GET "/cities" for ::1 at 2024-03-05 16:18:29 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 530)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 7444)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.8ms | Allocations: 7720)


Started GET "/apartments" for ::1 at 2024-03-05 16:18:30 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 0.9ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1154)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 7747)
Completed 200 OK in 18ms (Views: 12.1ms | ActiveRecord: 2.5ms | Allocations: 8584)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:18:31 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 1.4ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3904)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 10054)
Completed 200 OK in 25ms (Views: 15.2ms | ActiveRecord: 1.9ms | Allocations: 13608)


Started GET "/apartments" for ::1 at 2024-03-05 16:18:34 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 0.7ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1154)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 7574)
Completed 200 OK in 24ms (Views: 13.8ms | ActiveRecord: 0.7ms | Allocations: 8424)


Started GET "/cities" for ::1 at 2024-03-05 16:18:35 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 530)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 7218)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.9ms | Allocations: 7493)


Started GET "/home" for ::1 at 2024-03-05 16:18:36 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 6136)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 0.4ms | Allocations: 7320)


Started GET "/cities" for ::1 at 2024-03-05 16:18:37 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 7423)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.6ms | Allocations: 7699)


Started GET "/apartments" for ::1 at 2024-03-05 16:18:37 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [3 times] (Duration: 1.1ms | Allocations: 528)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1154)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 7761)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.8ms | Allocations: 8604)


  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (34.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_development"[0m
  [1m[35m (24.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_test"[0m
  [1m[35m (97.0ms)[0m  [1m[35mCREATE DATABASE "roommatic_development" ENCODING = 'unicode'[0m
  [1m[35m (32.5ms)[0m  [1m[35mCREATE DATABASE "roommatic_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 21:18:49.680982', '2024-03-05 21:18:49.680989') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 21:18:49.683824', '2024-03-05 21:18:49.683826') RETURNING "key"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 21:18:49.725262', '2024-03-05 21:18:49.725264') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-03-05 21:18:49.726048' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 21:18:49.726657', '2024-03-05 21:18:49.726657') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "New York City"], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "New York City"], ["state", "New York"], ["created_at", "2024-03-05 21:18:49.755479"], ["updated_at", "2024-03-05 21:18:49.755479"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "Boston"], ["LIMIT", 1]]
  [1m[36mCity Create (0.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Boston"], ["state", "Massachusetts"], ["created_at", "2024-03-05 21:18:49.761655"], ["updated_at", "2024-03-05 21:18:49.761655"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.7ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lower East Side"], ["city_id", 1], ["created_at", "2024-03-05 21:18:49.768994"], ["updated_at", "2024-03-05 21:18:49.768994"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Back Bay"], ["city_id", 2], ["created_at", "2024-03-05 21:18:49.770505"], ["updated_at", "2024-03-05 21:18:49.770505"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cambridge"], ["city_id", 2], ["created_at", "2024-03-05 21:18:49.771860"], ["updated_at", "2024-03-05 21:18:49.771860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (1.0ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "372 Marlborough St."], ["bedrooms", 1], ["rent", "825.0"], ["notes", "My rent in 1990"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 21:18:49.779412"], ["updated_at", "2024-03-05 21:18:49.779412"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "350 Newbury St"], ["bedrooms", 3], ["rent", "4000.0"], ["notes", "Right next to Newbury comics!"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 21:18:49.781308"], ["updated_at", "2024-03-05 21:18:49.781308"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.5ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "290 Highland Ave"], ["bedrooms", 2], ["rent", "1800.0"], ["notes", "My rent in 1995"], ["neighborhood_id", 3], ["city_id", 2], ["created_at", "2024-03-05 21:18:49.782565"], ["updated_at", "2024-03-05 21:18:49.782565"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "123 Houston Street"], ["bedrooms", 3], ["rent", "3000.0"], ["notes", "near Death & Co."], ["neighborhood_id", 1], ["city_id", 1], ["created_at", "2024-03-05 21:18:49.783832"], ["updated_at", "2024-03-05 21:18:49.783832"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon@jonphillips.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 21:18:49.999048"], ["updated_at", "2024-03-05 21:18:49.999048"], ["apartment_id", nil]]
  [1m[36mProfile Create (1.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 1], ["created_at", "2024-03-05 21:18:50.009552"], ["updated_at", "2024-03-05 21:18:50.009552"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon.phillips@duke.edu"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 21:18:50.220813"], ["updated_at", "2024-03-05 21:18:50.220813"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 2], ["created_at", "2024-03-05 21:18:50.222207"], ["updated_at", "2024-03-05 21:18:50.222207"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/apartments" for ::1 at 2024-03-05 16:18:55 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 37ms (ActiveRecord: 7.3ms | Allocations: 16997)


Started GET "/login" for ::1 at 2024-03-05 16:18:55 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1856)
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 59.9ms | Allocations: 56006)
Completed 500 Internal Server Error in 64ms (ActiveRecord: 13.4ms | Allocations: 59313)


  
ActionView::Template::Error (Couldn't find User with 'id'=9):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/" for ::1 at 2024-03-05 16:18:58 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 886)


Started GET "/login" for ::1 at 2024-03-05 16:18:58 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 427)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | Allocations: 7247)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms | Allocations: 7471)


  
ActionView::Template::Error (Couldn't find User with 'id'=9):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 16:19:03 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 9317)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 14948)
Completed 200 OK in 22ms (Views: 14.7ms | ActiveRecord: 2.8ms | Allocations: 17134)


Started GET "/" for ::1 at 2024-03-05 16:19:05 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 923)


Started GET "/login" for ::1 at 2024-03-05 16:19:05 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 433)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 5951)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 6203)


Started GET "/register" for ::1 at 2024-03-05 16:19:08 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1764)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 7285)
Completed 200 OK in 20ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 12768)


Started POST "/register" for ::1 at 2024-03-05 16:19:10 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 21:19:10.442738"], ["updated_at", "2024-03-05 21:19:10.442738"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 3], ["created_at", "2024-03-05 21:19:10.454486"], ["updated_at", "2024-03-05 21:19:10.454486"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 245ms (ActiveRecord: 5.3ms | Allocations: 15284)


Started GET "/home" for ::1 at 2024-03-05 16:19:10 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 877)


Started GET "/login" for ::1 at 2024-03-05 16:19:10 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 419)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 5878)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 6169)


Started POST "/login" for ::1 at 2024-03-05 16:19:12 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com1", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com1"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 895)


Started GET "/login" for ::1 at 2024-03-05 16:19:12 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 5903)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 6151)


Started POST "/login" for ::1 at 2024-03-05 16:19:15 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 235ms (ActiveRecord: 0.2ms | Allocations: 823)


Started GET "/home" for ::1 at 2024-03-05 16:19:16 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 216)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 6480)
Completed 200 OK in 17ms (Views: 3.5ms | ActiveRecord: 4.7ms | Allocations: 13964)


Started GET "/cities" for ::1 at 2024-03-05 16:19:17 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 532)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7308)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 1.0ms | Allocations: 7584)


Started GET "/apartments" for ::1 at 2024-03-05 16:19:17 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.8ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.9ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 11468)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 25.9ms | Allocations: 17903)
Completed 200 OK in 32ms (Views: 24.6ms | ActiveRecord: 2.5ms | Allocations: 18990)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:19:18 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 351)
  [1m[36mUser Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.5ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 8321)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 14434)
Completed 200 OK in 47ms (Views: 18.5ms | ActiveRecord: 6.2ms | Allocations: 25517)


Started POST "/apartments/1/apartment_requests" for ::1 at 2024-03-05 16:19:19 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.9ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 1], ["user_id", 3], ["status", 0], ["created_at", "2024-03-05 21:19:19.343186"], ["updated_at", "2024-03-05 21:19:19.343186"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 16ms (ActiveRecord: 2.5ms | Allocations: 7311)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:19:19 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 10724)
Completed 200 OK in 16ms (Views: 10.2ms | ActiveRecord: 1.6ms | Allocations: 14320)


Started GET "/home" for ::1 at 2024-03-05 16:19:21 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 6135)
Completed 200 OK in 15ms (Views: 10.7ms | ActiveRecord: 0.4ms | Allocations: 7310)


Started GET "/cities" for ::1 at 2024-03-05 16:19:21 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 7245)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.8ms | Allocations: 7520)


Started GET "/apartments" for ::1 at 2024-03-05 16:19:22 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 7771)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.5ms | Allocations: 8621)


Started GET "/home" for ::1 at 2024-03-05 16:19:22 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 6144)
Completed 200 OK in 15ms (Views: 11.1ms | ActiveRecord: 0.5ms | Allocations: 7295)


Started GET "/home" for ::1 at 2024-03-05 16:19:23 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 6137)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 0.4ms | Allocations: 7293)


Started GET "/apartments" for ::1 at 2024-03-05 16:19:23 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.3ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 7764)
Completed 200 OK in 18ms (Views: 14.1ms | ActiveRecord: 0.6ms | Allocations: 8608)


Started GET "/cities" for ::1 at 2024-03-05 16:19:24 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 7227)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.8ms | Allocations: 7502)


Started GET "/home" for ::1 at 2024-03-05 16:19:25 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 6135)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.4ms | Allocations: 7327)


Started GET "/apartments" for ::1 at 2024-03-05 16:19:25 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 7849)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 0.5ms | Allocations: 8702)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:19:26 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 4444)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 10638)
Completed 200 OK in 26ms (Views: 14.7ms | ActiveRecord: 2.2ms | Allocations: 14227)


Started GET "/home" for ::1 at 2024-03-05 16:19:28 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 7)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 6136)
Completed 200 OK in 16ms (Views: 12.1ms | ActiveRecord: 0.5ms | Allocations: 7321)


Started GET "/cities" for ::1 at 2024-03-05 16:28:13 -0500
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 39.9ms | Allocations: 12752)
  Rendered layout layouts/application.html.erb (Duration: 98.7ms | Allocations: 73197)
Completed 200 OK in 116ms (Views: 82.0ms | ActiveRecord: 18.5ms | Allocations: 84902)


Started GET "/" for ::1 at 2024-03-05 16:28:14 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 1.7ms | Allocations: 6233)


Started GET "/login" for ::1 at 2024-03-05 16:28:14 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1606)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 7256)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms | Allocations: 7758)


Started GET "/register" for ::1 at 2024-03-05 16:28:15 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1763)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 7420)
Completed 200 OK in 27ms (Views: 8.8ms | ActiveRecord: 2.0ms | Allocations: 12968)


Started POST "/register" for ::1 at 2024-03-05 16:28:22 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"jeff@jeff.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (4.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jeff@jeff.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 21:28:22.828190"], ["updated_at", "2024-03-05 21:28:22.828190"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.9ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-05 21:28:22.842813"], ["updated_at", "2024-03-05 21:28:22.842813"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 253ms (ActiveRecord: 9.6ms | Allocations: 15821)


Started GET "/home" for ::1 at 2024-03-05 16:28:22 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 890)


Started GET "/login" for ::1 at 2024-03-05 16:28:22 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 441)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 6097)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 6389)


Started POST "/login" for ::1 at 2024-03-05 16:28:25 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"jeff@jeff.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jeff@jeff.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.2ms | Allocations: 956)


Started GET "/home" for ::1 at 2024-03-05 16:28:25 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (1.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2045)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 8420)
Completed 200 OK in 30ms (Views: 4.5ms | ActiveRecord: 5.2ms | Allocations: 16396)


Started GET "/cities" for ::1 at 2024-03-05 16:28:27 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 538)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 7226)
Completed 200 OK in 15ms (Views: 12.6ms | ActiveRecord: 1.3ms | Allocations: 7509)


Started GET "/apartments" for ::1 at 2024-03-05 16:28:27 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (1.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 4.0ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 11481)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.0ms | Allocations: 17913)
Completed 200 OK in 27ms (Views: 21.4ms | ActiveRecord: 2.9ms | Allocations: 19104)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:28:28 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.7ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 353)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 8298)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 14409)
Completed 200 OK in 53ms (Views: 13.7ms | ActiveRecord: 6.1ms | Allocations: 25114)


Started POST "/apartments/1/apartment_requests" for ::1 at 2024-03-05 16:28:29 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.1ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 1], ["user_id", 4], ["status", 0], ["created_at", "2024-03-05 21:28:29.422092"], ["updated_at", "2024-03-05 21:28:29.422092"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 11ms (ActiveRecord: 1.9ms | Allocations: 7282)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:28:29 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 10842)
Completed 200 OK in 20ms (Views: 9.6ms | ActiveRecord: 1.8ms | Allocations: 14423)


Started GET "/home" for ::1 at 2024-03-05 16:28:30 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  Rendered home/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2035)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 8149)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 0.8ms | Allocations: 9340)


Started GET "/apartments" for ::1 at 2024-03-05 16:28:33 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 7762)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.7ms | Allocations: 8609)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:28:35 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3904)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 10013)
Completed 200 OK in 22ms (Views: 12.2ms | ActiveRecord: 2.0ms | Allocations: 13570)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 16:28:35 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.0ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 4], ["status", 0], ["created_at", "2024-03-05 21:28:35.814285"], ["updated_at", "2024-03-05 21:28:35.814285"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 9ms (ActiveRecord: 2.0ms | Allocations: 3235)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:28:35 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4451)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 10673)
Completed 200 OK in 22ms (Views: 15.3ms | ActiveRecord: 1.9ms | Allocations: 14257)


Started GET "/home" for ::1 at 2024-03-05 16:28:36 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.4ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  Rendered home/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1744)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 7935)
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 1.0ms | Allocations: 9117)


Started GET "/home" for ::1 at 2024-03-05 16:29:24 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  Rendered home/index.html.erb within layouts/application (Duration: 11.8ms | Allocations: 10257)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 39735)
Completed 200 OK in 50ms (Views: 24.3ms | ActiveRecord: 16.9ms | Allocations: 52678)


Started GET "/home" for ::1 at 2024-03-05 16:29:25 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  Rendered home/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1747)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 7861)
Completed 200 OK in 20ms (Views: 14.4ms | ActiveRecord: 1.2ms | Allocations: 9049)


Started GET "/home" for ::1 at 2024-03-05 16:29:25 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  Rendered home/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1744)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 7858)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 0.8ms | Allocations: 9042)


Started GET "/cities" for ::1 at 2024-03-05 16:29:26 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3361)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 10250)
Completed 200 OK in 29ms (Views: 20.1ms | ActiveRecord: 4.1ms | Allocations: 12360)


Started GET "/home" for ::1 at 2024-03-05 16:29:26 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:8
  Rendered home/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 1747)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 8052)
Completed 200 OK in 23ms (Views: 18.6ms | ActiveRecord: 1.1ms | Allocations: 9228)


Started GET "/cities" for ::1 at 2024-03-05 16:29:27 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 531)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 7249)
Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 1.2ms | Allocations: 7524)


Started GET "/apartments" for ::1 at 2024-03-05 16:29:27 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.6ms | Allocations: 976)
  Rendered apartments/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1888)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 8320)
Completed 200 OK in 17ms (Views: 12.3ms | ActiveRecord: 0.7ms | Allocations: 9458)


Started DELETE "/logout" for ::1 at 2024-03-05 16:29:39 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.0ms | Allocations: 497)


Started GET "/" for ::1 at 2024-03-05 16:29:39 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 943)


Started GET "/login" for ::1 at 2024-03-05 16:29:39 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1474)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 6936)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 7416)


Started POST "/login" for ::1 at 2024-03-05 16:29:50 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"jon@jonphillips.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jon@jonphillips.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.5ms | Allocations: 889)


Started GET "/home" for ::1 at 2024-03-05 16:29:50 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 6861)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.5ms | Allocations: 8050)


Started GET "/cities" for ::1 at 2024-03-05 16:29:51 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 7387)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 1.0ms | Allocations: 7662)


Started GET "/apartments" for ::1 at 2024-03-05 16:29:52 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 7763)
Completed 200 OK in 17ms (Views: 13.3ms | ActiveRecord: 0.6ms | Allocations: 8615)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:29:53 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.7ms | Allocations: 350)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.3ms | Allocations: 8007)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 14119)
Completed 200 OK in 41ms (Views: 14.9ms | ActiveRecord: 4.9ms | Allocations: 23711)


Started GET "/cities" for ::1 at 2024-03-05 16:29:55 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 7217)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.8ms | Allocations: 7493)


Started GET "/home" for ::1 at 2024-03-05 16:29:55 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 6825)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 0.6ms | Allocations: 8005)


Started GET "/apartments" for ::1 at 2024-03-05 16:30:29 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 7835)
Completed 200 OK in 23ms (Views: 16.4ms | ActiveRecord: 1.4ms | Allocations: 8666)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:30:30 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3897)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 10007)
Completed 200 OK in 23ms (Views: 12.9ms | ActiveRecord: 2.2ms | Allocations: 13576)


Started GET "/apartments" for ::1 at 2024-03-05 16:31:38 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (11.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.4ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | Allocations: 7763)
Completed 200 OK in 32ms (Views: 15.0ms | ActiveRecord: 11.8ms | Allocations: 8603)


Started GET "/apartments/3" for ::1 at 2024-03-05 16:31:39 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 6.2ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 1], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:28:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.6ms | Allocations: 3904)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 10216)
Completed 200 OK in 29ms (Views: 18.4ms | ActiveRecord: 1.8ms | Allocations: 13775)


Started GET "/cities" for ::1 at 2024-03-05 16:43:38 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 23.7ms | Allocations: 12751)
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 99.9ms | Allocations: 87178)
Completed 200 OK in 117ms (Views: 77.4ms | ActiveRecord: 24.5ms | Allocations: 98883)


Started GET "/cities" for ::1 at 2024-03-05 16:43:40 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.8ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 540)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 7332)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 1.6ms | Allocations: 7615)


Started GET "/cities" for ::1 at 2024-03-05 16:43:41 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 536)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 7229)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 1.1ms | Allocations: 7510)


Started GET "/home" for ::1 at 2024-03-05 16:43:42 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.5ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2027)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 8384)
Completed 200 OK in 24ms (Views: 8.2ms | ActiveRecord: 6.1ms | Allocations: 15949)


Started GET "/cities" for ::1 at 2024-03-05 16:43:43 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 537)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 7218)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 1.0ms | Allocations: 7500)


Started GET "/apartments" for ::1 at 2024-03-05 16:43:44 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.9ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.6ms | Allocations: 2023)
  Rendered apartments/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 11589)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 18227)
Completed 200 OK in 26ms (Views: 22.3ms | ActiveRecord: 2.2ms | Allocations: 19401)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:43:44 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.6ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 353)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 7088)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 13201)
Completed 200 OK in 42ms (Views: 14.2ms | ActiveRecord: 5.4ms | Allocations: 23933)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:43:46 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:43:46 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3326)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 9641)
Completed 200 OK in 16ms (Views: 11.6ms | ActiveRecord: 1.6ms | Allocations: 13217)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:43:48 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:43:48 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 9640)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 1.3ms | Allocations: 13188)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:43:49 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:43:49 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 9640)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 1.4ms | Allocations: 13197)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:43:49 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:43:49 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 9641)
Completed 200 OK in 13ms (Views: 8.8ms | ActiveRecord: 1.2ms | Allocations: 13200)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:44:46 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:44:46 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.9ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 9640)
Completed 200 OK in 13ms (Views: 6.5ms | ActiveRecord: 2.8ms | Allocations: 13206)


Started GET "/apartments" for ::1 at 2024-03-05 16:44:47 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.5ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 7763)
Completed 200 OK in 20ms (Views: 15.1ms | ActiveRecord: 0.7ms | Allocations: 8608)


Started GET "/apartments" for ::1 at 2024-03-05 16:44:48 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 7967)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 0.6ms | Allocations: 8809)


Started GET "/cities" for ::1 at 2024-03-05 16:44:48 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 530)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 7353)
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 1.0ms | Allocations: 7629)


Started GET "/apartments" for ::1 at 2024-03-05 16:44:49 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 7763)
Completed 200 OK in 20ms (Views: 16.4ms | ActiveRecord: 0.9ms | Allocations: 8603)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:44:49 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3326)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 9437)
Completed 200 OK in 25ms (Views: 13.0ms | ActiveRecord: 1.9ms | Allocations: 12994)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:44:50 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:44:50 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:92:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 9640)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.1ms | Allocations: 13197)


  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (34.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_development"[0m
  [1m[35m (21.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_test"[0m
  [1m[35m (91.0ms)[0m  [1m[35mCREATE DATABASE "roommatic_development" ENCODING = 'unicode'[0m
  [1m[35m (31.4ms)[0m  [1m[35mCREATE DATABASE "roommatic_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 21:45:43.916402', '2024-03-05 21:45:43.916409') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 21:45:43.919315', '2024-03-05 21:45:43.919317') RETURNING "key"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 21:45:43.956278', '2024-03-05 21:45:43.956280') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-03-05 21:45:43.957010' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 21:45:43.957602', '2024-03-05 21:45:43.957602') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (5.0ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "New York City"], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "New York City"], ["state", "New York"], ["created_at", "2024-03-05 21:45:43.990698"], ["updated_at", "2024-03-05 21:45:43.990698"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "Boston"], ["LIMIT", 1]]
  [1m[36mCity Create (0.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Boston"], ["state", "Massachusetts"], ["created_at", "2024-03-05 21:45:43.993373"], ["updated_at", "2024-03-05 21:45:43.993373"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.7ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lower East Side"], ["city_id", 1], ["created_at", "2024-03-05 21:45:44.000486"], ["updated_at", "2024-03-05 21:45:44.000486"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Back Bay"], ["city_id", 2], ["created_at", "2024-03-05 21:45:44.002385"], ["updated_at", "2024-03-05 21:45:44.002385"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cambridge"], ["city_id", 2], ["created_at", "2024-03-05 21:45:44.003598"], ["updated_at", "2024-03-05 21:45:44.003598"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.9ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "372 Marlborough St."], ["bedrooms", 1], ["rent", "825.0"], ["notes", "My rent in 1990"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 21:45:44.011537"], ["updated_at", "2024-03-05 21:45:44.011537"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "350 Newbury St"], ["bedrooms", 3], ["rent", "4000.0"], ["notes", "Right next to Newbury comics!"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 21:45:44.013306"], ["updated_at", "2024-03-05 21:45:44.013306"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "290 Highland Ave"], ["bedrooms", 2], ["rent", "1800.0"], ["notes", "My rent in 1995"], ["neighborhood_id", 3], ["city_id", 2], ["created_at", "2024-03-05 21:45:44.014543"], ["updated_at", "2024-03-05 21:45:44.014543"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "123 Houston Street"], ["bedrooms", 3], ["rent", "3000.0"], ["notes", "near Death & Co."], ["neighborhood_id", 1], ["city_id", 1], ["created_at", "2024-03-05 21:45:44.015747"], ["updated_at", "2024-03-05 21:45:44.015747"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon@jonphillips.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 21:45:44.231311"], ["updated_at", "2024-03-05 21:45:44.231311"], ["apartment_id", nil]]
  [1m[36mProfile Create (1.3ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 1], ["created_at", "2024-03-05 21:45:44.247938"], ["updated_at", "2024-03-05 21:45:44.247938"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon.phillips@duke.edu"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 21:45:44.455600"], ["updated_at", "2024-03-05 21:45:44.455600"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 2], ["created_at", "2024-03-05 21:45:44.457098"], ["updated_at", "2024-03-05 21:45:44.457098"]]
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cities" for ::1 at 2024-03-05 16:45:57 -0500
  [1m[36mActiveRecord::SchemaMigration Load (12.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 21.6ms | Allocations: 12753)
  [1m[36mUser Load (41.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 147.6ms | Allocations: 87197)
Completed 200 OK in 164ms (Views: 71.4ms | ActiveRecord: 78.2ms | Allocations: 98902)


Started GET "/" for ::1 at 2024-03-05 16:45:58 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.4ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 1]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2027)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 8264)
Completed 200 OK in 31ms (Views: 10.8ms | ActiveRecord: 4.8ms | Allocations: 15854)


Started DELETE "/logout" for ::1 at 2024-03-05 16:45:59 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 573)


Started GET "/" for ::1 at 2024-03-05 16:45:59 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.3ms | Allocations: 987)


Started GET "/login" for ::1 at 2024-03-05 16:45:59 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1570)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 7240)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 7725)


Started GET "/cities" for ::1 at 2024-03-05 16:46:02 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 6184)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.4ms | Allocations: 6467)


Started GET "/login" for ::1 at 2024-03-05 16:46:04 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 411)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5863)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 6109)


Started GET "/register" for ::1 at 2024-03-05 16:46:04 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1745)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 7204)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 7938)


Started POST "/register" for ::1 at 2024-03-05 16:46:07 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 21:46:07.750335"], ["updated_at", "2024-03-05 21:46:07.750335"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 3], ["created_at", "2024-03-05 21:46:07.753817"], ["updated_at", "2024-03-05 21:46:07.753817"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 242ms (ActiveRecord: 3.5ms | Allocations: 5857)


Started GET "/home" for ::1 at 2024-03-05 16:46:07 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 866)


Started GET "/login" for ::1 at 2024-03-05 16:46:07 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 439)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 5895)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms | Allocations: 6142)


Started POST "/login" for ::1 at 2024-03-05 16:46:11 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 242ms (ActiveRecord: 0.2ms | Allocations: 891)


Started GET "/home" for ::1 at 2024-03-05 16:46:11 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 6659)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.5ms | Allocations: 7834)


Started GET "/cities" for ::1 at 2024-03-05 16:46:12 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 530)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 7425)
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 1.2ms | Allocations: 7701)


Started GET "/apartments" for ::1 at 2024-03-05 16:46:12 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.8ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 11486)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 18070)
Completed 200 OK in 28ms (Views: 23.0ms | ActiveRecord: 1.9ms | Allocations: 19267)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:46:13 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.7ms | Allocations: 353)
  [1m[36mUser Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 7081)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 13192)
Completed 200 OK in 44ms (Views: 14.2ms | ActiveRecord: 5.1ms | Allocations: 23893)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:46:14 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:46:14 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 9639)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 1.6ms | Allocations: 13216)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:46:15 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:46:15 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 9639)
Completed 200 OK in 15ms (Views: 10.0ms | ActiveRecord: 1.0ms | Allocations: 13195)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:46:15 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:46:15 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 9639)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 1.4ms | Allocations: 13190)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:46:15 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:46:15 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 9639)
Completed 200 OK in 10ms (Views: 5.5ms | ActiveRecord: 1.6ms | Allocations: 13202)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:46:16 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:46:16 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 9639)
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 1.4ms | Allocations: 13211)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:46:16 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:46:16 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 9639)
Completed 200 OK in 11ms (Views: 6.2ms | ActiveRecord: 1.2ms | Allocations: 13199)


Started GET "/cities" for ::1 at 2024-03-05 16:48:49 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 38.7ms | Allocations: 12751)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 216.2ms | Allocations: 87219)
Completed 200 OK in 237ms (Views: 96.6ms | ActiveRecord: 122.1ms | Allocations: 98924)


Started GET "/apartments" for ::1 at 2024-03-05 16:48:51 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (1.5ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 5.1ms | Allocations: 2020)
  Rendered apartments/index.html.erb within layouts/application (Duration: 22.7ms | Allocations: 11590)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 37.0ms | Allocations: 18131)
Completed 200 OK in 46ms (Views: 33.6ms | ActiveRecord: 4.8ms | Allocations: 22064)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:48:52 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 353)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.1ms | Allocations: 7121)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 13240)
Completed 200 OK in 53ms (Views: 12.5ms | ActiveRecord: 7.3ms | Allocations: 26850)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:48:53 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:48:53 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3326)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 9547)
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.4ms | Allocations: 13115)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:48:54 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:48:54 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 9547)
Completed 200 OK in 10ms (Views: 5.6ms | ActiveRecord: 1.7ms | Allocations: 13125)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:48:54 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:48:54 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 3326)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 9548)
Completed 200 OK in 14ms (Views: 9.2ms | ActiveRecord: 1.5ms | Allocations: 13103)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:48:54 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:48:54 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 9547)
Completed 200 OK in 12ms (Views: 6.6ms | ActiveRecord: 1.8ms | Allocations: 13103)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 16:48:55 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 16:48:55 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 9547)
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 1.6ms | Allocations: 13106)


Started GET "/apartments" for ::1 at 2024-03-05 16:48:59 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 7762)
Completed 200 OK in 32ms (Views: 28.5ms | ActiveRecord: 1.3ms | Allocations: 8601)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:49:00 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 9442)
Completed 200 OK in 21ms (Views: 11.7ms | ActiveRecord: 1.2ms | Allocations: 12995)


Started GET "/apartments" for ::1 at 2024-03-05 16:49:01 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7762)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.7ms | Allocations: 8605)


Started GET "/apartments/3" for ::1 at 2024-03-05 16:49:02 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 1.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 9556)
Completed 200 OK in 22ms (Views: 12.7ms | ActiveRecord: 1.5ms | Allocations: 13116)


Started GET "/apartments" for ::1 at 2024-03-05 16:49:03 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 7836)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 0.8ms | Allocations: 8712)


Started GET "/cities" for ::1 at 2024-03-05 16:49:52 -0500
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.9ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 42.2ms | Allocations: 12751)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 145.0ms | Allocations: 87185)
Completed 200 OK in 162ms (Views: 92.6ms | ActiveRecord: 54.3ms | Allocations: 98890)


Started GET "/apartments" for ::1 at 2024-03-05 16:49:54 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (12.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 11.8ms | Allocations: 2020)
  Rendered apartments/index.html.erb within layouts/application (Duration: 38.2ms | Allocations: 11590)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 44.3ms | Allocations: 18242)
Completed 200 OK in 53ms (Views: 30.3ms | ActiveRecord: 15.2ms | Allocations: 22197)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:49:54 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.6ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 353)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 7116)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 13233)
Completed 200 OK in 48ms (Views: 13.4ms | ActiveRecord: 7.3ms | Allocations: 26843)


Started PATCH "/apartments/1/occupy" for ::1 at 2024-03-05 16:49:55 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:28:in `occupy'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 21:49:55.614415"], ["apartment_id", 1], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 18ms (ActiveRecord: 4.8ms | Allocations: 6804)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:49:55 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3673)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 9788)
Completed 200 OK in 17ms (Views: 10.4ms | ActiveRecord: 2.3ms | Allocations: 13410)


Started GET "/apartments/1/edit" for ::1 at 2024-03-05 16:50:00 -0500
Processing by ApartmentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/edit.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/apartments/_form.html.erb:16
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods"[0m
  â†³ app/views/apartments/_form.html.erb:21
  Rendered apartments/_form.html.erb (Duration: 9.5ms | Allocations: 4200)
  Rendered apartments/edit.html.erb within layouts/application (Duration: 11.2ms | Allocations: 4544)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 10956)
Completed 200 OK in 26ms (Views: 17.1ms | ActiveRecord: 1.6ms | Allocations: 14024)


Started PATCH "/apartments/1" for ::1 at 2024-03-05 16:50:02 -0500
Processing by ApartmentsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment"=>{"city_id"=>"2", "neighborhood_id"=>"2", "street_address"=>"372 Marlborough St.", "bedrooms"=>"2", "rent"=>"825.0", "notes"=>"My rent in 1990"}, "commit"=>"Update Apartment", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:68:in `block in update'
  [1m[36mApartment Update (0.8ms)[0m  [1m[33mUPDATE "apartments" SET "bedrooms" = $1, "updated_at" = $2 WHERE "apartments"."id" = $3[0m  [["bedrooms", 2], ["updated_at", "2024-03-05 21:50:02.625655"], ["id", 1]]
  â†³ app/controllers/apartments_controller.rb:68:in `block in update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:68:in `block in update'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 20ms (ActiveRecord: 2.0ms | Allocations: 5272)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:50:02 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered apartments/show.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2948)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 9265)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 1.5ms | Allocations: 12845)


Started GET "/home" for ::1 at 2024-03-05 16:50:03 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.5ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2127)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 8276)
Completed 200 OK in 18ms (Views: 10.6ms | ActiveRecord: 1.4ms | Allocations: 11559)


Started GET "/cities" for ::1 at 2024-03-05 16:50:04 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 530)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 7224)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.8ms | Allocations: 7499)


Started GET "/apartments" for ::1 at 2024-03-05 16:50:05 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 7762)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.6ms | Allocations: 8626)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:50:05 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 122)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 9442)
Completed 200 OK in 22ms (Views: 12.8ms | ActiveRecord: 1.7ms | Allocations: 13004)


Started GET "/home" for ::1 at 2024-03-05 16:50:06 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 947)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 7279)
Completed 200 OK in 27ms (Views: 8.9ms | ActiveRecord: 1.4ms | Allocations: 9145)


Started DELETE "/logout" for ::1 at 2024-03-05 16:50:54 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 451)


Started GET "/" for ::1 at 2024-03-05 16:50:54 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.4ms | Allocations: 963)


Started GET "/login" for ::1 at 2024-03-05 16:50:54 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1531)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 7164)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 7602)


Started GET "/register" for ::1 at 2024-03-05 16:50:56 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1164)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 6623)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 7329)


Started POST "/register" for ::1 at 2024-03-05 16:51:00 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 21:51:00.687585"], ["updated_at", "2024-03-05 21:51:00.687585"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-05 21:51:00.691485"], ["updated_at", "2024-03-05 21:51:00.691485"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 258ms (ActiveRecord: 3.3ms | Allocations: 4766)


Started GET "/home" for ::1 at 2024-03-05 16:51:00 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 890)


Started GET "/login" for ::1 at 2024-03-05 16:51:00 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 439)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 5895)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms | Allocations: 6142)


Started POST "/login" for ::1 at 2024-03-05 16:51:03 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 255ms (ActiveRecord: 0.2ms | Allocations: 907)


Started GET "/home" for ::1 at 2024-03-05 16:51:04 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 531)
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 6659)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.9ms | Allocations: 7834)


Started GET "/cities" for ::1 at 2024-03-05 16:51:04 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 7435)
Completed 200 OK in 26ms (Views: 24.8ms | ActiveRecord: 0.7ms | Allocations: 7711)


Started GET "/apartments" for ::1 at 2024-03-05 16:51:05 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 7913)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 0.7ms | Allocations: 8757)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:51:06 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3333)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 9445)
Completed 200 OK in 21ms (Views: 12.7ms | ActiveRecord: 1.8ms | Allocations: 13014)


Started PATCH "/apartments/2/occupy" for ::1 at 2024-03-05 16:51:09 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:28:in `occupy'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 21:51:09.393315"], ["apartment_id", 2], ["id", 4]]
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 15ms (ActiveRecord: 3.8ms | Allocations: 5282)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:51:09 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2955)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 9068)
Completed 200 OK in 15ms (Views: 9.5ms | ActiveRecord: 1.2ms | Allocations: 12652)


Started GET "/home" for ::1 at 2024-03-05 16:51:13 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 944)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 7072)
Completed 200 OK in 16ms (Views: 10.1ms | ActiveRecord: 1.1ms | Allocations: 8937)


Started GET "/cities" for ::1 at 2024-03-05 16:51:14 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 530)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 7428)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.6ms | Allocations: 7704)


Started GET "/apartments" for ::1 at 2024-03-05 16:51:14 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (2.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 7906)
Completed 200 OK in 35ms (Views: 27.0ms | ActiveRecord: 6.1ms | Allocations: 8738)


Started DELETE "/logout" for ::1 at 2024-03-05 16:51:16 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 371)


Started GET "/" for ::1 at 2024-03-05 16:51:16 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 892)


Started GET "/login" for ::1 at 2024-03-05 16:51:16 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 442)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 5902)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms | Allocations: 6150)


Started POST "/login" for ::1 at 2024-03-05 16:51:19 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 234ms (ActiveRecord: 0.2ms | Allocations: 799)


Started GET "/home" for ::1 at 2024-03-05 16:51:19 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 944)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 7072)
Completed 200 OK in 8ms (Views: 5.5ms | ActiveRecord: 0.9ms | Allocations: 8970)


Started GET "/apartments" for ::1 at 2024-03-05 16:51:20 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 7762)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.6ms | Allocations: 8602)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:51:21 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 122)
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 12.0ms | Allocations: 4484)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 4575)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.5ms | Allocations: 8146)


  
ActionView::Template::Error (undefined method `has_free_bedrooms?' for an instance of Apartment):
    14: 
    15:       <% if current_user.apartment_id == @apartment.id %>
    16:   <%= button_to("Move Out", vacate_apartment_path(@apartment), method: :patch, class: "button-small bg-red-600") %>
    17: <% elsif @apartment.unoccupied? || @apartment.has_free_bedrooms? && !@apartment.current_resident?(current_user) %>
    18:   <%= button_to("Move In", occupy_apartment_path(@apartment), method: :patch, class: "button-small bg-green-600") %>
    19: <% elsif !@apartment.unoccupied? && @apartment.has_free_bedrooms? %>
    20:   <%= button_to("Apply", apartment_apartment_requests_path(@apartment), method: :post, class: "button-small bg-blue-600") %>
  
app/views/apartments/show.html.erb:17
Started GET "/" for ::1 at 2024-03-05 16:53:05 -0500
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 47ms (ActiveRecord: 16.7ms | Allocations: 15103)


Started GET "/login" for ::1 at 2024-03-05 16:53:05 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2890)
  Rendered layout layouts/application.html.erb (Duration: 45.7ms | Allocations: 55292)
Completed 200 OK in 53ms (Views: 47.7ms | ActiveRecord: 0.0ms | Allocations: 58635)


Started POST "/login" for ::1 at 2024-03-05 16:53:08 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 264ms (ActiveRecord: 20.0ms | Allocations: 9811)


Started GET "/home" for ::1 at 2024-03-05 16:53:08 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (11.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:10
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mApartmentRequest Load (0.8ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:27
  Rendered home/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 16153)
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 30754)
Completed 200 OK in 61ms (Views: 16.6ms | ActiveRecord: 26.6ms | Allocations: 50957)


Started GET "/apartments" for ::1 at 2024-03-05 16:53:12 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 4.8ms | Allocations: 2004)
  Rendered apartments/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3005)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 9437)
Completed 200 OK in 22ms (Views: 15.0ms | ActiveRecord: 1.1ms | Allocations: 10605)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:53:13 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 361)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `has_free_bedrooms?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.0ms | Allocations: 6006)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 12115)
Completed 200 OK in 46ms (Views: 13.2ms | ActiveRecord: 2.2ms | Allocations: 17840)


Started GET "/home" for ::1 at 2024-03-05 16:53:15 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.5ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:10
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:27
  Rendered home/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2091)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 8205)
Completed 200 OK in 19ms (Views: 10.6ms | ActiveRecord: 1.7ms | Allocations: 10098)


Started GET "/apartments" for ::1 at 2024-03-05 16:53:16 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 7762)
Completed 200 OK in 24ms (Views: 20.2ms | ActiveRecord: 0.9ms | Allocations: 8612)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:53:20 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `has_free_bedrooms?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3759)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 9952)
Completed 200 OK in 24ms (Views: 12.0ms | ActiveRecord: 2.3ms | Allocations: 13525)


Started GET "/home" for ::1 at 2024-03-05 16:53:21 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:10
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:27
  Rendered home/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2087)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 8201)
Completed 200 OK in 25ms (Views: 13.9ms | ActiveRecord: 2.2ms | Allocations: 10081)


Started GET "/apartments" for ::1 at 2024-03-05 16:53:22 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 7762)
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 0.7ms | Allocations: 8614)


Started GET "/apartments/3" for ::1 at 2024-03-05 16:53:23 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 9442)
Completed 200 OK in 21ms (Views: 10.3ms | ActiveRecord: 2.3ms | Allocations: 12996)


Started GET "/home" for ::1 at 2024-03-05 16:53:24 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:10
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:27
  Rendered home/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2087)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 8201)
Completed 200 OK in 16ms (Views: 10.6ms | ActiveRecord: 1.3ms | Allocations: 10096)


Started GET "/apartments" for ::1 at 2024-03-05 16:53:24 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 7967)
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.7ms | Allocations: 8829)


Started GET "/apartments/4" for ::1 at 2024-03-05 16:53:25 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3334)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 9523)
Completed 200 OK in 22ms (Views: 13.3ms | ActiveRecord: 1.6ms | Allocations: 13081)


Started GET "/home" for ::1 at 2024-03-05 16:53:26 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (2.9ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:10
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:27
  Rendered home/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2087)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 8201)
Completed 200 OK in 25ms (Views: 10.2ms | ActiveRecord: 3.9ms | Allocations: 10087)


Started GET "/apartments/1" for ::1 at 2024-03-05 16:53:27 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.5ms | Allocations: 2951)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 9060)
Completed 200 OK in 23ms (Views: 13.3ms | ActiveRecord: 2.3ms | Allocations: 12609)


Started GET "/cities" for ::1 at 2024-03-05 16:53:29 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 733)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 7443)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.7ms | Allocations: 8086)


Started GET "/apartments" for ::1 at 2024-03-05 16:53:30 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.5ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.2ms | Allocations: 7965)
Completed 200 OK in 28ms (Views: 24.3ms | ActiveRecord: 1.0ms | Allocations: 8803)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:53:35 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (7.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `has_free_bedrooms?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3759)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 10036)
Completed 200 OK in 32ms (Views: 13.0ms | ActiveRecord: 9.2ms | Allocations: 13593)


Started PATCH "/apartments/2/occupy" for ::1 at 2024-03-05 16:53:37 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:28:in `occupy'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
  [1m[36mUser Update (3.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 21:53:37.237976"], ["apartment_id", 2], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 21ms (ActiveRecord: 6.4ms | Allocations: 6643)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:53:37 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3022)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 9135)
Completed 200 OK in 17ms (Views: 10.6ms | ActiveRecord: 1.6ms | Allocations: 12713)


Started GET "/home" for ::1 at 2024-03-05 16:53:41 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:10
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:27
  Rendered home/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2086)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 8200)
Completed 200 OK in 19ms (Views: 13.0ms | ActiveRecord: 1.2ms | Allocations: 10080)


Started GET "/apartments" for ::1 at 2024-03-05 16:53:42 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.5ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.3ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 7762)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 1.0ms | Allocations: 8611)


Started GET "/cities" for ::1 at 2024-03-05 16:53:43 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 7430)
Completed 200 OK in 17ms (Views: 15.7ms | ActiveRecord: 0.9ms | Allocations: 7707)


Started GET "/apartments" for ::1 at 2024-03-05 16:53:44 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 7913)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 0.6ms | Allocations: 8766)


Started GET "/apartments/3" for ::1 at 2024-03-05 16:53:45 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 9445)
Completed 200 OK in 22ms (Views: 12.4ms | ActiveRecord: 1.8ms | Allocations: 12995)


Started GET "/cities" for ::1 at 2024-03-05 16:53:47 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 530)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 7227)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 1.0ms | Allocations: 7502)


Started GET "/home" for ::1 at 2024-03-05 16:53:47 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:10
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  [1m[36mApartmentRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:27
  Rendered home/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2086)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 8200)
Completed 200 OK in 23ms (Views: 16.1ms | ActiveRecord: 1.9ms | Allocations: 10080)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:53:54 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2978)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 9277)
Completed 200 OK in 38ms (Views: 20.2ms | ActiveRecord: 1.8ms | Allocations: 12833)


Started PATCH "/apartments/2/vacate" for ::1 at 2024-03-05 16:53:56 -0500
Processing by ApartmentsController#vacate as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:42:in `block in vacate'
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 21:53:56.352372"], ["apartment_id", nil], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:42:in `block in vacate'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:42:in `block in vacate'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 18ms (ActiveRecord: 3.6ms | Allocations: 4865)


Started GET "/apartments/2" for ::1 at 2024-03-05 16:53:56 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:20:in `has_free_bedrooms?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3759)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 10042)
Completed 200 OK in 19ms (Views: 11.2ms | ActiveRecord: 1.5ms | Allocations: 13621)


Started GET "/home" for ::1 at 2024-03-05 16:53:58 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  Rendered home/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 531)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 6659)
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 0.8ms | Allocations: 7831)


Started GET "/cities" for ::1 at 2024-03-05 16:53:59 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 7233)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.9ms | Allocations: 7508)


Started GET "/apartments" for ::1 at 2024-03-05 16:53:59 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 7762)
Completed 200 OK in 22ms (Views: 17.8ms | ActiveRecord: 1.0ms | Allocations: 8620)


Started GET "/apartments/3" for ::1 at 2024-03-05 16:55:58 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 121)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.4ms | Allocations: 3333)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 9646)
Completed 200 OK in 31ms (Views: 17.6ms | ActiveRecord: 2.4ms | Allocations: 13196)


Started PATCH "/apartments/3/occupy" for ::1 at 2024-03-05 16:55:58 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:28:in `occupy'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
  [1m[36mUser Update (2.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 21:55:58.995555"], ["apartment_id", 3], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
  [1m[36mTRANSACTION (11.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:31:in `block in occupy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 27ms (ActiveRecord: 14.4ms | Allocations: 5268)


Started GET "/apartments/3" for ::1 at 2024-03-05 16:55:59 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2955)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 9230)
Completed 200 OK in 18ms (Views: 10.7ms | ActiveRecord: 1.5ms | Allocations: 12803)


Started PATCH "/apartments/3/vacate" for ::1 at 2024-03-05 16:55:59 -0500
Processing by ApartmentsController#vacate as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:42:in `block in vacate'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 21:55:59.680663"], ["apartment_id", nil], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:42:in `block in vacate'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:42:in `block in vacate'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 11ms (ActiveRecord: 2.1ms | Allocations: 4853)


Started GET "/apartments/3" for ::1 at 2024-03-05 16:55:59 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 9446)
Completed 200 OK in 14ms (Views: 8.8ms | ActiveRecord: 1.0ms | Allocations: 13026)


Started GET "/cities" for ::1 at 2024-03-05 17:24:38 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 12757)
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 142.1ms | Allocations: 73352)
Completed 500 Internal Server Error in 160ms (ActiveRecord: 80.9ms | Allocations: 85005)


  
ActionView::Template::Error (Couldn't find User with 'id'=6):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/" for ::1 at 2024-03-05 17:24:39 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1006)


Started GET "/login" for ::1 at 2024-03-05 17:24:39 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1612)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 8432)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 8912)


  
ActionView::Template::Error (Couldn't find User with 'id'=6):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/" for ::1 at 2024-03-05 17:24:39 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 53ms (ActiveRecord: 4.4ms | Allocations: 788)


Started GET "/login" for ::1 at 2024-03-05 17:24:39 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 433)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 34.7ms | Allocations: 7246)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.8ms | Allocations: 7468)


  
ActionView::Template::Error (Couldn't find User with 'id'=6):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 17:24:43 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 538)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 6153)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 1.5ms | Allocations: 6469)


Started GET "/login" for ::1 at 2024-03-05 17:24:46 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 417)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 5951)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 6205)


Started GET "/register" for ::1 at 2024-03-05 17:24:47 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1762)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 7222)
Completed 200 OK in 22ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 12719)


Started POST "/register" for ::1 at 2024-03-05 17:24:51 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"j@j.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (3.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "j@j.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:24:52.136482"], ["updated_at", "2024-03-05 22:24:52.136482"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 5], ["created_at", "2024-03-05 22:24:52.165971"], ["updated_at", "2024-03-05 22:24:52.165971"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 266ms (ActiveRecord: 11.6ms | Allocations: 15280)


Started GET "/home" for ::1 at 2024-03-05 17:24:52 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 916)


Started GET "/login" for ::1 at 2024-03-05 17:24:52 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 5912)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 6204)


Started POST "/login" for ::1 at 2024-03-05 17:24:54 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"j@j.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "j@j.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.3ms | Allocations: 931)


Started GET "/home" for ::1 at 2024-03-05 17:24:54 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.8ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:19
  Rendered home/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2127)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 8312)
Completed 200 OK in 18ms (Views: 5.2ms | ActiveRecord: 5.5ms | Allocations: 15823)


Started GET "/apartments" for ::1 at 2024-03-05 17:24:56 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (1.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 4.1ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 11472)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 17905)
Completed 200 OK in 28ms (Views: 21.7ms | ActiveRecord: 2.4ms | Allocations: 19117)


Started GET "/apartments/2" for ::1 at 2024-03-05 17:24:57 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.9ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 359)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 6950)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 13068)
Completed 200 OK in 50ms (Views: 21.2ms | ActiveRecord: 6.0ms | Allocations: 23762)


Started GET "/apartments" for ::1 at 2024-03-05 17:25:03 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 7770)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.7ms | Allocations: 8623)


Started GET "/apartments/3" for ::1 at 2024-03-05 17:25:04 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3336)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 9447)
Completed 200 OK in 22ms (Views: 11.2ms | ActiveRecord: 1.9ms | Allocations: 13009)


Started PUT "/apartments/3/occupy" for ::1 at 2024-03-05 17:25:05 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/3/occupy"):
  
Started GET "/apartments/3" for ::1 at 2024-03-05 17:25:05 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 9525)
Completed 200 OK in 10ms (Views: 5.3ms | ActiveRecord: 1.4ms | Allocations: 13098)


Started PUT "/apartments/3/occupy" for ::1 at 2024-03-05 17:25:07 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/3/occupy"):
  
Started GET "/apartments/3" for ::1 at 2024-03-05 17:25:07 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 121)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 9525)
Completed 200 OK in 11ms (Views: 6.3ms | ActiveRecord: 1.5ms | Allocations: 13081)


Started PUT "/apartments/3/occupy" for ::1 at 2024-03-05 17:25:07 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/3/occupy"):
  
Started GET "/apartments/3" for ::1 at 2024-03-05 17:25:07 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 9525)
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 1.3ms | Allocations: 13069)


Started PUT "/apartments/3/occupy" for ::1 at 2024-03-05 17:25:08 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/3/occupy"):
  
Started GET "/apartments/3" for ::1 at 2024-03-05 17:25:08 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 121)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 9526)
Completed 200 OK in 12ms (Views: 7.6ms | ActiveRecord: 1.4ms | Allocations: 13081)


Started PUT "/apartments/3/occupy" for ::1 at 2024-03-05 17:25:08 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/3/occupy"):
  
Started GET "/apartments/3" for ::1 at 2024-03-05 17:25:08 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:91:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 9525)
Completed 200 OK in 12ms (Views: 6.7ms | ActiveRecord: 1.3ms | Allocations: 13077)


  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (34.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_development"[0m
  [1m[35m (21.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_test"[0m
  [1m[35m (93.0ms)[0m  [1m[35mCREATE DATABASE "roommatic_development" ENCODING = 'unicode'[0m
  [1m[35m (31.1ms)[0m  [1m[35mCREATE DATABASE "roommatic_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 22:26:40.761237', '2024-03-05 22:26:40.761240') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 22:26:40.762876', '2024-03-05 22:26:40.762877') RETURNING "key"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 22:26:40.800924', '2024-03-05 22:26:40.800926') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-03-05 22:26:40.801655' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 22:26:40.802226', '2024-03-05 22:26:40.802226') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "New York City"], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "New York City"], ["state", "New York"], ["created_at", "2024-03-05 22:26:40.829376"], ["updated_at", "2024-03-05 22:26:40.829376"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "Boston"], ["LIMIT", 1]]
  [1m[36mCity Create (0.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Boston"], ["state", "Massachusetts"], ["created_at", "2024-03-05 22:26:40.835698"], ["updated_at", "2024-03-05 22:26:40.835698"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.7ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lower East Side"], ["city_id", 1], ["created_at", "2024-03-05 22:26:40.843068"], ["updated_at", "2024-03-05 22:26:40.843068"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Back Bay"], ["city_id", 2], ["created_at", "2024-03-05 22:26:40.844553"], ["updated_at", "2024-03-05 22:26:40.844553"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cambridge"], ["city_id", 2], ["created_at", "2024-03-05 22:26:40.845859"], ["updated_at", "2024-03-05 22:26:40.845859"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.9ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "372 Marlborough St."], ["bedrooms", 1], ["rent", "825.0"], ["notes", "My rent in 1990"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 22:26:40.853607"], ["updated_at", "2024-03-05 22:26:40.853607"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "350 Newbury St"], ["bedrooms", 3], ["rent", "4000.0"], ["notes", "Right next to Newbury comics!"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 22:26:40.855341"], ["updated_at", "2024-03-05 22:26:40.855341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "290 Highland Ave"], ["bedrooms", 2], ["rent", "1800.0"], ["notes", "My rent in 1995"], ["neighborhood_id", 3], ["city_id", 2], ["created_at", "2024-03-05 22:26:40.856600"], ["updated_at", "2024-03-05 22:26:40.856600"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "123 Houston Street"], ["bedrooms", 3], ["rent", "3000.0"], ["notes", "near Death & Co."], ["neighborhood_id", 1], ["city_id", 1], ["created_at", "2024-03-05 22:26:40.857808"], ["updated_at", "2024-03-05 22:26:40.857808"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon@jonphillips.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:26:41.073289"], ["updated_at", "2024-03-05 22:26:41.073289"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.9ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 1], ["created_at", "2024-03-05 22:26:41.085766"], ["updated_at", "2024-03-05 22:26:41.085766"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon.phillips@duke.edu"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:26:41.295021"], ["updated_at", "2024-03-05 22:26:41.295021"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 2], ["created_at", "2024-03-05 22:26:41.296512"], ["updated_at", "2024-03-05 22:26:41.296512"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cities" for ::1 at 2024-03-05 17:26:59 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 30.0ms | Allocations: 12757)
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 135.0ms | Allocations: 73348)
Completed 500 Internal Server Error in 157ms (ActiveRecord: 60.2ms | Allocations: 85001)


  
ActionView::Template::Error (Couldn't find User with 'id'=5):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 17:27:00 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 541)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 7532)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.7ms | Allocations: 7795)


  
ActionView::Template::Error (Couldn't find User with 'id'=5):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/" for ::1 at 2024-03-05 17:27:02 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 985)


Started GET "/login" for ::1 at 2024-03-05 17:27:02 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1594)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 8412)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms | Allocations: 8891)


  
ActionView::Template::Error (Couldn't find User with 'id'=5):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/login" for ::1 at 2024-03-05 17:27:06 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 433)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 7260)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.3ms | Allocations: 7486)


  
ActionView::Template::Error (Couldn't find User with 'id'=6):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/login" for ::1 at 2024-03-05 17:27:15 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 318)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 5864)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 6140)


Started GET "/register" for ::1 at 2024-03-05 17:27:17 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1762)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 7303)
Completed 200 OK in 14ms (Views: 8.0ms | ActiveRecord: 0.0ms | Allocations: 12783)


Started POST "/register" for ::1 at 2024-03-05 17:27:21 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (14.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:27:22.150942"], ["updated_at", "2024-03-05 22:27:22.150942"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (1.3ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 3], ["created_at", "2024-03-05 22:27:22.176826"], ["updated_at", "2024-03-05 22:27:22.176826"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 262ms (ActiveRecord: 19.4ms | Allocations: 15285)


Started GET "/home" for ::1 at 2024-03-05 17:27:22 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 925)


Started GET "/login" for ::1 at 2024-03-05 17:27:22 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 452)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | Allocations: 5911)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 6202)


Started POST "/login" for ::1 at 2024-03-05 17:27:23 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 241ms (ActiveRecord: 0.8ms | Allocations: 941)


Started GET "/home" for ::1 at 2024-03-05 17:27:23 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (1.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  Rendered home/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2127)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 8389)
Completed 200 OK in 20ms (Views: 4.5ms | ActiveRecord: 6.6ms | Allocations: 15888)


Started GET "/apartments" for ::1 at 2024-03-05 17:27:24 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.8ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.7ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 15.6ms | Allocations: 11472)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 17931)
Completed 200 OK in 27ms (Views: 20.5ms | ActiveRecord: 2.3ms | Allocations: 19104)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:27:25 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.8ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 351)
  [1m[36mUser Count (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 7021)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 13212)
Completed 200 OK in 42ms (Views: 15.9ms | ActiveRecord: 7.7ms | Allocations: 23918)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 17:27:26 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 17:27:26 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 9519)
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 1.3ms | Allocations: 13087)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 17:27:28 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 17:27:28 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3326)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 9519)
Completed 200 OK in 11ms (Views: 6.8ms | ActiveRecord: 1.1ms | Allocations: 13078)


Started PUT "/apartments/1/occupy" for ::1 at 2024-03-05 17:27:29 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/1/occupy"):
  
Started GET "/apartments/1" for ::1 at 2024-03-05 17:27:29 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3326)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | Allocations: 9519)
Completed 200 OK in 13ms (Views: 7.5ms | ActiveRecord: 1.6ms | Allocations: 13089)


Started GET "/apartments" for ::1 at 2024-03-05 17:27:30 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.5ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 7762)
Completed 200 OK in 18ms (Views: 13.4ms | ActiveRecord: 0.8ms | Allocations: 8620)


Started GET "/apartments/2" for ::1 at 2024-03-05 17:27:32 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3333)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 9442)
Completed 200 OK in 29ms (Views: 14.8ms | ActiveRecord: 2.6ms | Allocations: 13013)


Started PUT "/apartments/2/occupy" for ::1 at 2024-03-05 17:27:32 -0500
  
ActionController::RoutingError (No route matches [PUT] "/apartments/2/occupy"):
  
Started GET "/apartments/2" for ::1 at 2024-03-05 17:27:32 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 9526)
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 1.3ms | Allocations: 13084)


Started GET "/cities" for ::1 at 2024-03-05 17:30:43 -0500
  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (2.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 29.0ms | Allocations: 12751)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 182.4ms | Allocations: 73340)
Completed 500 Internal Server Error in 201ms (ActiveRecord: 110.5ms | Allocations: 84993)


  
ActionView::Template::Error (Couldn't find User with 'id'=5):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 17:30:44 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 541)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 7548)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.7ms | Allocations: 7811)


  
ActionView::Template::Error (Couldn't find User with 'id'=5):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 17:30:49 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 536)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 7538)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.6ms | Allocations: 7799)


  
ActionView::Template::Error (Couldn't find User with 'id'=5):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 17:30:50 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 536)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 7538)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.5ms | Allocations: 7799)


  
ActionView::Template::Error (Couldn't find User with 'id'=5):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 17:31:02 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (12.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 536)
  Rendered layout layouts/application.html.erb (Duration: 21.1ms | Allocations: 6174)
Completed 200 OK in 24ms (Views: 9.9ms | ActiveRecord: 12.4ms | Allocations: 6505)


Started GET "/login" for ::1 at 2024-03-05 17:31:05 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1587)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 7126)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 7629)


Started GET "/register" for ::1 at 2024-03-05 17:31:06 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1762)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 7249)
Completed 200 OK in 19ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 12728)


Started POST "/register" for ::1 at 2024-03-05 17:31:11 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (4.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:31:11.598514"], ["updated_at", "2024-03-05 22:31:11.598514"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-05 22:31:11.616967"], ["updated_at", "2024-03-05 22:31:11.616967"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 254ms (ActiveRecord: 12.4ms | Allocations: 15339)


Started GET "/home" for ::1 at 2024-03-05 17:31:11 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1051)


Started GET "/login" for ::1 at 2024-03-05 17:31:11 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 440)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 5899)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 6190)


Started POST "/login" for ::1 at 2024-03-05 17:31:14 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.3ms | Allocations: 955)


Started GET "/home" for ::1 at 2024-03-05 17:31:15 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.7ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  Rendered home/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2129)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 8390)
Completed 200 OK in 25ms (Views: 5.1ms | ActiveRecord: 6.5ms | Allocations: 15886)


Started GET "/apartments" for ::1 at 2024-03-05 17:31:17 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (1.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 4.1ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 11472)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 17929)
Completed 200 OK in 31ms (Views: 24.7ms | ActiveRecord: 2.6ms | Allocations: 19122)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:31:17 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.6ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 351)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 7614)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 13726)
Completed 200 OK in 38ms (Views: 12.1ms | ActiveRecord: 4.6ms | Allocations: 24424)


Started PATCH "/apartments/1/occupy" for ::1 at 2024-03-05 17:31:18 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (2.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 22:31:18.969605"], ["apartment_id", 1], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 24ms (ActiveRecord: 3.7ms | Allocations: 5127)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:31:18 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (1.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 20.1ms | Allocations: 9832)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | Allocations: 16031)
Completed 200 OK in 31ms (Views: 22.6ms | ActiveRecord: 4.3ms | Allocations: 19598)


Started GET "/cities" for ::1 at 2024-03-05 17:31:22 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.7ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 7220)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 1.2ms | Allocations: 7496)


Started GET "/apartments" for ::1 at 2024-03-05 17:31:22 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 7763)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 0.6ms | Allocations: 8615)


Started GET "/home" for ::1 at 2024-03-05 17:31:23 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:10
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:19
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:27
  Rendered home/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 2174)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 8372)
Completed 200 OK in 28ms (Views: 20.9ms | ActiveRecord: 1.5ms | Allocations: 10994)


Started GET "/cities" for ::1 at 2024-03-05 17:31:24 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 530)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 7266)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.8ms | Allocations: 7541)


Started GET "/apartments" for ::1 at 2024-03-05 17:31:24 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 7790)
Completed 200 OK in 17ms (Views: 13.3ms | ActiveRecord: 0.9ms | Allocations: 8670)


Started DELETE "/logout" for ::1 at 2024-03-05 17:31:26 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 369)


Started GET "/" for ::1 at 2024-03-05 17:31:26 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 900)


Started GET "/login" for ::1 at 2024-03-05 17:31:26 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 457)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 5914)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 6161)


Started GET "/register" for ::1 at 2024-03-05 17:31:29 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 6026)
Completed 200 OK in 17ms (Views: 15.9ms | ActiveRecord: 0.0ms | Allocations: 6433)


Started POST "/register" for ::1 at 2024-03-05 17:31:32 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"jeff@jeff.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jeff@jeff.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:31:32.270535"], ["updated_at", "2024-03-05 22:31:32.270535"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 5], ["created_at", "2024-03-05 22:31:32.273004"], ["updated_at", "2024-03-05 22:31:32.273004"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 242ms (ActiveRecord: 3.0ms | Allocations: 3752)


Started GET "/home" for ::1 at 2024-03-05 17:31:32 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms | Allocations: 887)


Started GET "/login" for ::1 at 2024-03-05 17:31:32 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 436)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 5971)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 6218)


Started POST "/login" for ::1 at 2024-03-05 17:31:35 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"jeff@jeff.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jeff@jeff.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.3ms | Allocations: 802)


Started GET "/home" for ::1 at 2024-03-05 17:31:35 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:19
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 6685)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.6ms | Allocations: 7855)


Started GET "/apartments" for ::1 at 2024-03-05 17:31:36 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 7763)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.7ms | Allocations: 8622)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:31:37 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 6.5ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 16.8ms | Allocations: 5594)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | Allocations: 11789)
Completed 200 OK in 32ms (Views: 22.8ms | ActiveRecord: 2.5ms | Allocations: 15345)


Started POST "/apartments/1/apartment_requests" for ::1 at 2024-03-05 17:31:38 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (3.4ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 1], ["user_id", 5], ["status", 0], ["created_at", "2024-03-05 22:31:39.019293"], ["updated_at", "2024-03-05 22:31:39.019293"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 19ms (ActiveRecord: 4.3ms | Allocations: 7302)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:31:39 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.1ms | Allocations: 6681)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 12870)
Completed 200 OK in 21ms (Views: 14.3ms | ActiveRecord: 2.3ms | Allocations: 16448)


Started GET "/home" for ::1 at 2024-03-05 17:31:40 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:19
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:21
  Rendered home/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1958)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 8072)
Completed 200 OK in 16ms (Views: 11.9ms | ActiveRecord: 0.7ms | Allocations: 9253)


Started GET "/apartments" for ::1 at 2024-03-05 17:31:41 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (1.7ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 7847)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 2.1ms | Allocations: 8709)


Started GET "/apartments/2" for ::1 at 2024-03-05 17:31:42 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.8ms | Allocations: 122)
  [1m[36mUser Count (4.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 18.3ms | Allocations: 3733)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 27.4ms | Allocations: 9919)
Completed 200 OK in 39ms (Views: 20.0ms | ActiveRecord: 9.0ms | Allocations: 13508)


Started DELETE "/logout" for ::1 at 2024-03-05 17:31:44 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 359)


Started GET "/" for ::1 at 2024-03-05 17:31:44 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 894)


Started GET "/login" for ::1 at 2024-03-05 17:31:44 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 454)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 5911)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 6158)


Started POST "/login" for ::1 at 2024-03-05 17:31:48 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 764)


Started GET "/login" for ::1 at 2024-03-05 17:31:48 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 467)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 5927)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 6175)


Started POST "/login" for ::1 at 2024-03-05 17:31:53 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 235ms (ActiveRecord: 0.2ms | Allocations: 781)


Started GET "/home" for ::1 at 2024-03-05 17:31:53 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:19
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 6739)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.8ms | Allocations: 7921)


Started GET "/apartments" for ::1 at 2024-03-05 17:31:55 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 7765)
Completed 200 OK in 17ms (Views: 12.6ms | ActiveRecord: 0.7ms | Allocations: 8590)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:31:56 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.5ms | Allocations: 6210)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | Allocations: 12320)
Completed 200 OK in 27ms (Views: 16.0ms | ActiveRecord: 2.6ms | Allocations: 15880)


Started GET "/home" for ::1 at 2024-03-05 17:31:58 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:19
  Rendered home/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 531)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 6744)
Completed 200 OK in 23ms (Views: 18.5ms | ActiveRecord: 0.8ms | Allocations: 7914)


Started GET "/apartments" for ::1 at 2024-03-05 17:32:09 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (11.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 7842)
Completed 200 OK in 31ms (Views: 13.9ms | ActiveRecord: 12.0ms | Allocations: 8674)


Started GET "/home" for ::1 at 2024-03-05 17:32:10 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:19
  Rendered home/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 6686)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 0.5ms | Allocations: 7867)


Started GET "/cities" for ::1 at 2024-03-05 17:32:13 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 7228)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.8ms | Allocations: 7504)


Started GET "/apartments" for ::1 at 2024-03-05 17:32:14 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 7762)
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 0.7ms | Allocations: 8611)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:32:14 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.9ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 14.1ms | Allocations: 6210)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 12403)
Completed 200 OK in 29ms (Views: 15.2ms | ActiveRecord: 6.7ms | Allocations: 15972)


Started GET "/home" for ::1 at 2024-03-05 17:32:17 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:19
  Rendered home/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 6685)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 0.6ms | Allocations: 7855)


Started GET "/cities" for ::1 at 2024-03-05 17:33:07 -0500
  [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 27.9ms | Allocations: 12751)
  Rendered layout layouts/application.html.erb (Duration: 73.4ms | Allocations: 67608)
Completed 200 OK in 90ms (Views: 57.9ms | ActiveRecord: 17.6ms | Allocations: 79313)


Started GET "/" for ::1 at 2024-03-05 17:33:08 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 22ms (ActiveRecord: 1.8ms | Allocations: 6218)


Started GET "/login" for ::1 at 2024-03-05 17:33:08 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1612)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 7281)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 7783)


Started POST "/login" for ::1 at 2024-03-05 17:33:11 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1462)


Started GET "/login" for ::1 at 2024-03-05 17:33:11 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 444)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | Allocations: 5899)
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.0ms | Allocations: 6191)


Started GET "/register" for ::1 at 2024-03-05 17:33:13 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 9.2ms | Allocations: 1761)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 7429)
Completed 200 OK in 27ms (Views: 15.8ms | ActiveRecord: 2.3ms | Allocations: 12961)


Started POST "/register" for ::1 at 2024-03-05 17:33:16 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (3.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:33:16.663474"], ["updated_at", "2024-03-05 22:33:16.663474"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (2.7ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 6], ["created_at", "2024-03-05 22:33:16.680234"], ["updated_at", "2024-03-05 22:33:16.680234"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 259ms (ActiveRecord: 12.3ms | Allocations: 15277)


Started GET "/home" for ::1 at 2024-03-05 17:33:16 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 877)


Started GET "/login" for ::1 at 2024-03-05 17:33:16 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 443)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 6026)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms | Allocations: 6274)


Started POST "/login" for ::1 at 2024-03-05 17:33:19 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.3ms | Allocations: 818)


Started GET "/home" for ::1 at 2024-03-05 17:33:19 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.4ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1997)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 8296)
Completed 200 OK in 24ms (Views: 12.3ms | ActiveRecord: 4.8ms | Allocations: 16291)


Started GET "/apartments" for ::1 at 2024-03-05 17:33:20 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (1.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.4ms | Allocations: 1938)
  Rendered apartments/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 11484)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 18038)
Completed 200 OK in 36ms (Views: 25.6ms | ActiveRecord: 2.3ms | Allocations: 19220)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:33:21 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 353)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 17.4ms | Allocations: 16599)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 22715)
Completed 200 OK in 48ms (Views: 21.2ms | ActiveRecord: 5.4ms | Allocations: 33419)


  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (37.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_development"[0m
  [1m[35m (22.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_test"[0m
  [1m[35m (89.9ms)[0m  [1m[35mCREATE DATABASE "roommatic_development" ENCODING = 'unicode'[0m
  [1m[35m (31.1ms)[0m  [1m[35mCREATE DATABASE "roommatic_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 22:33:31.439755', '2024-03-05 22:33:31.439758') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 22:33:31.441830', '2024-03-05 22:33:31.441831') RETURNING "key"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 22:33:31.475487', '2024-03-05 22:33:31.475488') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-03-05 22:33:31.476316' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 22:33:31.476990', '2024-03-05 22:33:31.476990') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "New York City"], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "New York City"], ["state", "New York"], ["created_at", "2024-03-05 22:33:31.513154"], ["updated_at", "2024-03-05 22:33:31.513154"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "Boston"], ["LIMIT", 1]]
  [1m[36mCity Create (0.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Boston"], ["state", "Massachusetts"], ["created_at", "2024-03-05 22:33:31.515638"], ["updated_at", "2024-03-05 22:33:31.515638"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.8ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lower East Side"], ["city_id", 1], ["created_at", "2024-03-05 22:33:31.523041"], ["updated_at", "2024-03-05 22:33:31.523041"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Back Bay"], ["city_id", 2], ["created_at", "2024-03-05 22:33:31.524812"], ["updated_at", "2024-03-05 22:33:31.524812"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cambridge"], ["city_id", 2], ["created_at", "2024-03-05 22:33:31.526039"], ["updated_at", "2024-03-05 22:33:31.526039"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (1.0ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "372 Marlborough St."], ["bedrooms", 1], ["rent", "825.0"], ["notes", "My rent in 1990"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 22:33:31.533918"], ["updated_at", "2024-03-05 22:33:31.533918"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.5ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "350 Newbury St"], ["bedrooms", 3], ["rent", "4000.0"], ["notes", "Right next to Newbury comics!"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 22:33:31.535873"], ["updated_at", "2024-03-05 22:33:31.535873"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "290 Highland Ave"], ["bedrooms", 2], ["rent", "1800.0"], ["notes", "My rent in 1995"], ["neighborhood_id", 3], ["city_id", 2], ["created_at", "2024-03-05 22:33:31.537222"], ["updated_at", "2024-03-05 22:33:31.537222"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "123 Houston Street"], ["bedrooms", 3], ["rent", "3000.0"], ["notes", "near Death & Co."], ["neighborhood_id", 1], ["city_id", 1], ["created_at", "2024-03-05 22:33:31.538475"], ["updated_at", "2024-03-05 22:33:31.538475"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon@jonphillips.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:33:31.757005"], ["updated_at", "2024-03-05 22:33:31.757005"], ["apartment_id", nil]]
  [1m[36mProfile Create (1.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 1], ["created_at", "2024-03-05 22:33:31.769346"], ["updated_at", "2024-03-05 22:33:31.769346"]]
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon.phillips@duke.edu"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:33:31.980721"], ["updated_at", "2024-03-05 22:33:31.980721"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 2], ["created_at", "2024-03-05 22:33:31.982910"], ["updated_at", "2024-03-05 22:33:31.982910"]]
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cities" for ::1 at 2024-03-05 17:33:37 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 33.6ms | Allocations: 12751)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 87.2ms | Allocations: 73336)
Completed 500 Internal Server Error in 105ms (ActiveRecord: 25.8ms | Allocations: 84989)


  
ActionView::Template::Error (Couldn't find User with 'id'=4):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 17:33:37 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 534)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 7532)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms | Allocations: 7787)


  
ActionView::Template::Error (Couldn't find User with 'id'=4):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 17:33:43 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 537)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 6174)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.5ms | Allocations: 6505)


Started GET "/" for ::1 at 2024-03-05 17:33:44 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1142)


Started GET "/login" for ::1 at 2024-03-05 17:33:44 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1589)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 7051)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms | Allocations: 7551)


Started GET "/register" for ::1 at 2024-03-05 17:33:45 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1763)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 7309)
Completed 200 OK in 22ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 12783)


Started POST "/register" for ::1 at 2024-03-05 17:33:49 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:33:49.334746"], ["updated_at", "2024-03-05 22:33:49.334746"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 3], ["created_at", "2024-03-05 22:33:49.349246"], ["updated_at", "2024-03-05 22:33:49.349246"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 251ms (ActiveRecord: 7.5ms | Allocations: 15319)


Started GET "/home" for ::1 at 2024-03-05 17:33:49 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 892)


Started GET "/login" for ::1 at 2024-03-05 17:33:49 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 447)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 5982)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 6273)


Started POST "/login" for ::1 at 2024-03-05 17:33:52 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.2ms | Allocations: 953)


Started GET "/home" for ::1 at 2024-03-05 17:33:53 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.7ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1991)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 8170)
Completed 200 OK in 17ms (Views: 5.0ms | ActiveRecord: 5.4ms | Allocations: 15653)


Started GET "/apartments" for ::1 at 2024-03-05 17:33:53 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.7ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.4ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 11434)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 17951)
Completed 200 OK in 34ms (Views: 28.2ms | ActiveRecord: 2.3ms | Allocations: 19124)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:33:54 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 351)
  [1m[36mUser Count (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 13.9ms | Allocations: 7619)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 13812)
Completed 200 OK in 50ms (Views: 19.1ms | ActiveRecord: 5.4ms | Allocations: 24548)


Started PATCH "/apartments/1/occupy" for ::1 at 2024-03-05 17:33:55 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 22:33:55.223819"], ["apartment_id", 1], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 20ms (ActiveRecord: 4.0ms | Allocations: 5092)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:33:55 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 12.2ms | Allocations: 8181)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 14298)
Completed 200 OK in 24ms (Views: 16.1ms | ActiveRecord: 3.2ms | Allocations: 17858)


Started GET "/home" for ::1 at 2024-03-05 17:33:56 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (7.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 1022)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | Allocations: 7160)
Completed 200 OK in 36ms (Views: 22.7ms | ActiveRecord: 8.0ms | Allocations: 9760)


Started GET "/cities" for ::1 at 2024-03-05 17:33:57 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 7311)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.8ms | Allocations: 7587)


Started GET "/apartments" for ::1 at 2024-03-05 17:33:57 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.5ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 7764)
Completed 200 OK in 17ms (Views: 13.7ms | ActiveRecord: 0.6ms | Allocations: 8607)


Started GET "/home" for ::1 at 2024-03-05 17:33:58 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1003)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 7135)
Completed 200 OK in 20ms (Views: 12.7ms | ActiveRecord: 1.2ms | Allocations: 9022)


Started GET "/apartments" for ::1 at 2024-03-05 17:33:59 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 7764)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.6ms | Allocations: 8604)


Started GET "/cities" for ::1 at 2024-03-05 17:33:59 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 530)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 7238)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 1.0ms | Allocations: 7513)


Started GET "/apartments" for ::1 at 2024-03-05 17:34:00 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 7848)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.6ms | Allocations: 8701)


Started GET "/home" for ::1 at 2024-03-05 17:34:00 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1003)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 7142)
Completed 200 OK in 19ms (Views: 11.8ms | ActiveRecord: 1.1ms | Allocations: 9029)


Started GET "/home" for ::1 at 2024-03-05 17:34:18 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2065)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 31347)
Completed 200 OK in 53ms (Views: 15.0ms | ActiveRecord: 19.8ms | Allocations: 49996)


Started GET "/apartments" for ::1 at 2024-03-05 17:34:20 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.4ms | Allocations: 984)
  Rendered apartments/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1893)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 8327)
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 0.8ms | Allocations: 9460)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:34:21 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 350)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.7ms | Allocations: 10215)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 16412)
Completed 200 OK in 50ms (Views: 14.9ms | ActiveRecord: 9.6ms | Allocations: 29648)


Started PATCH "/apartments/1/vacate" for ::1 at 2024-03-05 17:34:24 -0500
Processing by ApartmentsController#vacate as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.5ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mUser Update (12.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 22:34:24.234812"], ["apartment_id", nil], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 26ms (ActiveRecord: 14.7ms | Allocations: 5150)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:34:24 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3773)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 9888)
Completed 200 OK in 15ms (Views: 9.1ms | ActiveRecord: 1.5ms | Allocations: 13522)


Started PATCH "/apartments/1/occupy" for ::1 at 2024-03-05 17:34:24 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (6.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 22:34:24.824651"], ["apartment_id", 1], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 18ms (ActiveRecord: 8.3ms | Allocations: 4844)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:34:24 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 5203)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 11402)
Completed 200 OK in 20ms (Views: 12.2ms | ActiveRecord: 2.5ms | Allocations: 14981)


Started GET "/home" for ::1 at 2024-03-05 17:34:25 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1003)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 7161)
Completed 200 OK in 18ms (Views: 11.7ms | ActiveRecord: 1.0ms | Allocations: 9060)


Started GET "/apartments" for ::1 at 2024-03-05 17:35:10 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.6ms | Allocations: 984)
  Rendered apartments/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 5458)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 35059)
Completed 200 OK in 36ms (Views: 18.6ms | ActiveRecord: 10.3ms | Allocations: 45074)


Started GET "/apartments/2" for ::1 at 2024-03-05 17:35:12 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 358)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 7404)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 13602)
Completed 200 OK in 39ms (Views: 11.4ms | ActiveRecord: 7.6ms | Allocations: 29467)


Started GET "/apartments" for ::1 at 2024-03-05 17:35:13 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (1.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.5ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 7764)
Completed 200 OK in 20ms (Views: 15.4ms | ActiveRecord: 1.0ms | Allocations: 8602)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:35:14 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 14.8ms | Allocations: 7821)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 14016)
Completed 200 OK in 31ms (Views: 19.9ms | ActiveRecord: 2.1ms | Allocations: 17599)


Started GET "/apartments" for ::1 at 2024-03-05 17:35:15 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 7770)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.8ms | Allocations: 8625)


Started DELETE "/logout" for ::1 at 2024-03-05 17:35:16 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 478)


Started GET "/" for ::1 at 2024-03-05 17:35:16 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1025)


Started GET "/login" for ::1 at 2024-03-05 17:35:16 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1487)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 6977)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 7457)


Started GET "/register" for ::1 at 2024-03-05 17:35:17 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 984)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 6530)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 7234)


Started POST "/register" for ::1 at 2024-03-05 17:35:20 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"jeff@jeff.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jeff@jeff.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:35:20.733932"], ["updated_at", "2024-03-05 22:35:20.733932"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-05 22:35:20.736209"], ["updated_at", "2024-03-05 22:35:20.736209"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 241ms (ActiveRecord: 2.8ms | Allocations: 4229)


Started GET "/home" for ::1 at 2024-03-05 17:35:20 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms | Allocations: 899)


Started GET "/login" for ::1 at 2024-03-05 17:35:20 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 449)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 5943)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms | Allocations: 6191)


Started POST "/login" for ::1 at 2024-03-05 17:35:23 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"jeff@jeff.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "jeff@jeff.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.2ms | Allocations: 888)


Started GET "/home" for ::1 at 2024-03-05 17:35:23 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1623)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 7770)
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 0.5ms | Allocations: 9168)


Started GET "/cities" for ::1 at 2024-03-05 17:35:24 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 726)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 7522)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 2.2ms | Allocations: 8163)


Started GET "/apartments" for ::1 at 2024-03-05 17:35:25 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 7792)
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 0.7ms | Allocations: 8656)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:35:25 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 5594)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 11707)
Completed 200 OK in 26ms (Views: 15.2ms | ActiveRecord: 2.4ms | Allocations: 15273)


Started POST "/apartments/1/apartment_requests" for ::1 at 2024-03-05 17:35:26 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (4.0ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 1], ["user_id", 4], ["status", 0], ["created_at", "2024-03-05 22:35:26.420230"], ["updated_at", "2024-03-05 22:35:26.420230"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 17ms (ActiveRecord: 4.7ms | Allocations: 7304)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:35:26 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 6726)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 12926)
Completed 200 OK in 18ms (Views: 11.9ms | ActiveRecord: 2.0ms | Allocations: 16494)


Started DELETE "/logout" for ::1 at 2024-03-05 17:35:28 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 344)


Started GET "/" for ::1 at 2024-03-05 17:35:28 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 897)


Started GET "/login" for ::1 at 2024-03-05 17:35:28 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 457)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 5922)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 6170)


Started POST "/login" for ::1 at 2024-03-05 17:35:33 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 237ms (ActiveRecord: 0.3ms | Allocations: 784)


Started GET "/home" for ::1 at 2024-03-05 17:35:33 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.7ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1996)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 2087)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.3ms | Allocations: 4704)


  
ActionView::Template::Error (undefined method `user' for an instance of ApartmentRequest):
     9:   <h2>Requests to Review</h2>
    10:   <ul>
    11:     <% @reviewable_requests.each do |request| %>
    12:       <li><%= request.user.email %> cleanliness: <%= request.user.profile.cleanliness %></li>
    13:     <% end %>
    14:   </ul>
    15: </div>
  
app/views/home/index.html.erb:12
app/views/home/index.html.erb:11
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (41.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_development"[0m
  [1m[35m (20.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_test"[0m
  [1m[35m (87.8ms)[0m  [1m[35mCREATE DATABASE "roommatic_development" ENCODING = 'unicode'[0m
  [1m[35m (30.5ms)[0m  [1m[35mCREATE DATABASE "roommatic_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 22:36:24.695531', '2024-03-05 22:36:24.695533') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 22:36:24.696969', '2024-03-05 22:36:24.696970') RETURNING "key"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 22:36:24.730023', '2024-03-05 22:36:24.730024') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-03-05 22:36:24.730686' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 22:36:24.731212', '2024-03-05 22:36:24.731212') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "New York City"], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "New York City"], ["state", "New York"], ["created_at", "2024-03-05 22:36:24.759667"], ["updated_at", "2024-03-05 22:36:24.759667"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "Boston"], ["LIMIT", 1]]
  [1m[36mCity Create (0.0ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Boston"], ["state", "Massachusetts"], ["created_at", "2024-03-05 22:36:24.761509"], ["updated_at", "2024-03-05 22:36:24.761509"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.6ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lower East Side"], ["city_id", 1], ["created_at", "2024-03-05 22:36:24.767228"], ["updated_at", "2024-03-05 22:36:24.767228"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Back Bay"], ["city_id", 2], ["created_at", "2024-03-05 22:36:24.768530"], ["updated_at", "2024-03-05 22:36:24.768530"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.3ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cambridge"], ["city_id", 2], ["created_at", "2024-03-05 22:36:24.769537"], ["updated_at", "2024-03-05 22:36:24.769537"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.9ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "372 Marlborough St."], ["bedrooms", 1], ["rent", "825.0"], ["notes", "My rent in 1990"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 22:36:24.779388"], ["updated_at", "2024-03-05 22:36:24.779388"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "350 Newbury St"], ["bedrooms", 3], ["rent", "4000.0"], ["notes", "Right next to Newbury comics!"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 22:36:24.781202"], ["updated_at", "2024-03-05 22:36:24.781202"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.6ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "290 Highland Ave"], ["bedrooms", 2], ["rent", "1800.0"], ["notes", "My rent in 1995"], ["neighborhood_id", 3], ["city_id", 2], ["created_at", "2024-03-05 22:36:24.782409"], ["updated_at", "2024-03-05 22:36:24.782409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "123 Houston Street"], ["bedrooms", 3], ["rent", "3000.0"], ["notes", "near Death & Co."], ["neighborhood_id", 1], ["city_id", 1], ["created_at", "2024-03-05 22:36:24.783760"], ["updated_at", "2024-03-05 22:36:24.783760"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon@jonphillips.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:36:24.998831"], ["updated_at", "2024-03-05 22:36:24.998831"], ["apartment_id", nil]]
  [1m[36mProfile Create (1.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 1], ["created_at", "2024-03-05 22:36:25.014497"], ["updated_at", "2024-03-05 22:36:25.014497"]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon.phillips@duke.edu"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:36:25.221555"], ["updated_at", "2024-03-05 22:36:25.221555"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 2], ["created_at", "2024-03-05 22:36:25.223230"], ["updated_at", "2024-03-05 22:36:25.223230"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/login" for ::1 at 2024-03-05 17:36:29 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3118)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 77.8ms | Allocations: 71037)
Completed 500 Internal Server Error in 83ms (ActiveRecord: 12.2ms | Allocations: 75087)


  
ActionView::Template::Error (Couldn't find User with 'id'=3):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/login" for ::1 at 2024-03-05 17:36:30 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 446)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 7282)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.2ms | Allocations: 7509)


  
ActionView::Template::Error (Couldn't find User with 'id'=3):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 17:36:36 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 9318)
  Rendered layout layouts/application.html.erb (Duration: 31.2ms | Allocations: 14967)
Completed 200 OK in 40ms (Views: 30.9ms | ActiveRecord: 2.3ms | Allocations: 17171)


Started GET "/login" for ::1 at 2024-03-05 17:36:38 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 435)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 5892)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 6146)


Started GET "/register" for ::1 at 2024-03-05 17:36:39 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1766)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 7227)
Completed 200 OK in 18ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 12742)


Started POST "/register" for ::1 at 2024-03-05 17:36:42 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:36:42.973987"], ["updated_at", "2024-03-05 22:36:42.973987"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (2.0ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 3], ["created_at", "2024-03-05 22:36:42.988559"], ["updated_at", "2024-03-05 22:36:42.988559"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 253ms (ActiveRecord: 8.6ms | Allocations: 15379)


Started GET "/home" for ::1 at 2024-03-05 17:36:42 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1060)


Started GET "/login" for ::1 at 2024-03-05 17:36:43 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 456)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 6000)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms | Allocations: 6291)


Started POST "/login" for ::1 at 2024-03-05 17:36:45 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 241ms (ActiveRecord: 0.1ms | Allocations: 936)


Started GET "/home" for ::1 at 2024-03-05 17:36:46 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.8ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1994)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 8174)
Completed 200 OK in 17ms (Views: 4.2ms | ActiveRecord: 6.5ms | Allocations: 15668)


Started GET "/apartments" for ::1 at 2024-03-05 17:36:46 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.9ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.8ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 11453)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 17887)
Completed 200 OK in 28ms (Views: 22.5ms | ActiveRecord: 2.5ms | Allocations: 19078)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:36:47 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.7ms | Allocations: 351)
  [1m[36mUser Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.7ms | Allocations: 7614)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 13734)
Completed 200 OK in 51ms (Views: 21.3ms | ActiveRecord: 6.1ms | Allocations: 24438)


Started PATCH "/apartments/1/occupy" for ::1 at 2024-03-05 17:36:48 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 22:36:48.224278"], ["apartment_id", 1], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 14ms (ActiveRecord: 3.1ms | Allocations: 5101)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:36:48 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.2ms | Allocations: 8182)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 14309)
Completed 200 OK in 21ms (Views: 14.4ms | ActiveRecord: 2.1ms | Allocations: 17881)


Started GET "/home" for ::1 at 2024-03-05 17:36:49 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1022)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 7152)
Completed 200 OK in 19ms (Views: 12.2ms | ActiveRecord: 1.1ms | Allocations: 9756)


Started DELETE "/logout" for ::1 at 2024-03-05 17:36:50 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 363)


Started GET "/" for ::1 at 2024-03-05 17:36:50 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 909)


Started GET "/login" for ::1 at 2024-03-05 17:36:50 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 451)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 5909)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 6156)


Started POST "/login" for ::1 at 2024-03-05 17:36:54 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 752)


Started GET "/login" for ::1 at 2024-03-05 17:36:54 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 458)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 5994)
Completed 200 OK in 15ms (Views: 14.6ms | ActiveRecord: 0.0ms | Allocations: 6242)


Started GET "/register" for ::1 at 2024-03-05 17:36:55 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 6103)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 6548)


Started POST "/register" for ::1 at 2024-03-05 17:36:59 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:36:59.643604"], ["updated_at", "2024-03-05 22:36:59.643604"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-05 22:36:59.646134"], ["updated_at", "2024-03-05 22:36:59.646134"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 241ms (ActiveRecord: 2.5ms | Allocations: 3759)


Started GET "/home" for ::1 at 2024-03-05 17:36:59 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 878)


Started GET "/login" for ::1 at 2024-03-05 17:36:59 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 446)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 5906)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 6153)


Started POST "/login" for ::1 at 2024-03-05 17:37:05 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.3ms | Allocations: 793)


Started GET "/home" for ::1 at 2024-03-05 17:37:05 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 6661)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.4ms | Allocations: 7834)


Started GET "/apartments" for ::1 at 2024-03-05 17:37:05 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 7764)
Completed 200 OK in 18ms (Views: 14.2ms | ActiveRecord: 0.6ms | Allocations: 8625)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:37:06 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 5594)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 11789)
Completed 200 OK in 36ms (Views: 13.3ms | ActiveRecord: 2.7ms | Allocations: 15356)


Started POST "/apartments/1/apartment_requests" for ::1 at 2024-03-05 17:37:07 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (2.9ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 1], ["user_id", 4], ["status", 0], ["created_at", "2024-03-05 22:37:07.368444"], ["updated_at", "2024-03-05 22:37:07.368444"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 13ms (ActiveRecord: 3.8ms | Allocations: 7247)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:37:07 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 6681)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 12798)
Completed 200 OK in 17ms (Views: 11.2ms | ActiveRecord: 2.0ms | Allocations: 16380)


Started GET "/home" for ::1 at 2024-03-05 17:37:08 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.4ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:7
  Rendered home/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1921)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 8051)
Completed 200 OK in 20ms (Views: 14.2ms | ActiveRecord: 1.0ms | Allocations: 9220)


Started DELETE "/logout" for ::1 at 2024-03-05 17:37:10 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 368)


Started GET "/" for ::1 at 2024-03-05 17:37:10 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 894)


Started GET "/login" for ::1 at 2024-03-05 17:37:10 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 445)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 5953)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms | Allocations: 6201)


Started POST "/login" for ::1 at 2024-03-05 17:37:13 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 235ms (ActiveRecord: 0.2ms | Allocations: 790)


Started GET "/home" for ::1 at 2024-03-05 17:37:14 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 3305)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 3396)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.9ms | Allocations: 5272)


  
ActionView::Template::Error (undefined method `user' for an instance of ApartmentRequest):
     9:   <h2>Requests to Review</h2>
    10:   <ul>
    11:     <% @reviewable_requests.each do |request| %>
    12:       <li><%= request.applicant.email %> cleanliness: <%= request.user.profile.cleanliness %></li>
    13:     <% end %>
    14:   </ul>
    15: </div>
  
app/views/home/index.html.erb:12
app/views/home/index.html.erb:11
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (42.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_development"[0m
  [1m[35m (18.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_test"[0m
  [1m[35m (85.5ms)[0m  [1m[35mCREATE DATABASE "roommatic_development" ENCODING = 'unicode'[0m
  [1m[35m (33.3ms)[0m  [1m[35mCREATE DATABASE "roommatic_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 22:38:44.673092', '2024-03-05 22:38:44.673096') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 22:38:44.674470', '2024-03-05 22:38:44.674470') RETURNING "key"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-05 22:38:44.712607', '2024-03-05 22:38:44.712609') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-03-05 22:38:44.713329' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-05 22:38:44.713897', '2024-03-05 22:38:44.713897') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (4.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "New York City"], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "New York City"], ["state", "New York"], ["created_at", "2024-03-05 22:38:44.745865"], ["updated_at", "2024-03-05 22:38:44.745865"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "Boston"], ["LIMIT", 1]]
  [1m[36mCity Create (0.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Boston"], ["state", "Massachusetts"], ["created_at", "2024-03-05 22:38:44.747939"], ["updated_at", "2024-03-05 22:38:44.747939"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.6ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lower East Side"], ["city_id", 1], ["created_at", "2024-03-05 22:38:44.755099"], ["updated_at", "2024-03-05 22:38:44.755099"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Back Bay"], ["city_id", 2], ["created_at", "2024-03-05 22:38:44.756744"], ["updated_at", "2024-03-05 22:38:44.756744"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cambridge"], ["city_id", 2], ["created_at", "2024-03-05 22:38:44.757893"], ["updated_at", "2024-03-05 22:38:44.757893"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.7ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "372 Marlborough St."], ["bedrooms", 1], ["rent", "825.0"], ["notes", "My rent in 1990"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 22:38:44.765589"], ["updated_at", "2024-03-05 22:38:44.765589"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "350 Newbury St"], ["bedrooms", 3], ["rent", "4000.0"], ["notes", "Right next to Newbury comics!"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-05 22:38:44.767275"], ["updated_at", "2024-03-05 22:38:44.767275"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "290 Highland Ave"], ["bedrooms", 2], ["rent", "1800.0"], ["notes", "My rent in 1995"], ["neighborhood_id", 3], ["city_id", 2], ["created_at", "2024-03-05 22:38:44.768575"], ["updated_at", "2024-03-05 22:38:44.768575"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "123 Houston Street"], ["bedrooms", 3], ["rent", "3000.0"], ["notes", "near Death & Co."], ["neighborhood_id", 1], ["city_id", 1], ["created_at", "2024-03-05 22:38:44.769820"], ["updated_at", "2024-03-05 22:38:44.769820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (4.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon@jonphillips.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:38:44.986690"], ["updated_at", "2024-03-05 22:38:44.986690"], ["apartment_id", nil]]
  [1m[36mProfile Create (1.6ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 1], ["created_at", "2024-03-05 22:38:45.006616"], ["updated_at", "2024-03-05 22:38:45.006616"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon.phillips@duke.edu"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:38:45.213803"], ["updated_at", "2024-03-05 22:38:45.213803"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 2], ["created_at", "2024-03-05 22:38:45.215002"], ["updated_at", "2024-03-05 22:38:45.215002"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cities" for ::1 at 2024-03-05 17:38:58 -0500
  [1m[36mActiveRecord::SchemaMigration Load (12.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 12751)
  Rendered layout layouts/application.html.erb (Duration: 61.6ms | Allocations: 65451)
Completed 200 OK in 80ms (Views: 52.4ms | ActiveRecord: 11.3ms | Allocations: 77156)


Started GET "/register" for ::1 at 2024-03-05 17:38:59 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1828)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 7483)
Completed 200 OK in 32ms (Views: 9.7ms | ActiveRecord: 3.4ms | Allocations: 17041)


Started POST "/register" for ::1 at 2024-03-05 17:39:02 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:39:02.972435"], ["updated_at", "2024-03-05 22:39:02.972435"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (1.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 3], ["created_at", "2024-03-05 22:39:02.991371"], ["updated_at", "2024-03-05 22:39:02.991371"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 256ms (ActiveRecord: 6.5ms | Allocations: 16822)


Started GET "/home" for ::1 at 2024-03-05 17:39:02 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1144)


Started GET "/login" for ::1 at 2024-03-05 17:39:03 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 1557)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 7223)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms | Allocations: 7774)


Started POST "/login" for ::1 at 2024-03-05 17:39:05 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 233ms (ActiveRecord: 0.2ms | Allocations: 968)


Started GET "/home" for ::1 at 2024-03-05 17:39:05 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.7ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1979)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 8158)
Completed 200 OK in 17ms (Views: 5.4ms | ActiveRecord: 4.9ms | Allocations: 16134)


Started GET "/apartments" for ::1 at 2024-03-05 17:39:05 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.7ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.9ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 11482)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 17916)
Completed 200 OK in 28ms (Views: 22.7ms | ActiveRecord: 2.0ms | Allocations: 19094)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:39:06 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.7ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 353)
  [1m[36mUser Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.5ms | Allocations: 7635)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 13859)
Completed 200 OK in 53ms (Views: 22.7ms | ActiveRecord: 7.5ms | Allocations: 24587)


Started PATCH "/apartments/1/occupy" for ::1 at 2024-03-05 17:39:07 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 22:39:07.262108"], ["apartment_id", 1], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 14ms (ActiveRecord: 2.6ms | Allocations: 5116)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:39:07 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.0ms | Allocations: 8183)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 14379)
Completed 200 OK in 22ms (Views: 14.8ms | ActiveRecord: 2.6ms | Allocations: 17967)


Started GET "/home" for ::1 at 2024-03-05 17:39:08 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1022)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 7152)
Completed 200 OK in 19ms (Views: 11.9ms | ActiveRecord: 1.1ms | Allocations: 9766)


Started GET "/home" for ::1 at 2024-03-05 17:39:09 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1003)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 7133)
Completed 200 OK in 18ms (Views: 12.1ms | ActiveRecord: 1.0ms | Allocations: 9014)


Started GET "/home" for ::1 at 2024-03-05 17:39:10 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1003)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 7133)
Completed 200 OK in 21ms (Views: 9.6ms | ActiveRecord: 1.4ms | Allocations: 9005)


Started GET "/home" for ::1 at 2024-03-05 17:39:10 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1003)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 7334)
Completed 200 OK in 29ms (Views: 9.8ms | ActiveRecord: 1.0ms | Allocations: 9228)


Started GET "/home" for ::1 at 2024-03-05 17:39:10 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (1.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1003)
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 7243)
Completed 200 OK in 20ms (Views: 13.1ms | ActiveRecord: 2.1ms | Allocations: 9140)


Started GET "/home" for ::1 at 2024-03-05 17:39:10 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1003)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 7135)
Completed 200 OK in 19ms (Views: 12.5ms | ActiveRecord: 1.0ms | Allocations: 9014)


Started GET "/home" for ::1 at 2024-03-05 17:39:10 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1003)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 7133)
Completed 200 OK in 18ms (Views: 11.9ms | ActiveRecord: 0.9ms | Allocations: 9024)


Started GET "/home" for ::1 at 2024-03-05 17:39:10 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1003)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 7133)
Completed 200 OK in 17ms (Views: 10.9ms | ActiveRecord: 0.7ms | Allocations: 9007)


Started GET "/home" for ::1 at 2024-03-05 17:39:11 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1003)
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 7133)
Completed 200 OK in 18ms (Views: 12.0ms | ActiveRecord: 1.3ms | Allocations: 9020)


Started DELETE "/logout" for ::1 at 2024-03-05 17:39:18 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 362)


Started GET "/" for ::1 at 2024-03-05 17:39:18 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 907)


Started GET "/login" for ::1 at 2024-03-05 17:39:18 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 448)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 6107)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 6356)


Started GET "/register" for ::1 at 2024-03-05 17:39:19 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 6139)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 6573)


Started POST "/register" for ::1 at 2024-03-05 17:39:24 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "test2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-05 22:39:24.823842"], ["updated_at", "2024-03-05 22:39:24.823842"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-05 22:39:24.826440"], ["updated_at", "2024-03-05 22:39:24.826440"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 241ms (ActiveRecord: 3.3ms | Allocations: 3738)


Started GET "/home" for ::1 at 2024-03-05 17:39:24 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 881)


Started GET "/login" for ::1 at 2024-03-05 17:39:24 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 430)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 5889)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 6137)


Started POST "/login" for ::1 at 2024-03-05 17:39:27 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.3ms | Allocations: 781)


Started GET "/home" for ::1 at 2024-03-05 17:39:28 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 6661)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.4ms | Allocations: 7860)


Started GET "/apartments" for ::1 at 2024-03-05 17:39:28 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 7764)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.8ms | Allocations: 8628)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:39:29 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 5594)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 11905)
Completed 200 OK in 21ms (Views: 12.9ms | ActiveRecord: 2.4ms | Allocations: 15478)


Started POST "/apartments/1/apartment_requests" for ::1 at 2024-03-05 17:39:30 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (2.7ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 1], ["user_id", 4], ["status", 0], ["created_at", "2024-03-05 22:39:30.753406"], ["updated_at", "2024-03-05 22:39:30.753406"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 11ms (ActiveRecord: 3.1ms | Allocations: 7244)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:39:30 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 6681)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 12886)
Completed 200 OK in 14ms (Views: 9.0ms | ActiveRecord: 1.7ms | Allocations: 16467)


Started GET "/home" for ::1 at 2024-03-05 17:39:32 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:7
  Rendered home/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1921)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 8051)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.6ms | Allocations: 9244)


Started DELETE "/logout" for ::1 at 2024-03-05 17:39:52 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 347)


Started GET "/" for ::1 at 2024-03-05 17:39:52 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 897)


Started GET "/login" for ::1 at 2024-03-05 17:39:52 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 430)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 5995)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms | Allocations: 6243)


Started POST "/login" for ::1 at 2024-03-05 17:39:55 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.3ms | Allocations: 780)


Started GET "/home" for ::1 at 2024-03-05 17:39:55 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 2396)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 8680)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.8ms | Allocations: 10588)


Started GET "/apartments" for ::1 at 2024-03-05 17:40:43 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.5ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 7764)
Completed 200 OK in 21ms (Views: 15.2ms | ActiveRecord: 1.0ms | Allocations: 8619)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:40:44 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 13.3ms | Allocations: 5822)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 11934)
Completed 200 OK in 32ms (Views: 18.9ms | ActiveRecord: 3.5ms | Allocations: 15479)


Started GET "/cities" for ::1 at 2024-03-05 17:40:45 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 7225)
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 1.0ms | Allocations: 7500)


Started GET "/home" for ::1 at 2024-03-05 17:40:46 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1583)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 7824)
Completed 200 OK in 21ms (Views: 15.5ms | ActiveRecord: 0.8ms | Allocations: 9711)


Started GET "/home" for ::1 at 2024-03-05 17:41:12 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.7ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 17385)
  [1m[36mProfile Load (4.0ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 68.3ms | Allocations: 70742)
Completed 200 OK in 136ms (Views: 60.3ms | ActiveRecord: 32.3ms | Allocations: 117320)


Started GET "/home" for ::1 at 2024-03-05 17:41:13 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2144)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 8359)
Completed 200 OK in 19ms (Views: 10.7ms | ActiveRecord: 1.6ms | Allocations: 10256)


Started GET "/apartments" for ::1 at 2024-03-05 17:42:46 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 4.1ms | Allocations: 2014)
  Rendered apartments/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3015)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (11.6ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 9449)
Completed 200 OK in 32ms (Views: 15.2ms | ActiveRecord: 13.0ms | Allocations: 10592)


Started GET "/apartments/2" for ::1 at 2024-03-05 17:42:47 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (1.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.6ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 363)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 15.1ms | Allocations: 7571)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 13768)
Completed 200 OK in 61ms (Views: 19.3ms | ActiveRecord: 9.2ms | Allocations: 29835)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:42:48 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 1.0ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 17.1ms | Allocations: 8263)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 14377)
Completed 200 OK in 34ms (Views: 21.8ms | ActiveRecord: 3.3ms | Allocations: 17942)


Started GET "/home" for ::1 at 2024-03-05 17:42:51 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.9ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2143)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 8273)
Completed 200 OK in 23ms (Views: 15.1ms | ActiveRecord: 2.1ms | Allocations: 10151)


Started DELETE "/logout" for ::1 at 2024-03-05 17:44:46 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 573)


Started GET "/" for ::1 at 2024-03-05 17:44:46 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 986)


Started GET "/login" for ::1 at 2024-03-05 17:44:46 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1577)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 7120)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms | Allocations: 7603)


Started POST "/login" for ::1 at 2024-03-05 17:44:50 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.5ms | Allocations: 930)


Started GET "/home" for ::1 at 2024-03-05 17:44:50 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:7
  Rendered home/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1918)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 8123)
Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 1.0ms | Allocations: 9296)


Started GET "/apartments" for ::1 at 2024-03-05 17:44:51 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.3ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 7764)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.7ms | Allocations: 8625)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:44:54 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 15.4ms | Allocations: 6657)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 12769)
Completed 200 OK in 34ms (Views: 22.1ms | ActiveRecord: 3.5ms | Allocations: 16329)


Started DELETE "/apartments/1/apartment_requests/1" for ::1 at 2024-03-05 17:44:55 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (2.0ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 12ms (ActiveRecord: 3.5ms | Allocations: 3588)


Started GET "/apartments/1" for ::1 at 2024-03-05 17:44:55 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 5638)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 11761)
Completed 200 OK in 27ms (Views: 20.1ms | ActiveRecord: 2.5ms | Allocations: 15342)


Started GET "/home" for ::1 at 2024-03-05 17:44:56 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 531)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 6736)
Completed 200 OK in 18ms (Views: 13.1ms | ActiveRecord: 0.7ms | Allocations: 7918)


Started DELETE "/logout" for ::1 at 2024-03-05 17:44:57 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 362)


Started GET "/" for ::1 at 2024-03-05 17:44:57 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 906)


Started GET "/login" for ::1 at 2024-03-05 17:44:57 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 448)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 5908)
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.0ms | Allocations: 6155)


Started POST "/login" for ::1 at 2024-03-05 17:45:00 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.3ms | Allocations: 802)


Started GET "/home" for ::1 at 2024-03-05 17:45:00 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (1.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1003)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 7134)
Completed 200 OK in 8ms (Views: 4.3ms | ActiveRecord: 2.1ms | Allocations: 9017)


Started GET "/cities" for ::1 at 2024-03-05 18:07:57 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (48.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 56.1ms | Allocations: 3441)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 69.5ms | Allocations: 10796)
Completed 500 Internal Server Error in 71ms (ActiveRecord: 64.4ms | Allocations: 11433)


  
ActionView::Template::Error (Couldn't find User with 'id'=6):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 18:07:58 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 531)
  [1m[36mUser Load (15.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 7532)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 16.0ms | Allocations: 7785)


  
ActionView::Template::Error (Couldn't find User with 'id'=6):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/apartments" for ::1 at 2024-03-05 18:08:02 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (1.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1405)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 7912)
Completed 200 OK in 22ms (Views: 17.7ms | ActiveRecord: 1.9ms | Allocations: 8763)


Started GET "/apartments/1" for ::1 at 2024-03-05 18:08:03 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.5ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 13.5ms | Allocations: 5220)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 11408)
Completed 200 OK in 36ms (Views: 19.8ms | ActiveRecord: 4.3ms | Allocations: 14983)


Started GET "/apartments/1/edit" for ::1 at 2024-03-05 18:08:04 -0500
Processing by ApartmentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/edit.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/apartments/_form.html.erb:16
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods"[0m
  â†³ app/views/apartments/_form.html.erb:21
  Rendered apartments/_form.html.erb (Duration: 10.1ms | Allocations: 4162)
  Rendered apartments/edit.html.erb within layouts/application (Duration: 12.8ms | Allocations: 4501)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 10920)
Completed 200 OK in 29ms (Views: 19.0ms | ActiveRecord: 1.4ms | Allocations: 13978)


Started PATCH "/apartments/1" for ::1 at 2024-03-05 18:08:07 -0500
Processing by ApartmentsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment"=>{"city_id"=>"2", "neighborhood_id"=>"2", "street_address"=>"372 Marlborough St.", "bedrooms"=>"2", "rent"=>"825.0", "notes"=>"My rent in 1990"}, "commit"=>"Update Apartment", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:67:in `block in update'
  [1m[36mApartment Update (3.8ms)[0m  [1m[33mUPDATE "apartments" SET "bedrooms" = $1, "updated_at" = $2 WHERE "apartments"."id" = $3[0m  [["bedrooms", 2], ["updated_at", "2024-03-05 23:08:07.414288"], ["id", 1]]
  â†³ app/controllers/apartments_controller.rb:67:in `block in update'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:67:in `block in update'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 27ms (ActiveRecord: 5.6ms | Allocations: 6277)


Started GET "/apartments/1" for ::1 at 2024-03-05 18:08:07 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 14.1ms | Allocations: 5203)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 11326)
Completed 200 OK in 33ms (Views: 23.1ms | ActiveRecord: 2.2ms | Allocations: 14895)


Started DELETE "/logout" for ::1 at 2024-03-05 18:08:10 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 365)


Started GET "/" for ::1 at 2024-03-05 18:08:10 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 898)


Started GET "/login" for ::1 at 2024-03-05 18:08:10 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 445)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 5914)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 6161)


Started POST "/login" for ::1 at 2024-03-05 18:08:14 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 242ms (ActiveRecord: 0.3ms | Allocations: 794)


Started GET "/home" for ::1 at 2024-03-05 18:08:15 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  Rendered home/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 535)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 6665)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.6ms | Allocations: 7843)


Started GET "/apartments" for ::1 at 2024-03-05 18:08:15 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7765)
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 0.7ms | Allocations: 8621)


Started GET "/apartments/2" for ::1 at 2024-03-05 18:08:16 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3733)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 9844)
Completed 200 OK in 21ms (Views: 12.0ms | ActiveRecord: 1.9ms | Allocations: 13399)


Started GET "/apartments" for ::1 at 2024-03-05 18:08:20 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 7849)
Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.6ms | Allocations: 8690)


Started GET "/apartments/2" for ::1 at 2024-03-05 18:08:20 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3733)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 9925)
Completed 200 OK in 29ms (Views: 16.4ms | ActiveRecord: 2.3ms | Allocations: 13487)


Started GET "/apartments" for ::1 at 2024-03-05 18:08:21 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | Allocations: 7764)
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 0.8ms | Allocations: 8599)


Started GET "/apartments/3" for ::1 at 2024-03-05 18:08:22 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 121)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3733)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 9845)
Completed 200 OK in 23ms (Views: 14.4ms | ActiveRecord: 1.5ms | Allocations: 13403)


Started GET "/apartments" for ::1 at 2024-03-05 18:08:24 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 7847)
Completed 200 OK in 18ms (Views: 14.2ms | ActiveRecord: 0.6ms | Allocations: 8679)


Started GET "/apartments/1" for ::1 at 2024-03-05 18:08:25 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 5591)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 11780)
Completed 200 OK in 29ms (Views: 15.8ms | ActiveRecord: 2.7ms | Allocations: 15346)


Started POST "/apartments/1/apartment_requests" for ::1 at 2024-03-05 18:08:28 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (3.8ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 1], ["user_id", 4], ["status", 0], ["created_at", "2024-03-05 23:08:28.296826"], ["updated_at", "2024-03-05 23:08:28.296826"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 13ms (ActiveRecord: 4.5ms | Allocations: 3597)


Started GET "/apartments/1" for ::1 at 2024-03-05 18:08:28 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (11.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 20.0ms | Allocations: 6640)
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 12757)
Completed 200 OK in 35ms (Views: 14.6ms | ActiveRecord: 14.9ms | Allocations: 16330)


Started GET "/home" for ::1 at 2024-03-05 18:08:30 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:7
  Rendered home/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1108)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 7238)
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 0.7ms | Allocations: 8401)


Started GET "/apartments" for ::1 at 2024-03-05 18:08:32 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 7848)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.5ms | Allocations: 8683)


Started GET "/apartments/3" for ::1 at 2024-03-05 18:08:41 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3733)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 9921)
Completed 200 OK in 26ms (Views: 15.2ms | ActiveRecord: 1.8ms | Allocations: 13469)


Started PATCH "/apartments/3/occupy" for ::1 at 2024-03-05 18:08:42 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-05 23:08:42.375597"], ["apartment_id", 3], ["id", 4]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 12ms (ActiveRecord: 2.4ms | Allocations: 5100)


Started GET "/apartments/3" for ::1 at 2024-03-05 18:08:42 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 5210)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 11327)
Completed 200 OK in 18ms (Views: 12.0ms | ActiveRecord: 2.2ms | Allocations: 14887)


Started GET "/home" for ::1 at 2024-03-05 18:08:43 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:7
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 3], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1584)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 7721)
Completed 200 OK in 19ms (Views: 14.1ms | ActiveRecord: 1.0ms | Allocations: 9599)


Started GET "/apartments" for ::1 at 2024-03-05 18:08:45 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.3ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 7846)
Completed 200 OK in 17ms (Views: 14.2ms | ActiveRecord: 0.7ms | Allocations: 8687)


Started GET "/apartments/1" for ::1 at 2024-03-05 18:08:46 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.1ms | Allocations: 6640)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 12754)
Completed 200 OK in 27ms (Views: 16.5ms | ActiveRecord: 2.5ms | Allocations: 16305)


Started DELETE "/apartments/1/apartment_requests/2" for ::1 at 2024-03-05 18:08:47 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (1.5ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 10ms (ActiveRecord: 2.7ms | Allocations: 3134)


Started GET "/apartments/1" for ::1 at 2024-03-05 18:08:47 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 5591)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 11707)
Completed 200 OK in 19ms (Views: 11.9ms | ActiveRecord: 1.9ms | Allocations: 15278)


Started GET "/apartments" for ::1 at 2024-03-05 19:00:40 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (2.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1405)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 7910)
Completed 200 OK in 55ms (Views: 15.3ms | ActiveRecord: 20.3ms | Allocations: 11478)


Started GET "/cities" for ::1 at 2024-03-05 19:00:41 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 530)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 7306)
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 1.8ms | Allocations: 7590)


Started GET "/home" for ::1 at 2024-03-05 19:00:42 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.6ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:6
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 3], ["status", 0]]
  â†³ app/views/home/index.html.erb:11
  Rendered home/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1008)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 7139)
Completed 200 OK in 23ms (Views: 15.7ms | ActiveRecord: 1.8ms | Allocations: 9010)


Started GET "/cities" for ::1 at 2024-03-05 19:04:56 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 12751)
  Rendered layout layouts/application.html.erb (Duration: 66.9ms | Allocations: 65379)
Completed 200 OK in 85ms (Views: 51.0ms | ActiveRecord: 18.2ms | Allocations: 77084)


Started GET "/login" for ::1 at 2024-03-05 19:04:59 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 2643)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 8299)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.0ms | Allocations: 8806)


Started POST "/login" for ::1 at 2024-03-05 19:05:03 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 243ms (ActiveRecord: 4.9ms | Allocations: 10334)


Started GET "/home" for ::1 at 2024-03-05 19:05:03 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.9ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (1.5ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 4141)
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 18762)
Completed 200 OK in 40ms (Views: 9.0ms | ActiveRecord: 12.2ms | Allocations: 38930)


Started GET "/apartments" for ::1 at 2024-03-05 19:05:06 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.9ms | Allocations: 1991)
  Rendered apartments/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2988)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 9422)
Completed 200 OK in 17ms (Views: 12.5ms | ActiveRecord: 0.8ms | Allocations: 10575)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:05:07 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.7ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.6ms | Allocations: 361)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.5ms | Allocations: 6859)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 12972)
Completed 200 OK in 41ms (Views: 14.0ms | ActiveRecord: 5.2ms | Allocations: 22751)


Started GET "/home" for ::1 at 2024-03-05 19:05:10 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1513)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 7643)
Completed 200 OK in 17ms (Views: 11.5ms | ActiveRecord: 1.3ms | Allocations: 9514)


Started GET "/apartments" for ::1 at 2024-03-05 19:05:11 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 7973)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.8ms | Allocations: 8836)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:05:12 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.9ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 14.7ms | Allocations: 8132)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 14261)
Completed 200 OK in 33ms (Views: 20.2ms | ActiveRecord: 3.9ms | Allocations: 17834)


Started PATCH "/apartments/1/vacate" for ::1 at 2024-03-05 19:05:13 -0500
Processing by ApartmentsController#vacate as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mUser Update (2.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:05:13.394384"], ["apartment_id", nil], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 16ms (ActiveRecord: 4.7ms | Allocations: 6245)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:05:13 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3771)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 9888)
Completed 200 OK in 18ms (Views: 11.1ms | ActiveRecord: 1.5ms | Allocations: 13475)


Started GET "/home" for ::1 at 2024-03-05 19:05:14 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 6661)
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 0.6ms | Allocations: 7833)


Started GET "/apartments" for ::1 at 2024-03-05 19:05:14 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 21.6ms | Allocations: 7969)
Completed 200 OK in 25ms (Views: 21.5ms | ActiveRecord: 0.7ms | Allocations: 8810)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:05:15 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3733)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 9947)
Completed 200 OK in 23ms (Views: 12.5ms | ActiveRecord: 1.7ms | Allocations: 13508)


Started PATCH "/apartments/2/occupy" for ::1 at 2024-03-05 19:05:16 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (2.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:05:16.547410"], ["apartment_id", 2], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 12ms (ActiveRecord: 3.6ms | Allocations: 4861)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:05:16 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.8ms | Allocations: 5210)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 11327)
Completed 200 OK in 19ms (Views: 12.3ms | ActiveRecord: 1.9ms | Allocations: 14920)


Started GET "/home" for ::1 at 2024-03-05 19:05:17 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1508)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 7638)
Completed 200 OK in 14ms (Views: 8.9ms | ActiveRecord: 0.9ms | Allocations: 9494)


Started DELETE "/logout" for ::1 at 2024-03-05 19:05:18 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 357)


Started GET "/" for ::1 at 2024-03-05 19:05:18 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 956)


Started GET "/login" for ::1 at 2024-03-05 19:05:18 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 440)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 6103)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 6352)


Started POST "/login" for ::1 at 2024-03-05 19:05:22 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 235ms (ActiveRecord: 0.3ms | Allocations: 793)


Started GET "/home" for ::1 at 2024-03-05 19:05:22 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1509)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 7743)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 1.3ms | Allocations: 9634)


Started GET "/apartments" for ::1 at 2024-03-05 19:05:24 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 7764)
Completed 200 OK in 19ms (Views: 14.2ms | ActiveRecord: 0.8ms | Allocations: 8608)


Started GET "/apartments" for ::1 at 2024-03-05 19:05:24 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 7765)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 0.7ms | Allocations: 8620)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:05:27 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.9ms | Allocations: 5210)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 11321)
Completed 200 OK in 26ms (Views: 14.0ms | ActiveRecord: 2.6ms | Allocations: 14877)


Started PATCH "/apartments/3/vacate" for ::1 at 2024-03-05 19:05:28 -0500
Processing by ApartmentsController#vacate as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mUser Update (2.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:05:28.864733"], ["apartment_id", nil], ["id", 4]]
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 19ms (ActiveRecord: 3.3ms | Allocations: 4859)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:05:28 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3733)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 10055)
Completed 200 OK in 16ms (Views: 10.3ms | ActiveRecord: 1.3ms | Allocations: 13641)


Started GET "/home" for ::1 at 2024-03-05 19:05:29 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 6680)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 0.5ms | Allocations: 7854)


Started GET "/apartments" for ::1 at 2024-03-05 19:05:30 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.5ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 7764)
Completed 200 OK in 19ms (Views: 15.3ms | ActiveRecord: 0.8ms | Allocations: 8623)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:05:31 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 122)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 5601)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 11713)
Completed 200 OK in 26ms (Views: 15.6ms | ActiveRecord: 2.5ms | Allocations: 15275)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:05:32 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (2.3ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 4], ["status", 0], ["created_at", "2024-03-06 00:05:32.403324"], ["updated_at", "2024-03-06 00:05:32.403324"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 13ms (ActiveRecord: 2.9ms | Allocations: 7387)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:05:32 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.0ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 6688)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 13010)
Completed 200 OK in 16ms (Views: 10.3ms | ActiveRecord: 1.8ms | Allocations: 16582)


Started GET "/home" for ::1 at 2024-03-05 19:05:33 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1920)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 8051)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 0.6ms | Allocations: 9239)


Started DELETE "/logout" for ::1 at 2024-03-05 19:05:35 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 353)


Started GET "/" for ::1 at 2024-03-05 19:05:35 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 909)


Started GET "/login" for ::1 at 2024-03-05 19:05:35 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 427)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 5886)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 6133)


Started POST "/login" for ::1 at 2024-03-05 19:05:38 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.3ms | Allocations: 793)


Started GET "/home" for ::1 at 2024-03-05 19:05:38 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 2], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 4250)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 10365)
Completed 200 OK in 8ms (Views: 5.0ms | ActiveRecord: 1.2ms | Allocations: 12242)


Started PATCH "/apartments/2/apartment_requests/3" for ::1 at 2024-03-05 19:05:59 -0500
Processing by ApartmentRequestsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "status"=>"approved", "apartment_id"=>"2", "id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mApartmentRequest Update (0.8ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1, "updated_at" = $2 WHERE "apartment_requests"."id" = $3[0m  [["status", 1], ["updated_at", "2024-03-06 00:05:59.407121"], ["id", 3]]
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mApartmentRequest Update All (0.4ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1 WHERE "apartment_requests"."user_id" = $2 AND "apartment_requests"."id" != $3 AND "apartment_requests"."status" = $4[0m  [["status", 3], ["user_id", 4], ["id", 3], ["status", 0]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:05:59.410081"], ["apartment_id", 2], ["id", 4]]
  â†³ app/models/apartment_request.rb:11:in `block in approve'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/apartment_request.rb:8:in `approve'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 12.8ms | Allocations: 26643)


  
NameError (undefined local variable or method `home_index_path' for an instance of ApartmentRequestsController):
  
app/controllers/apartment_requests_controller.rb:29:in `update'
Started GET "/home" for ::1 at 2024-03-05 19:07:05 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (1.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (1.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 10840)
  [1m[36mProfile Load (56.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 138.9ms | Allocations: 72417)
Completed 200 OK in 213ms (Views: 70.1ms | ActiveRecord: 96.6ms | Allocations: 119016)


Started GET "/apartments" for ::1 at 2024-03-05 19:07:07 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.7ms | Allocations: 1994)
  Rendered apartments/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3003)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 9522)
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 0.7ms | Allocations: 10676)


Started GET "/cities" for ::1 at 2024-03-05 19:07:08 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 784)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 7498)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.9ms | Allocations: 8148)


Started GET "/apartments" for ::1 at 2024-03-05 19:07:08 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.3ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 7764)
Completed 200 OK in 18ms (Views: 14.0ms | ActiveRecord: 0.8ms | Allocations: 8623)


Started GET "/home" for ::1 at 2024-03-05 19:07:09 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1512)
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 7642)
Completed 200 OK in 20ms (Views: 13.7ms | ActiveRecord: 1.4ms | Allocations: 9530)


Started GET "/apartments" for ::1 at 2024-03-05 19:07:09 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.7ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 7764)
Completed 200 OK in 20ms (Views: 14.9ms | ActiveRecord: 1.4ms | Allocations: 8625)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:10 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.7ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.7ms | Allocations: 361)
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 27.1ms | Allocations: 15476)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 21677)
Completed 200 OK in 58ms (Views: 30.4ms | ActiveRecord: 6.8ms | Allocations: 31480)


Started PATCH "/apartments/2/vacate" for ::1 at 2024-03-05 19:07:12 -0500
Processing by ApartmentsController#vacate as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:07:12.115601"], ["apartment_id", nil], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 11ms (ActiveRecord: 3.3ms | Allocations: 6373)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:12 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 6265)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 12382)
Completed 200 OK in 17ms (Views: 10.8ms | ActiveRecord: 2.2ms | Allocations: 16025)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:14 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 122)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 15.5ms | Allocations: 6217)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 23.9ms | Allocations: 12328)
Completed 200 OK in 34ms (Views: 21.8ms | ActiveRecord: 3.8ms | Allocations: 15879)


Started GET "/home" for ::1 at 2024-03-05 19:07:17 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 6669)
Completed 200 OK in 20ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 7860)


Started GET "/cities" for ::1 at 2024-03-05 19:07:18 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 7235)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.8ms | Allocations: 7510)


Started GET "/apartments" for ::1 at 2024-03-05 19:07:19 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7774)
Completed 200 OK in 17ms (Views: 12.9ms | ActiveRecord: 0.6ms | Allocations: 8618)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:21 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.2ms | Allocations: 6217)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 12328)
Completed 200 OK in 27ms (Views: 15.5ms | ActiveRecord: 2.9ms | Allocations: 15893)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:07:22 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.8ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 3], ["status", 0], ["created_at", "2024-03-06 00:07:22.718055"], ["updated_at", "2024-03-06 00:07:22.718055"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 11ms (ActiveRecord: 2.8ms | Allocations: 3859)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:22 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 7281)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 13396)
Completed 200 OK in 20ms (Views: 12.9ms | ActiveRecord: 2.3ms | Allocations: 16965)


Started DELETE "/apartments/2/apartment_requests/4" for ::1 at 2024-03-05 19:07:23 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2", "id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (0.5ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 4]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 13ms (ActiveRecord: 1.2ms | Allocations: 3218)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:23 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 6217)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 12418)
Completed 200 OK in 11ms (Views: 7.1ms | ActiveRecord: 1.6ms | Allocations: 15988)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:07:24 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (3.3ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 3], ["status", 0], ["created_at", "2024-03-06 00:07:24.574531"], ["updated_at", "2024-03-06 00:07:24.574531"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 24ms (ActiveRecord: 4.4ms | Allocations: 3261)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:24 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.7ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.1ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (4.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (2.5ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 18.7ms | Allocations: 7267)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | Allocations: 13384)
Completed 200 OK in 27ms (Views: 13.9ms | ActiveRecord: 10.2ms | Allocations: 16944)


Started DELETE "/apartments/2/apartment_requests/5" for ::1 at 2024-03-05 19:07:26 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.5ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (1.6ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 5]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 12ms (ActiveRecord: 3.0ms | Allocations: 3115)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:26 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.1ms | Allocations: 6217)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 12332)
Completed 200 OK in 20ms (Views: 13.3ms | ActiveRecord: 2.3ms | Allocations: 15889)


Started GET "/apartments" for ::1 at 2024-03-05 19:07:34 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 7849)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.8ms | Allocations: 8702)


Started GET "/home" for ::1 at 2024-03-05 19:07:34 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 6747)
Completed 200 OK in 15ms (Views: 11.0ms | ActiveRecord: 0.7ms | Allocations: 7919)


Started GET "/apartments" for ::1 at 2024-03-05 19:07:35 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 7764)
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 0.7ms | Allocations: 8605)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:07:36 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3736)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 9847)
Completed 200 OK in 19ms (Views: 11.6ms | ActiveRecord: 1.2ms | Allocations: 13409)


Started PATCH "/apartments/3/occupy" for ::1 at 2024-03-05 19:07:36 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:07:36.976656"], ["apartment_id", 3], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 11ms (ActiveRecord: 2.5ms | Allocations: 4836)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:07:36 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 5210)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 11325)
Completed 200 OK in 20ms (Views: 13.7ms | ActiveRecord: 1.8ms | Allocations: 14913)


Started DELETE "/logout" for ::1 at 2024-03-05 19:07:39 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 481)


Started GET "/" for ::1 at 2024-03-05 19:07:39 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 955)


Started GET "/login" for ::1 at 2024-03-05 19:07:39 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1590)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 7139)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 7577)


Started POST "/login" for ::1 at 2024-03-05 19:07:43 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 242ms (ActiveRecord: 0.3ms | Allocations: 931)


Started GET "/home" for ::1 at 2024-03-05 19:07:43 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mCACHE Apartment Load (0.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2779)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 8909)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.8ms | Allocations: 10801)


Started GET "/apartments" for ::1 at 2024-03-05 19:07:44 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 7764)
Completed 200 OK in 13ms (Views: 10.6ms | ActiveRecord: 0.5ms | Allocations: 8607)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:46 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.4ms | Allocations: 6357)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 12555)
Completed 200 OK in 23ms (Views: 13.7ms | ActiveRecord: 2.0ms | Allocations: 16109)


Started DELETE "/apartments/2/apartment_requests/3" for ::1 at 2024-03-05 19:07:47 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (0.9ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 9ms (ActiveRecord: 2.1ms | Allocations: 3127)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:47 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 5210)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 11398)
Completed 200 OK in 19ms (Views: 11.3ms | ActiveRecord: 2.0ms | Allocations: 14984)


Started PATCH "/apartments/2/vacate" for ::1 at 2024-03-05 19:07:48 -0500
Processing by ApartmentsController#vacate as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:07:48.428118"], ["apartment_id", nil], ["id", 4]]
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 13ms (ActiveRecord: 2.5ms | Allocations: 4858)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:07:48 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3733)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 9848)
Completed 200 OK in 17ms (Views: 10.8ms | ActiveRecord: 1.4ms | Allocations: 13426)


Started GET "/apartments" for ::1 at 2024-03-05 19:07:49 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 7844)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.5ms | Allocations: 8688)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:07:51 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 5598)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 11794)
Completed 200 OK in 28ms (Views: 18.4ms | ActiveRecord: 2.0ms | Allocations: 15351)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 19:07:52 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.4ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 4], ["status", 0], ["created_at", "2024-03-06 00:07:52.565016"], ["updated_at", "2024-03-06 00:07:52.565016"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 10ms (ActiveRecord: 2.4ms | Allocations: 3249)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:07:52 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.4ms | Allocations: 6647)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 12762)
Completed 200 OK in 20ms (Views: 13.3ms | ActiveRecord: 2.2ms | Allocations: 16329)


Started GET "/home" for ::1 at 2024-03-05 19:07:53 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.4ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1108)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 7238)
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 0.9ms | Allocations: 8407)


Started DELETE "/logout" for ::1 at 2024-03-05 19:07:55 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 353)


Started GET "/" for ::1 at 2024-03-05 19:07:55 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 877)


Started GET "/login" for ::1 at 2024-03-05 19:07:55 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 433)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 5900)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 6148)


Started POST "/login" for ::1 at 2024-03-05 19:07:58 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.3ms | Allocations: 793)


Started GET "/home" for ::1 at 2024-03-05 19:07:58 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 3], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 3689)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 9892)
Completed 200 OK in 12ms (Views: 6.7ms | ActiveRecord: 1.0ms | Allocations: 11769)


Started PATCH "/apartments/3/apartment_requests/6" for ::1 at 2024-03-05 19:07:59 -0500
Processing by ApartmentRequestsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "status"=>"approved", "apartment_id"=>"3", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mApartmentRequest Update (1.2ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1, "updated_at" = $2 WHERE "apartment_requests"."id" = $3[0m  [["status", 1], ["updated_at", "2024-03-06 00:07:59.191304"], ["id", 6]]
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mApartmentRequest Update All (0.3ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1 WHERE "apartment_requests"."user_id" = $2 AND "apartment_requests"."id" != $3 AND "apartment_requests"."status" = $4[0m  [["status", 3], ["user_id", 4], ["id", 6], ["status", 0]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:07:59.196189"], ["apartment_id", 3], ["id", 4]]
  â†³ app/models/apartment_request.rb:11:in `block in approve'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/apartment_request.rb:8:in `approve'
Redirected to http://localhost:3000/home
Completed 302 Found in 15ms (ActiveRecord: 3.2ms | Allocations: 5532)


Started GET "/home" for ::1 at 2024-03-05 19:07:59 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1509)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 7641)
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 1.0ms | Allocations: 9518)


Started GET "/apartments" for ::1 at 2024-03-05 19:08:00 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 7764)
Completed 200 OK in 18ms (Views: 14.2ms | ActiveRecord: 0.8ms | Allocations: 8620)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:08:00 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 122)
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3733)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 9844)
Completed 200 OK in 22ms (Views: 12.5ms | ActiveRecord: 1.8ms | Allocations: 13400)


Started GET "/apartments" for ::1 at 2024-03-05 19:08:02 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 7849)
Completed 200 OK in 20ms (Views: 13.3ms | ActiveRecord: 0.5ms | Allocations: 8693)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:08:12 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 5852)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 12048)
Completed 200 OK in 31ms (Views: 15.5ms | ActiveRecord: 2.7ms | Allocations: 15605)


Started DELETE "/logout" for ::1 at 2024-03-05 19:08:34 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 347)


Started GET "/" for ::1 at 2024-03-05 19:08:34 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 910)


Started GET "/login" for ::1 at 2024-03-05 19:08:34 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 433)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 5891)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 6139)


Started POST "/login" for ::1 at 2024-03-05 19:08:38 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.4ms | Allocations: 793)


Started GET "/home" for ::1 at 2024-03-05 19:08:38 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.5ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mCACHE Apartment Load (0.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartmentRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1966)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 8096)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 2.0ms | Allocations: 9991)


Started GET "/apartments" for ::1 at 2024-03-05 19:08:41 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7764)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.7ms | Allocations: 8619)


Started GET "/apartments/4" for ::1 at 2024-03-05 19:08:42 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 3734)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 9930)
Completed 200 OK in 19ms (Views: 12.2ms | ActiveRecord: 1.3ms | Allocations: 13493)


Started GET "/apartments" for ::1 at 2024-03-05 19:08:43 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.5ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 7840)
Completed 200 OK in 19ms (Views: 14.8ms | ActiveRecord: 0.8ms | Allocations: 8681)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:08:43 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:20
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 12.3ms | Allocations: 6380)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 12491)
Completed 200 OK in 28ms (Views: 17.2ms | ActiveRecord: 2.8ms | Allocations: 16057)


  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (34.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_development"[0m
  [1m[35m (24.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_test"[0m
  [1m[35m (85.7ms)[0m  [1m[35mCREATE DATABASE "roommatic_development" ENCODING = 'unicode'[0m
  [1m[35m (33.6ms)[0m  [1m[35mCREATE DATABASE "roommatic_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (33.7ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-06 00:14:40.087184', '2024-03-06 00:14:40.087193') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-06 00:14:40.091971', '2024-03-06 00:14:40.091973') RETURNING "key"[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-06 00:14:40.165055', '2024-03-06 00:14:40.165059') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-03-06 00:14:40.167106' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-06 00:14:40.168412', '2024-03-06 00:14:40.168414') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "New York City"], ["LIMIT", 1]]
  [1m[36mCity Create (0.3ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "New York City"], ["state", "New York"], ["created_at", "2024-03-06 00:14:40.206608"], ["updated_at", "2024-03-06 00:14:40.206608"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "Boston"], ["LIMIT", 1]]
  [1m[36mCity Create (0.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Boston"], ["state", "Massachusetts"], ["created_at", "2024-03-06 00:14:40.216409"], ["updated_at", "2024-03-06 00:14:40.216409"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (1.0ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lower East Side"], ["city_id", 1], ["created_at", "2024-03-06 00:14:40.226013"], ["updated_at", "2024-03-06 00:14:40.226013"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Back Bay"], ["city_id", 2], ["created_at", "2024-03-06 00:14:40.228094"], ["updated_at", "2024-03-06 00:14:40.228094"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cambridge"], ["city_id", 2], ["created_at", "2024-03-06 00:14:40.229610"], ["updated_at", "2024-03-06 00:14:40.229610"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (1.1ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "372 Marlborough St."], ["bedrooms", 1], ["rent", "825.0"], ["notes", "My rent in 1990"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-06 00:14:40.237510"], ["updated_at", "2024-03-06 00:14:40.237510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.5ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "350 Newbury St"], ["bedrooms", 3], ["rent", "4000.0"], ["notes", "Right next to Newbury comics!"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-06 00:14:40.239613"], ["updated_at", "2024-03-06 00:14:40.239613"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.7ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "290 Highland Ave"], ["bedrooms", 2], ["rent", "1800.0"], ["notes", "My rent in 1995"], ["neighborhood_id", 3], ["city_id", 2], ["created_at", "2024-03-06 00:14:40.240906"], ["updated_at", "2024-03-06 00:14:40.240906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.6ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "123 Houston Street"], ["bedrooms", 3], ["rent", "3000.0"], ["notes", "near Death & Co."], ["neighborhood_id", 1], ["city_id", 1], ["created_at", "2024-03-06 00:14:40.242452"], ["updated_at", "2024-03-06 00:14:40.242452"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon@jonphillips.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:14:40.460455"], ["updated_at", "2024-03-06 00:14:40.460455"], ["apartment_id", nil]]
  [1m[36mProfile Create (1.2ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 1], ["created_at", "2024-03-06 00:14:40.473710"], ["updated_at", "2024-03-06 00:14:40.473710"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon.phillips@duke.edu"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:14:40.686252"], ["updated_at", "2024-03-06 00:14:40.686252"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 2], ["created_at", "2024-03-06 00:14:40.687629"], ["updated_at", "2024-03-06 00:14:40.687629"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
Started GET "/cities" for ::1 at 2024-03-05 19:14:44 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.6ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 31.9ms | Allocations: 12751)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 214.2ms | Allocations: 73350)
Completed 500 Internal Server Error in 231ms (ActiveRecord: 137.0ms | Allocations: 85003)


  
ActionView::Template::Error (Couldn't find User with 'id'=4):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 19:14:44 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 534)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 7538)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.5ms | Allocations: 7793)


  
ActionView::Template::Error (Couldn't find User with 'id'=4):
    20:           <%= link_to 'Apartments', apartments_path, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    21:         </div>
    22:         <div class="flex space-x-4">
    23:           <% if current_user %>
    24:             <%= link_to current_user.email, profile_path(current_user.profile), class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    25:             <%= button_to 'Logout', logout_path, method: :delete, class: "inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-1 px-3" %>
    26:           <% else %>
  
app/controllers/application_controller.rb:6:in `current_user'
app/controllers/application_controller.rb:3:in `current_user'
app/views/layouts/application.html.erb:23
Started GET "/cities" for ::1 at 2024-03-05 19:14:51 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 537)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 6174)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.5ms | Allocations: 6505)


Started GET "/register" for ::1 at 2024-03-05 19:14:52 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1822)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 7283)
Completed 200 OK in 15ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 12793)


Started POST "/register" for ::1 at 2024-03-05 19:14:58 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user1@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:14:58.471306"], ["updated_at", "2024-03-06 00:14:58.471306"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 3], ["created_at", "2024-03-06 00:14:58.491190"], ["updated_at", "2024-03-06 00:14:58.491190"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 257ms (ActiveRecord: 8.1ms | Allocations: 15385)


Started GET "/home" for ::1 at 2024-03-05 19:14:58 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1036)


Started GET "/login" for ::1 at 2024-03-05 19:14:58 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 1549)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 7095)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms | Allocations: 7644)


Started POST "/login" for ::1 at 2024-03-05 19:15:01 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user1@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user1@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.1ms | Allocations: 939)


Started GET "/home" for ::1 at 2024-03-05 19:15:01 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (1.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2142)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 8321)
Completed 200 OK in 22ms (Views: 5.1ms | ActiveRecord: 9.8ms | Allocations: 15813)


Started GET "/apartments" for ::1 at 2024-03-05 19:15:03 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 4.2ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 18.1ms | Allocations: 11434)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 17868)
Completed 200 OK in 29ms (Views: 23.6ms | ActiveRecord: 2.2ms | Allocations: 19049)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:15:03 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 351)
  [1m[36mUser Count (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 7621)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 13818)
Completed 200 OK in 48ms (Views: 13.3ms | ActiveRecord: 5.1ms | Allocations: 24576)


Started PATCH "/apartments/1/occupy" for ::1 at 2024-03-05 19:15:04 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:15:04.576703"], ["apartment_id", 1], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 15ms (ActiveRecord: 3.0ms | Allocations: 5136)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:15:04 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 7681)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 13800)
Completed 200 OK in 21ms (Views: 14.0ms | ActiveRecord: 2.0ms | Allocations: 17372)


Started GET "/apartments/1/edit" for ::1 at 2024-03-05 19:15:06 -0500
Processing by ApartmentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/edit.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/apartments/_form.html.erb:16
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods"[0m
  â†³ app/views/apartments/_form.html.erb:21
  Rendered apartments/_form.html.erb (Duration: 9.3ms | Allocations: 3665)
  Rendered apartments/edit.html.erb within layouts/application (Duration: 10.9ms | Allocations: 4002)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 10416)
Completed 200 OK in 26ms (Views: 17.5ms | ActiveRecord: 1.5ms | Allocations: 13478)


Started PATCH "/apartments/1" for ::1 at 2024-03-05 19:15:08 -0500
Processing by ApartmentsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment"=>{"city_id"=>"2", "neighborhood_id"=>"2", "street_address"=>"372 Marlborough St.", "bedrooms"=>"3", "rent"=>"825.0", "notes"=>"My rent in 1990"}, "commit"=>"Update Apartment", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:67:in `block in update'
  [1m[36mApartment Update (0.9ms)[0m  [1m[33mUPDATE "apartments" SET "bedrooms" = $1, "updated_at" = $2 WHERE "apartments"."id" = $3[0m  [["bedrooms", 3], ["updated_at", "2024-03-06 00:15:08.551086"], ["id", 1]]
  â†³ app/controllers/apartments_controller.rb:67:in `block in update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:67:in `block in update'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 24ms (ActiveRecord: 2.1ms | Allocations: 5219)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:15:08 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4690)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 10889)
Completed 200 OK in 18ms (Views: 11.8ms | ActiveRecord: 1.7ms | Allocations: 14463)


Started GET "/home" for ::1 at 2024-03-05 19:15:09 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1596)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 7727)
Completed 200 OK in 20ms (Views: 12.8ms | ActiveRecord: 1.4ms | Allocations: 10356)


Started DELETE "/logout" for ::1 at 2024-03-05 19:15:11 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 387)


Started GET "/" for ::1 at 2024-03-05 19:15:11 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 904)


Started GET "/login" for ::1 at 2024-03-05 19:15:11 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 442)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 5901)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 6148)


Started GET "/register" for ::1 at 2024-03-05 19:15:13 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 571)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 6029)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 6450)


Started POST "/register" for ::1 at 2024-03-05 19:15:16 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user2@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:15:16.904765"], ["updated_at", "2024-03-06 00:15:16.904765"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-06 00:15:16.907170"], ["updated_at", "2024-03-06 00:15:16.907170"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (20.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 268ms (ActiveRecord: 22.2ms | Allocations: 3729)


Started GET "/home" for ::1 at 2024-03-05 19:15:16 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 878)


Started GET "/login" for ::1 at 2024-03-05 19:15:16 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 461)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 6005)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms | Allocations: 6252)


Started POST "/login" for ::1 at 2024-03-05 19:15:19 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (11.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 249ms (ActiveRecord: 11.0ms | Allocations: 796)


Started GET "/home" for ::1 at 2024-03-05 19:15:19 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 6738)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.5ms | Allocations: 7929)


Started GET "/apartments" for ::1 at 2024-03-05 19:15:21 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 7764)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.8ms | Allocations: 8622)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:15:22 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.3ms | Allocations: 3733)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 9845)
Completed 200 OK in 31ms (Views: 19.4ms | ActiveRecord: 2.9ms | Allocations: 13389)


Started GET "/apartments" for ::1 at 2024-03-05 19:15:23 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 8.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 7850)
Completed 200 OK in 23ms (Views: 20.4ms | ActiveRecord: 0.6ms | Allocations: 8694)


Started GET "/apartments/4" for ::1 at 2024-03-05 19:15:24 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3734)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 9929)
Completed 200 OK in 24ms (Views: 14.9ms | ActiveRecord: 1.8ms | Allocations: 13506)


Started GET "/apartments" for ::1 at 2024-03-05 19:15:25 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 7764)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 0.7ms | Allocations: 8614)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:15:27 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.8ms | Allocations: 5080)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 11192)
Completed 200 OK in 24ms (Views: 13.6ms | ActiveRecord: 2.6ms | Allocations: 14748)


Started POST "/apartments/1/apartment_requests" for ::1 at 2024-03-05 19:15:28 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (3.5ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 1], ["user_id", 4], ["status", 0], ["created_at", "2024-03-06 00:15:28.723418"], ["updated_at", "2024-03-06 00:15:28.723418"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 14ms (ActiveRecord: 4.1ms | Allocations: 7244)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:15:28 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.8ms | Allocations: 5547)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 11746)
Completed 200 OK in 16ms (Views: 10.5ms | ActiveRecord: 1.8ms | Allocations: 15332)


Started GET "/home" for ::1 at 2024-03-05 19:15:30 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1921)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 8051)
Completed 200 OK in 17ms (Views: 12.2ms | ActiveRecord: 0.9ms | Allocations: 9223)


Started DELETE "/logout" for ::1 at 2024-03-05 19:15:32 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 350)


Started GET "/" for ::1 at 2024-03-05 19:15:32 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 906)


Started GET "/login" for ::1 at 2024-03-05 19:15:32 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 454)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 5913)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 6160)


Started POST "/login" for ::1 at 2024-03-05 19:15:35 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user1@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user1@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 241ms (ActiveRecord: 0.4ms | Allocations: 775)


Started GET "/home" for ::1 at 2024-03-05 19:15:35 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3695)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 9817)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 1.7ms | Allocations: 11707)


Started PATCH "/apartments/1/apartment_requests/1" for ::1 at 2024-03-05 19:15:36 -0500
Processing by ApartmentRequestsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "status"=>"approved", "apartment_id"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mApartmentRequest Update (1.0ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1, "updated_at" = $2 WHERE "apartment_requests"."id" = $3[0m  [["status", 1], ["updated_at", "2024-03-06 00:15:36.452268"], ["id", 1]]
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mApartmentRequest Update All (2.7ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1 WHERE "apartment_requests"."user_id" = $2 AND "apartment_requests"."id" != $3 AND "apartment_requests"."status" = $4[0m  [["status", 3], ["user_id", 4], ["id", 1], ["status", 0]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:15:36.462627"], ["apartment_id", 1], ["id", 4]]
  â†³ app/models/apartment_request.rb:11:in `block in approve'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/apartment_request.rb:8:in `approve'
Redirected to http://localhost:3000/home
Completed 302 Found in 19ms (ActiveRecord: 5.0ms | Allocations: 5548)


Started GET "/home" for ::1 at 2024-03-05 19:15:36 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1509)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 7648)
Completed 200 OK in 13ms (Views: 8.0ms | ActiveRecord: 0.9ms | Allocations: 9523)


Started GET "/apartments" for ::1 at 2024-03-05 19:15:37 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 7764)
Completed 200 OK in 18ms (Views: 13.5ms | ActiveRecord: 0.8ms | Allocations: 8626)


Started DELETE "/logout" for ::1 at 2024-03-05 19:15:39 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 353)


Started GET "/" for ::1 at 2024-03-05 19:15:39 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 898)


Started GET "/login" for ::1 at 2024-03-05 19:15:39 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 445)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 5904)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 6151)


Started POST "/login" for ::1 at 2024-03-05 19:15:41 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 234ms (ActiveRecord: 0.2ms | Allocations: 788)


Started GET "/home" for ::1 at 2024-03-05 19:15:42 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.5ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mCACHE Apartment Load (0.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartmentRequest Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1966)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 8180)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 1.9ms | Allocations: 10061)


Started DELETE "/logout" for ::1 at 2024-03-05 19:15:44 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 362)


Started GET "/" for ::1 at 2024-03-05 19:15:44 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 916)


Started GET "/login" for ::1 at 2024-03-05 19:15:44 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 451)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 5988)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms | Allocations: 6236)


Started GET "/register" for ::1 at 2024-03-05 19:15:47 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 6028)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 6467)


Started POST "/register" for ::1 at 2024-03-05 19:15:51 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user3@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user3@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:15:51.652865"], ["updated_at", "2024-03-06 00:15:51.652865"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.2ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 5], ["created_at", "2024-03-06 00:15:51.655271"], ["updated_at", "2024-03-06 00:15:51.655271"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 243ms (ActiveRecord: 2.5ms | Allocations: 3749)


Started GET "/home" for ::1 at 2024-03-05 19:15:51 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 893)


Started GET "/login" for ::1 at 2024-03-05 19:15:51 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 440)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | Allocations: 5899)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 6146)


Started POST "/login" for ::1 at 2024-03-05 19:15:54 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user3@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user3@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 237ms (ActiveRecord: 0.2ms | Allocations: 799)


Started GET "/home" for ::1 at 2024-03-05 19:15:54 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 531)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 6669)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.7ms | Allocations: 7848)


Started GET "/apartments" for ::1 at 2024-03-05 19:15:55 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 7846)
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 0.6ms | Allocations: 8711)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:15:57 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.4ms | Allocations: 5718)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 11836)
Completed 200 OK in 26ms (Views: 15.9ms | ActiveRecord: 2.4ms | Allocations: 15378)


Started POST "/apartments/1/apartment_requests" for ::1 at 2024-03-05 19:15:58 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 1], ["user_id", 5], ["status", 0], ["created_at", "2024-03-06 00:15:58.066166"], ["updated_at", "2024-03-06 00:15:58.066166"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 10ms (ActiveRecord: 2.0ms | Allocations: 3243)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:15:58 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 6152)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 12268)
Completed 200 OK in 21ms (Views: 13.6ms | ActiveRecord: 1.9ms | Allocations: 15864)


Started GET "/home" for ::1 at 2024-03-05 19:15:59 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1108)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 7322)
Completed 200 OK in 15ms (Views: 11.4ms | ActiveRecord: 0.8ms | Allocations: 8501)


Started GET "/cities" for ::1 at 2024-03-05 19:16:00 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 530)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 7329)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.9ms | Allocations: 7605)


Started GET "/apartments" for ::1 at 2024-03-05 19:16:00 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 7767)
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 0.7ms | Allocations: 8611)


Started DELETE "/logout" for ::1 at 2024-03-05 19:16:03 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 356)


Started GET "/" for ::1 at 2024-03-05 19:16:03 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 889)


Started GET "/login" for ::1 at 2024-03-05 19:16:03 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 443)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 5902)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 6149)


Started GET "/register" for ::1 at 2024-03-05 19:16:05 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 6028)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 6452)


Started POST "/register" for ::1 at 2024-03-05 19:16:08 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"user4@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "user4@test.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:16:08.261277"], ["updated_at", "2024-03-06 00:16:08.261277"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 6], ["created_at", "2024-03-06 00:16:08.264228"], ["updated_at", "2024-03-06 00:16:08.264228"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 245ms (ActiveRecord: 3.8ms | Allocations: 3759)


Started GET "/home" for ::1 at 2024-03-05 19:16:08 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 881)


Started GET "/login" for ::1 at 2024-03-05 19:16:08 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 476)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 6019)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 6267)


Started POST "/login" for ::1 at 2024-03-05 19:16:10 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user4@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user4@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.4ms | Allocations: 787)


Started GET "/home" for ::1 at 2024-03-05 19:16:11 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 6]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 6738)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.6ms | Allocations: 7917)


Started GET "/apartments" for ::1 at 2024-03-05 19:16:12 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 7767)
Completed 200 OK in 17ms (Views: 13.1ms | ActiveRecord: 0.7ms | Allocations: 8611)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:16:12 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3733)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 9844)
Completed 200 OK in 21ms (Views: 11.8ms | ActiveRecord: 1.5ms | Allocations: 13397)


Started PATCH "/apartments/3/occupy" for ::1 at 2024-03-05 19:16:13 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:16:13.470177"], ["apartment_id", 3], ["id", 6]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 13ms (ActiveRecord: 1.9ms | Allocations: 4853)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:16:13 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.7ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 6], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4696)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 10895)
Completed 200 OK in 18ms (Views: 11.3ms | ActiveRecord: 1.5ms | Allocations: 14472)


Started DELETE "/logout" for ::1 at 2024-03-05 19:16:14 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 359)


Started GET "/" for ::1 at 2024-03-05 19:16:14 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 907)


Started GET "/login" for ::1 at 2024-03-05 19:16:14 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 439)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 5924)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 6171)


Started POST "/login" for ::1 at 2024-03-05 19:16:17 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user3@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user3@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.2ms | Allocations: 787)


Started GET "/home" for ::1 at 2024-03-05 19:16:17 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1108)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 7239)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 0.7ms | Allocations: 8442)


Started GET "/apartments" for ::1 at 2024-03-05 19:16:18 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.4ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 7764)
Completed 200 OK in 18ms (Views: 14.7ms | ActiveRecord: 0.6ms | Allocations: 8602)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:16:19 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 5084)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 11279)
Completed 200 OK in 25ms (Views: 13.4ms | ActiveRecord: 1.8ms | Allocations: 14838)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 19:16:20 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 5], ["status", 0], ["created_at", "2024-03-06 00:16:20.518317"], ["updated_at", "2024-03-06 00:16:20.518317"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 10ms (ActiveRecord: 2.2ms | Allocations: 3237)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:16:20 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 5518)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 11660)
Completed 200 OK in 19ms (Views: 12.6ms | ActiveRecord: 1.6ms | Allocations: 15233)


Started GET "/home" for ::1 at 2024-03-05 19:16:21 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1685)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 7815)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 0.7ms | Allocations: 8987)


Started DELETE "/logout" for ::1 at 2024-03-05 19:16:22 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 356)


Started GET "/" for ::1 at 2024-03-05 19:16:22 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 906)


Started GET "/login" for ::1 at 2024-03-05 19:16:22 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 430)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 5972)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 6219)


Started POST "/login" for ::1 at 2024-03-05 19:16:25 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user2@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user2@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.2ms | Allocations: 781)


Started GET "/home" for ::1 at 2024-03-05 19:16:26 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mCACHE Apartment Load (0.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartmentRequest Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 3320)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 9519)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 1.7ms | Allocations: 11421)


Started DELETE "/logout" for ::1 at 2024-03-05 19:16:27 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 353)


Started GET "/" for ::1 at 2024-03-05 19:16:27 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 897)


Started GET "/login" for ::1 at 2024-03-05 19:16:27 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 421)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 5881)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 6129)


Started POST "/login" for ::1 at 2024-03-05 19:16:30 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user4@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user4@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 235ms (ActiveRecord: 0.2ms | Allocations: 796)


Started GET "/home" for ::1 at 2024-03-05 19:16:31 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 6]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 3], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2863)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | Allocations: 8978)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 1.1ms | Allocations: 10846)


Started PATCH "/apartments/3/apartment_requests/3" for ::1 at 2024-03-05 19:16:32 -0500
Processing by ApartmentRequestsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "status"=>"denied", "apartment_id"=>"3", "id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/apartment_request.rb:16:in `deny'
  [1m[36mApartmentRequest Update (0.9ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1, "updated_at" = $2 WHERE "apartment_requests"."id" = $3[0m  [["status", 2], ["updated_at", "2024-03-06 00:16:32.904776"], ["id", 3]]
  â†³ app/models/apartment_request.rb:16:in `deny'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/apartment_request.rb:16:in `deny'
Redirected to http://localhost:3000/home
Completed 302 Found in 9ms (ActiveRecord: 1.8ms | Allocations: 3460)


Started GET "/home" for ::1 at 2024-03-05 19:16:32 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 6]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1509)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 7723)
Completed 200 OK in 15ms (Views: 9.0ms | ActiveRecord: 0.9ms | Allocations: 9606)


Started DELETE "/logout" for ::1 at 2024-03-05 19:16:33 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 344)


Started GET "/" for ::1 at 2024-03-05 19:16:33 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 886)


Started GET "/login" for ::1 at 2024-03-05 19:16:34 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 427)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 5914)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 6162)


Started POST "/login" for ::1 at 2024-03-05 19:16:36 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user3@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user3@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.2ms | Allocations: 790)


Started GET "/home" for ::1 at 2024-03-05 19:16:36 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1685)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 7816)
Completed 200 OK in 6ms (Views: 3.8ms | ActiveRecord: 0.5ms | Allocations: 8986)


Started DELETE "/logout" for ::1 at 2024-03-05 19:16:39 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 356)


Started GET "/" for ::1 at 2024-03-05 19:16:39 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 901)


Started GET "/login" for ::1 at 2024-03-05 19:16:39 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 430)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 5888)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 6135)


Started POST "/login" for ::1 at 2024-03-05 19:17:07 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user1@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user1@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 223ms (ActiveRecord: 0.4ms | Allocations: 790)


Started GET "/home" for ::1 at 2024-03-05 19:17:07 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 1], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2863)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 9062)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 1.5ms | Allocations: 10930)


Started PATCH "/apartments/1/apartment_requests/2" for ::1 at 2024-03-05 19:17:08 -0500
Processing by ApartmentRequestsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "status"=>"approved", "apartment_id"=>"1", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mApartmentRequest Update (1.2ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1, "updated_at" = $2 WHERE "apartment_requests"."id" = $3[0m  [["status", 1], ["updated_at", "2024-03-06 00:17:08.591215"], ["id", 2]]
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mApartmentRequest Update All (0.2ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1 WHERE "apartment_requests"."user_id" = $2 AND "apartment_requests"."id" != $3 AND "apartment_requests"."status" = $4[0m  [["status", 3], ["user_id", 5], ["id", 2], ["status", 0]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:17:08.597129"], ["apartment_id", 1], ["id", 5]]
  â†³ app/models/apartment_request.rb:11:in `block in approve'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/apartment_request.rb:8:in `approve'
Redirected to http://localhost:3000/home
Completed 302 Found in 14ms (ActiveRecord: 2.9ms | Allocations: 5382)


Started GET "/home" for ::1 at 2024-03-05 19:17:08 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1509)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 7669)
Completed 200 OK in 18ms (Views: 12.2ms | ActiveRecord: 1.3ms | Allocations: 9559)


Started DELETE "/logout" for ::1 at 2024-03-05 19:17:09 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 356)


Started GET "/" for ::1 at 2024-03-05 19:17:09 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 892)


Started GET "/login" for ::1 at 2024-03-05 19:17:09 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 451)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 5910)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 6157)


Started POST "/login" for ::1 at 2024-03-05 19:17:12 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"user3@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user3@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 237ms (ActiveRecord: 0.2ms | Allocations: 782)


Started GET "/home" for ::1 at 2024-03-05 19:17:12 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mCACHE Apartment Load (0.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartmentRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 1], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 2543)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | Allocations: 8759)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 1.1ms | Allocations: 10646)


Started GET "/apartments" for ::1 at 2024-03-05 19:17:15 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.7ms | Allocations: 7846)
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 0.7ms | Allocations: 8701)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:17:18 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 114)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 5884)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 12022)
Completed 200 OK in 25ms (Views: 15.5ms | ActiveRecord: 2.0ms | Allocations: 15579)


Started PATCH "/apartments/1/vacate" for ::1 at 2024-03-05 19:17:19 -0500
Processing by ApartmentsController#vacate as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:17:19.883172"], ["apartment_id", nil], ["id", 5]]
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
Redirected to http://localhost:3000/apartments/1
Completed 302 Found in 11ms (ActiveRecord: 2.5ms | Allocations: 4847)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:17:19 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 6151)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 12275)
Completed 200 OK in 21ms (Views: 14.1ms | ActiveRecord: 1.5ms | Allocations: 15869)


Started GET "/apartments" for ::1 at 2024-03-05 19:17:21 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.5ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 7848)
Completed 200 OK in 21ms (Views: 16.9ms | ActiveRecord: 0.8ms | Allocations: 8691)


Started GET "/cities" for ::1 at 2024-03-05 19:17:22 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 530)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 7239)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.5ms | Allocations: 7514)


Started GET "/home" for ::1 at 2024-03-05 19:17:22 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1685)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 7816)
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 0.7ms | Allocations: 8995)


Started GET "/apartments" for ::1 at 2024-03-05 19:17:23 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7765)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.7ms | Allocations: 8632)


Started GET "/home" for ::1 at 2024-03-05 19:17:25 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1685)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 7823)
Completed 200 OK in 21ms (Views: 14.7ms | ActiveRecord: 2.2ms | Allocations: 9005)


Started GET "/apartments" for ::1 at 2024-03-05 19:17:26 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.7ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 7773)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 1.2ms | Allocations: 8614)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:17:26 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 5517)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 11705)
Completed 200 OK in 26ms (Views: 16.1ms | ActiveRecord: 1.8ms | Allocations: 15252)


Started GET "/apartments" for ::1 at 2024-03-05 19:17:32 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 7765)
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 0.8ms | Allocations: 8594)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:17:33 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 114)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 1], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.4ms | Allocations: 6151)
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | Allocations: 12270)
Completed 200 OK in 28ms (Views: 15.8ms | ActiveRecord: 3.0ms | Allocations: 15811)


Started GET "/apartments" for ::1 at 2024-03-05 19:17:34 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 7848)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 0.5ms | Allocations: 8677)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:17:35 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 5517)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 11630)
Completed 200 OK in 29ms (Views: 17.0ms | ActiveRecord: 2.0ms | Allocations: 15185)


Started GET "/apartments" for ::1 at 2024-03-05 19:17:36 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 7765)
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 0.7ms | Allocations: 8615)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:17:37 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3733)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 9852)
Completed 200 OK in 30ms (Views: 18.9ms | ActiveRecord: 1.7ms | Allocations: 13396)


Started GET "/apartments" for ::1 at 2024-03-05 19:17:38 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 7823)
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.5ms | Allocations: 8649)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:17:39 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 5517)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 11656)
Completed 200 OK in 27ms (Views: 17.2ms | ActiveRecord: 1.9ms | Allocations: 15208)


Started GET "/apartments" for ::1 at 2024-03-05 19:21:55 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (7.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (11.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 7765)
Completed 200 OK in 55ms (Views: 14.4ms | ActiveRecord: 23.4ms | Allocations: 8609)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:21:56 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 121)
  [1m[36mUser Count (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (2.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 15.0ms | Allocations: 5517)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | Allocations: 11708)
Completed 200 OK in 38ms (Views: 22.1ms | ActiveRecord: 6.1ms | Allocations: 15252)


Started GET "/apartments/3/edit" for ::1 at 2024-03-05 19:21:57 -0500
Processing by ApartmentsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  Rendering layout layouts/application.html.erb
  Rendering apartments/edit.html.erb within layouts/application
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/apartments/_form.html.erb:16
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods"[0m
  â†³ app/views/apartments/_form.html.erb:21
  Rendered apartments/_form.html.erb (Duration: 5.5ms | Allocations: 2373)
  Rendered apartments/edit.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2485)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 8983)
Completed 200 OK in 24ms (Views: 14.0ms | ActiveRecord: 1.7ms | Allocations: 11970)


Started GET "/apartments/3/edit" for ::1 at 2024-03-05 19:22:01 -0500
Processing by ApartmentsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 772)


Started GET "/login" for ::1 at 2024-03-05 19:22:01 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 431)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 5891)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 6133)


Started POST "/login" for ::1 at 2024-03-05 19:22:04 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 758)


Started GET "/login" for ::1 at 2024-03-05 19:22:04 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 425)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 5964)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 6212)


Started POST "/login" for ::1 at 2024-03-05 19:22:06 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"test@test.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 774)


Started GET "/login" for ::1 at 2024-03-05 19:22:06 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 445)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 5925)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 6172)


Started GET "/register" for ::1 at 2024-03-05 19:22:08 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 6029)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 6465)


Started POST "/register" for ::1 at 2024-03-05 19:22:13 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"j@j.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1498)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 6952)
Completed 422 Unprocessable Entity in 241ms (Views: 3.7ms | ActiveRecord: 0.0ms | Allocations: 8120)


Started POST "/register" for ::1 at 2024-03-05 19:22:16 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"j@j.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (6.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "j@j.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:22:17.060490"], ["updated_at", "2024-03-06 00:22:17.060490"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 7], ["created_at", "2024-03-06 00:22:17.068172"], ["updated_at", "2024-03-06 00:22:17.068172"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 244ms (ActiveRecord: 7.9ms | Allocations: 3743)


Started GET "/home" for ::1 at 2024-03-05 19:22:17 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 881)


Started GET "/login" for ::1 at 2024-03-05 19:22:17 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 452)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 5995)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms | Allocations: 6243)


Started POST "/login" for ::1 at 2024-03-05 19:22:20 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"j@j.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "j@j.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.2ms | Allocations: 802)


Started GET "/home" for ::1 at 2024-03-05 19:22:20 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 7]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 6743)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.4ms | Allocations: 7922)


Started GET "/apartments" for ::1 at 2024-03-05 19:22:20 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 7790)
Completed 200 OK in 16ms (Views: 12.3ms | ActiveRecord: 0.6ms | Allocations: 8648)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:22:21 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3733)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 9845)
Completed 200 OK in 21ms (Views: 12.1ms | ActiveRecord: 1.3ms | Allocations: 13409)


Started PATCH "/apartments/2/occupy" for ::1 at 2024-03-05 19:22:23 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (3.7ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:22:23.553415"], ["apartment_id", 2], ["id", 7]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 18ms (ActiveRecord: 4.8ms | Allocations: 4844)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:22:23 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 7], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 4696)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 10896)
Completed 200 OK in 19ms (Views: 11.6ms | ActiveRecord: 1.6ms | Allocations: 14469)


Started DELETE "/logout" for ::1 at 2024-03-05 19:22:25 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 365)


Started GET "/" for ::1 at 2024-03-05 19:22:25 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 894)


Started GET "/login" for ::1 at 2024-03-05 19:22:25 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 457)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 5941)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 6188)


Started GET "/register" for ::1 at 2024-03-05 19:22:27 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 6029)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.0ms | Allocations: 6480)


Started POST "/register" for ::1 at 2024-03-05 19:22:30 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"b@b.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "b@b.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:22:30.431083"], ["updated_at", "2024-03-06 00:22:30.431083"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (2.7ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 8], ["created_at", "2024-03-06 00:22:30.433452"], ["updated_at", "2024-03-06 00:22:30.433452"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 8], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 243ms (ActiveRecord: 5.8ms | Allocations: 3743)


Started GET "/home" for ::1 at 2024-03-05 19:22:30 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 878)


Started GET "/login" for ::1 at 2024-03-05 19:22:30 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 439)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 5897)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms | Allocations: 6145)


Started POST "/login" for ::1 at 2024-03-05 19:22:32 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"b@b.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "b@b.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.2ms | Allocations: 805)


Started GET "/home" for ::1 at 2024-03-05 19:22:33 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 8]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 8], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 6747)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 0.6ms | Allocations: 7913)


Started GET "/apartments" for ::1 at 2024-03-05 19:22:33 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 8], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 7840)
Completed 200 OK in 17ms (Views: 12.6ms | ActiveRecord: 0.8ms | Allocations: 8702)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:22:34 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 5084)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 8], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 11222)
Completed 200 OK in 22ms (Views: 14.0ms | ActiveRecord: 1.5ms | Allocations: 14783)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:22:35 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (0.9ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 8], ["status", 0], ["created_at", "2024-03-06 00:22:35.545228"], ["updated_at", "2024-03-06 00:22:35.545228"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 9ms (ActiveRecord: 1.7ms | Allocations: 3267)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:22:35 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:22
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.4ms | Allocations: 5518)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 8], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 11719)
Completed 200 OK in 19ms (Views: 13.9ms | ActiveRecord: 1.2ms | Allocations: 15267)


Started GET "/cities" for ::1 at 2024-03-05 19:25:14 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (1.0ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 12751)
  Rendered layout layouts/application.html.erb (Duration: 68.6ms | Allocations: 65458)
Completed 200 OK in 88ms (Views: 57.1ms | ActiveRecord: 13.6ms | Allocations: 77163)


Started GET "/register" for ::1 at 2024-03-05 19:25:16 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1828)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 7487)
Completed 200 OK in 25ms (Views: 7.6ms | ActiveRecord: 2.4ms | Allocations: 17086)


Started POST "/register" for ::1 at 2024-03-05 19:25:22 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"1@1.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "1@1.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:25:23.122072"], ["updated_at", "2024-03-06 00:25:23.122072"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (2.2ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 9], ["created_at", "2024-03-06 00:25:23.142124"], ["updated_at", "2024-03-06 00:25:23.142124"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 259ms (ActiveRecord: 8.8ms | Allocations: 16808)


Started GET "/home" for ::1 at 2024-03-05 19:25:23 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1123)


Started GET "/login" for ::1 at 2024-03-05 19:25:23 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1548)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | Allocations: 7217)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 7768)


Started POST "/login" for ::1 at 2024-03-05 19:25:25 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"1@1.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1@1.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 237ms (ActiveRecord: 0.1ms | Allocations: 977)


Started GET "/home" for ::1 at 2024-03-05 19:25:25 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.5ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 9]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 2142)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 8321)
Completed 200 OK in 17ms (Views: 4.6ms | ActiveRecord: 5.2ms | Allocations: 16303)


Started GET "/apartments" for ::1 at 2024-03-05 19:25:26 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.8ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.9ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 14.9ms | Allocations: 11482)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 17916)
Completed 200 OK in 25ms (Views: 18.9ms | ActiveRecord: 2.2ms | Allocations: 19103)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:25:27 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.8ms | Allocations: 361)
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (1.5ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 23.2ms | Allocations: 16175)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 22494)
Completed 200 OK in 56ms (Views: 25.9ms | ActiveRecord: 8.1ms | Allocations: 33221)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:25:31 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:25:31.958073"], ["updated_at", "2024-03-06 00:25:31.958073"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 10ms (ActiveRecord: 2.2ms | Allocations: 3699)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:25:31 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.8ms | Allocations: 6313)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 12429)
Completed 200 OK in 20ms (Views: 13.2ms | ActiveRecord: 2.0ms | Allocations: 16024)


Started GET "/home" for ::1 at 2024-03-05 19:25:33 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 9]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1993)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 8123)
Completed 200 OK in 17ms (Views: 12.5ms | ActiveRecord: 0.9ms | Allocations: 9295)


Started DELETE "/logout" for ::1 at 2024-03-05 19:25:35 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 384)


Started GET "/" for ::1 at 2024-03-05 19:25:35 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 906)


Started GET "/login" for ::1 at 2024-03-05 19:25:35 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 445)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 5903)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms | Allocations: 6150)


Started POST "/login" for ::1 at 2024-03-05 19:25:37 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"j@j.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "j@j.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 236ms (ActiveRecord: 0.3ms | Allocations: 778)


Started GET "/home" for ::1 at 2024-03-05 19:25:38 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 7]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 2], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 4547)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 10866)
Completed 200 OK in 13ms (Views: 6.3ms | ActiveRecord: 1.3ms | Allocations: 13414)


Started PATCH "/apartments/2/apartment_requests/4" for ::1 at 2024-03-05 19:25:40 -0500
Processing by ApartmentRequestsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "status"=>"approved", "apartment_id"=>"2", "id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mApartmentRequest Update (0.9ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1, "updated_at" = $2 WHERE "apartment_requests"."id" = $3[0m  [["status", 1], ["updated_at", "2024-03-06 00:25:40.483294"], ["id", 4]]
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mApartmentRequest Update All (0.3ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1 WHERE "apartment_requests"."user_id" = $2 AND "apartment_requests"."id" != $3 AND "apartment_requests"."status" = $4[0m  [["status", 3], ["user_id", 8], ["id", 4], ["status", 0]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:25:40.489032"], ["apartment_id", 2], ["id", 8]]
  â†³ app/models/apartment_request.rb:11:in `block in approve'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/apartment_request.rb:8:in `approve'
Redirected to http://localhost:3000/home
Completed 302 Found in 14ms (ActiveRecord: 2.8ms | Allocations: 5719)


Started GET "/home" for ::1 at 2024-03-05 19:25:40 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 7]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 2], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2865)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 8981)
Completed 200 OK in 12ms (Views: 8.0ms | ActiveRecord: 1.0ms | Allocations: 10862)


Started PATCH "/apartments/2/apartment_requests/5" for ::1 at 2024-03-05 19:25:42 -0500
Processing by ApartmentRequestsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "status"=>"denied", "apartment_id"=>"2", "id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/apartment_request.rb:16:in `deny'
  [1m[36mApartmentRequest Update (0.9ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1, "updated_at" = $2 WHERE "apartment_requests"."id" = $3[0m  [["status", 2], ["updated_at", "2024-03-06 00:25:42.830493"], ["id", 5]]
  â†³ app/models/apartment_request.rb:16:in `deny'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/apartment_request.rb:16:in `deny'
Redirected to http://localhost:3000/home
Completed 302 Found in 7ms (ActiveRecord: 1.5ms | Allocations: 3481)


Started GET "/home" for ::1 at 2024-03-05 19:25:42 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 7]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1508)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 7638)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.6ms | Allocations: 9514)


Started GET "/apartments" for ::1 at 2024-03-05 19:25:43 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 7], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 7764)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 0.7ms | Allocations: 8607)


Started DELETE "/logout" for ::1 at 2024-03-05 19:25:44 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 368)


Started GET "/" for ::1 at 2024-03-05 19:25:44 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 910)


Started GET "/login" for ::1 at 2024-03-05 19:25:44 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 451)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 6120)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 6368)


Started POST "/login" for ::1 at 2024-03-05 19:25:47 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"1@1.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1@1.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.2ms | Allocations: 793)


Started GET "/home" for ::1 at 2024-03-05 19:25:47 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 9]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1107)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 7380)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.6ms | Allocations: 8558)


Started GET "/apartments" for ::1 at 2024-03-05 19:25:48 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 7765)
Completed 200 OK in 16ms (Views: 12.1ms | ActiveRecord: 0.6ms | Allocations: 8620)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:25:49 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.9ms | Allocations: 6261)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 12372)
Completed 200 OK in 26ms (Views: 15.7ms | ActiveRecord: 2.3ms | Allocations: 15932)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:25:51 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:25:51.066725"], ["updated_at", "2024-03-06 00:25:51.066725"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 8ms (ActiveRecord: 2.1ms | Allocations: 3247)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:25:51 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.2ms | Allocations: 6770)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 13089)
Completed 200 OK in 20ms (Views: 14.4ms | ActiveRecord: 1.5ms | Allocations: 16646)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:25:51 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:25:51.839579"], ["updated_at", "2024-03-06 00:25:51.839579"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 10ms (ActiveRecord: 2.4ms | Allocations: 3252)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:25:51 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 7279)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 13498)
Completed 200 OK in 23ms (Views: 15.1ms | ActiveRecord: 2.0ms | Allocations: 17076)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:25:52 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.3ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:25:52.494521"], ["updated_at", "2024-03-06 00:25:52.494521"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 10ms (ActiveRecord: 2.3ms | Allocations: 3229)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:25:52 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.0ms | Allocations: 7788)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 13903)
Completed 200 OK in 22ms (Views: 15.4ms | ActiveRecord: 2.3ms | Allocations: 17465)


Started GET "/apartments" for ::1 at 2024-03-05 19:25:53 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 6.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 7970)
Completed 200 OK in 22ms (Views: 18.8ms | ActiveRecord: 0.6ms | Allocations: 8814)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:25:54 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 5703)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 11922)
Completed 200 OK in 25ms (Views: 17.2ms | ActiveRecord: 1.6ms | Allocations: 15479)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 19:25:55 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.1ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:25:55.792819"], ["updated_at", "2024-03-06 00:25:55.792819"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 9ms (ActiveRecord: 2.0ms | Allocations: 3255)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:25:55 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 6253)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 12368)
Completed 200 OK in 20ms (Views: 11.9ms | ActiveRecord: 1.6ms | Allocations: 15948)


Started DELETE "/apartments/3/apartment_requests/9" for ::1 at 2024-03-05 19:25:56 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3", "id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (1.2ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 9]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 11ms (ActiveRecord: 2.6ms | Allocations: 3199)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:25:56 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 5703)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 12024)
Completed 200 OK in 25ms (Views: 15.8ms | ActiveRecord: 1.8ms | Allocations: 15621)


Started GET "/apartments" for ::1 at 2024-03-05 19:25:57 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 7854)
Completed 200 OK in 14ms (Views: 11.6ms | ActiveRecord: 0.6ms | Allocations: 8715)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:25:58 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.9ms | Allocations: 7788)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 13926)
Completed 200 OK in 26ms (Views: 16.1ms | ActiveRecord: 1.9ms | Allocations: 17513)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:25:58 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (3.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:25:58.902759"], ["updated_at", "2024-03-06 00:25:58.902759"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 13ms (ActiveRecord: 4.2ms | Allocations: 3255)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:25:58 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 8297)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 14412)
Completed 200 OK in 22ms (Views: 14.5ms | ActiveRecord: 1.7ms | Allocations: 17990)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:25:59 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.3ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:25:59.886710"], ["updated_at", "2024-03-06 00:25:59.886710"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 9ms (ActiveRecord: 2.3ms | Allocations: 3238)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:25:59 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 8806)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 15125)
Completed 200 OK in 21ms (Views: 15.6ms | ActiveRecord: 1.7ms | Allocations: 18687)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:26:00 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.3ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:00.384053"], ["updated_at", "2024-03-06 00:26:00.384053"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 10ms (ActiveRecord: 2.3ms | Allocations: 3239)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:26:00 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.4ms | Allocations: 9315)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 15431)
Completed 200 OK in 24ms (Views: 16.2ms | ActiveRecord: 2.0ms | Allocations: 19001)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:26:00 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.1ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:00.561573"], ["updated_at", "2024-03-06 00:26:00.561573"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 10ms (ActiveRecord: 2.3ms | Allocations: 3233)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:26:00 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 14.4ms | Allocations: 9824)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 16146)
Completed 200 OK in 28ms (Views: 19.5ms | ActiveRecord: 2.2ms | Allocations: 19731)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:26:00 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.0ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:00.709182"], ["updated_at", "2024-03-06 00:26:00.709182"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 9ms (ActiveRecord: 1.8ms | Allocations: 3240)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:26:00 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.1ms | Allocations: 10333)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 16478)
Completed 200 OK in 22ms (Views: 15.4ms | ActiveRecord: 1.7ms | Allocations: 20067)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:26:00 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.1ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:00.850526"], ["updated_at", "2024-03-06 00:26:00.850526"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 9ms (ActiveRecord: 2.1ms | Allocations: 3251)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:26:00 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.9ms | Allocations: 10843)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 17158)
Completed 200 OK in 26ms (Views: 19.1ms | ActiveRecord: 1.9ms | Allocations: 20733)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:26:01 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.7ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:01.067626"], ["updated_at", "2024-03-06 00:26:01.067626"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 12ms (ActiveRecord: 2.8ms | Allocations: 3247)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:26:01 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 13.4ms | Allocations: 11352)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 17670)
Completed 200 OK in 26ms (Views: 17.7ms | ActiveRecord: 2.1ms | Allocations: 21246)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:26:01 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (2.0ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:01.315564"], ["updated_at", "2024-03-06 00:26:01.315564"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 9ms (ActiveRecord: 2.6ms | Allocations: 3233)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:26:01 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 12.9ms | Allocations: 11861)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 17977)
Completed 200 OK in 26ms (Views: 18.8ms | ActiveRecord: 1.9ms | Allocations: 21556)


Started GET "/apartments" for ::1 at 2024-03-05 19:26:03 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 7967)
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 0.6ms | Allocations: 8826)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:04 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.7ms | Allocations: 5703)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 11844)
Completed 200 OK in 23ms (Views: 14.3ms | ActiveRecord: 1.9ms | Allocations: 15396)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 19:26:04 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (0.9ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:04.858560"], ["updated_at", "2024-03-06 00:26:04.858560"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 10ms (ActiveRecord: 2.0ms | Allocations: 3252)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:04 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 6253)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.9ms | Allocations: 12369)
Completed 200 OK in 21ms (Views: 12.2ms | ActiveRecord: 1.6ms | Allocations: 15937)


Started DELETE "/apartments/3/apartment_requests/18" for ::1 at 2024-03-05 19:26:05 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3", "id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (1.0ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 18]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 10ms (ActiveRecord: 2.0ms | Allocations: 3121)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:05 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 5703)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 12023)
Completed 200 OK in 27ms (Views: 15.1ms | ActiveRecord: 1.8ms | Allocations: 15608)


Started GET "/apartments" for ::1 at 2024-03-05 19:26:06 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 7766)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 0.6ms | Allocations: 8618)


Started GET "/apartments/4" for ::1 at 2024-03-05 19:26:07 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3737)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 9875)
Completed 200 OK in 25ms (Views: 14.6ms | ActiveRecord: 1.7ms | Allocations: 13429)


Started PATCH "/apartments/4/occupy" for ::1 at 2024-03-05 19:26:08 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:26:08.508682"], ["apartment_id", 4], ["id", 9]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/4
Completed 302 Found in 11ms (ActiveRecord: 2.0ms | Allocations: 4927)


Started GET "/apartments/4" for ::1 at 2024-03-05 19:26:08 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 4], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4701)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 10817)
Completed 200 OK in 18ms (Views: 10.7ms | ActiveRecord: 1.3ms | Allocations: 14389)


Started PATCH "/apartments/4/vacate" for ::1 at 2024-03-05 19:26:09 -0500
Processing by ApartmentsController#vacate as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mUser Update (1.1ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:26:09.171814"], ["apartment_id", nil], ["id", 9]]
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:41:in `block in vacate'
Redirected to http://localhost:3000/apartments/4
Completed 302 Found in 15ms (ActiveRecord: 2.3ms | Allocations: 4850)


Started GET "/apartments/4" for ::1 at 2024-03-05 19:26:09 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 4]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3734)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 10053)
Completed 200 OK in 17ms (Views: 10.7ms | ActiveRecord: 1.4ms | Allocations: 13636)


Started GET "/apartments" for ::1 at 2024-03-05 19:26:09 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.7ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 7764)
Completed 200 OK in 18ms (Views: 14.6ms | ActiveRecord: 0.8ms | Allocations: 8601)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:26:10 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.8ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 16.1ms | Allocations: 11861)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 17973)
Completed 200 OK in 31ms (Views: 21.4ms | ActiveRecord: 2.0ms | Allocations: 21530)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:26:11 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:11.905881"], ["updated_at", "2024-03-06 00:26:11.905881"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 10ms (ActiveRecord: 2.1ms | Allocations: 3255)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:26:11 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 14.7ms | Allocations: 12370)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 18689)
Completed 200 OK in 30ms (Views: 18.9ms | ActiveRecord: 1.7ms | Allocations: 22248)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:26:12 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:12.544452"], ["updated_at", "2024-03-06 00:26:12.544452"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 11ms (ActiveRecord: 2.2ms | Allocations: 3244)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:26:12 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 8], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 13.5ms | Allocations: 12879)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 18995)
Completed 200 OK in 24ms (Views: 17.2ms | ActiveRecord: 1.6ms | Allocations: 22614)


Started GET "/apartments" for ::1 at 2024-03-05 19:26:14 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.2ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 7764)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 0.6ms | Allocations: 8616)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:15 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 12.5ms | Allocations: 5703)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 12019)
Completed 200 OK in 35ms (Views: 19.1ms | ActiveRecord: 2.3ms | Allocations: 15579)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 19:26:16 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (0.8ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:16.868032"], ["updated_at", "2024-03-06 00:26:16.868032"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 10ms (ActiveRecord: 1.7ms | Allocations: 3238)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:16 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 6253)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 12430)
Completed 200 OK in 19ms (Views: 11.6ms | ActiveRecord: 1.6ms | Allocations: 16013)


Started DELETE "/apartments/3/apartment_requests/21" for ::1 at 2024-03-05 19:26:17 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3", "id"=>"21"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (1.0ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 21]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 8ms (ActiveRecord: 1.9ms | Allocations: 3139)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:17 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 5703)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 11819)
Completed 200 OK in 22ms (Views: 12.8ms | ActiveRecord: 1.8ms | Allocations: 15439)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 19:26:18 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (3.7ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:18.739587"], ["updated_at", "2024-03-06 00:26:18.739587"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 11ms (ActiveRecord: 4.6ms | Allocations: 3251)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:18 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 6253)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 12572)
Completed 200 OK in 20ms (Views: 12.7ms | ActiveRecord: 1.5ms | Allocations: 16188)


Started DELETE "/apartments/3/apartment_requests/22" for ::1 at 2024-03-05 19:26:19 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3", "id"=>"22"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (0.9ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 22]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 9ms (ActiveRecord: 2.2ms | Allocations: 3121)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:19 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.5ms | Allocations: 5703)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 11821)
Completed 200 OK in 20ms (Views: 13.3ms | ActiveRecord: 1.7ms | Allocations: 15395)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:20 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 12.6ms | Allocations: 5703)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 11814)
Completed 200 OK in 29ms (Views: 19.5ms | ActiveRecord: 2.1ms | Allocations: 15364)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 19:26:20 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.0ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 9], ["status", 0], ["created_at", "2024-03-06 00:26:20.881728"], ["updated_at", "2024-03-06 00:26:20.881728"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 13ms (ActiveRecord: 1.7ms | Allocations: 3249)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:20 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 6253)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 12573)
Completed 200 OK in 20ms (Views: 11.7ms | ActiveRecord: 1.5ms | Allocations: 16165)


Started DELETE "/apartments/3/apartment_requests/23" for ::1 at 2024-03-05 19:26:22 -0500
Processing by ApartmentRequestsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3", "id"=>"23"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mApartmentRequest Destroy (0.8ms)[0m  [1m[31mDELETE FROM "apartment_requests" WHERE "apartment_requests"."id" = $1[0m  [["id", 23]]
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:16:in `destroy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 9ms (ActiveRecord: 2.0ms | Allocations: 3136)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:26:22 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 9], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 5703)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 9], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 11845)
Completed 200 OK in 19ms (Views: 12.4ms | ActiveRecord: 1.6ms | Allocations: 15425)


  [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (35.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_development"[0m
  [1m[35m (22.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_test"[0m
  [1m[35m (83.9ms)[0m  [1m[35mCREATE DATABASE "roommatic_development" ENCODING = 'unicode'[0m
  [1m[35m (32.2ms)[0m  [1m[35mCREATE DATABASE "roommatic_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-06 00:36:25.464734', '2024-03-06 00:36:25.464738') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-06 00:36:25.466850', '2024-03-06 00:36:25.466851') RETURNING "key"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-06 00:36:25.501585', '2024-03-06 00:36:25.501588') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-03-06 00:36:25.502507' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-06 00:36:25.503199', '2024-03-06 00:36:25.503199') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "New York City"], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "New York City"], ["state", "New York"], ["created_at", "2024-03-06 00:36:25.539380"], ["updated_at", "2024-03-06 00:36:25.539380"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "Boston"], ["LIMIT", 1]]
  [1m[36mCity Create (0.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Boston"], ["state", "Massachusetts"], ["created_at", "2024-03-06 00:36:25.542003"], ["updated_at", "2024-03-06 00:36:25.542003"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.7ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lower East Side"], ["city_id", 1], ["created_at", "2024-03-06 00:36:25.549685"], ["updated_at", "2024-03-06 00:36:25.549685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.5ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Back Bay"], ["city_id", 2], ["created_at", "2024-03-06 00:36:25.551277"], ["updated_at", "2024-03-06 00:36:25.551277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cambridge"], ["city_id", 2], ["created_at", "2024-03-06 00:36:25.554832"], ["updated_at", "2024-03-06 00:36:25.554832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (1.0ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "372 Marlborough St."], ["bedrooms", 1], ["rent", "825.0"], ["notes", "My rent in 1990"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-06 00:36:25.562613"], ["updated_at", "2024-03-06 00:36:25.562613"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.5ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "350 Newbury St"], ["bedrooms", 3], ["rent", "4000.0"], ["notes", "Right next to Newbury comics!"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-06 00:36:25.564589"], ["updated_at", "2024-03-06 00:36:25.564589"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.5ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "290 Highland Ave"], ["bedrooms", 2], ["rent", "1800.0"], ["notes", "My rent in 1995"], ["neighborhood_id", 3], ["city_id", 2], ["created_at", "2024-03-06 00:36:25.565951"], ["updated_at", "2024-03-06 00:36:25.565951"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "123 Houston Street"], ["bedrooms", 3], ["rent", "3000.0"], ["notes", "near Death & Co."], ["neighborhood_id", 1], ["city_id", 1], ["created_at", "2024-03-06 00:36:25.567250"], ["updated_at", "2024-03-06 00:36:25.567250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon@jonphillips.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:36:25.792511"], ["updated_at", "2024-03-06 00:36:25.792511"], ["apartment_id", nil]]
  [1m[36mProfile Create (1.0ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 1], ["created_at", "2024-03-06 00:36:25.805116"], ["updated_at", "2024-03-06 00:36:25.805116"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon.phillips@duke.edu"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:36:26.038834"], ["updated_at", "2024-03-06 00:36:26.038834"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.2ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 2], ["created_at", "2024-03-06 00:36:26.040814"], ["updated_at", "2024-03-06 00:36:26.040814"]]
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2024-03-05 19:36:37 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 34ms (ActiveRecord: 9.5ms | Allocations: 15101)


Started GET "/login" for ::1 at 2024-03-05 19:36:37 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 2879)
  Rendered layout layouts/application.html.erb (Duration: 43.9ms | Allocations: 55134)
Completed 200 OK in 48ms (Views: 45.7ms | ActiveRecord: 0.0ms | Allocations: 58477)


Started GET "/register" for ::1 at 2024-03-05 19:36:39 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1770)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 7433)
Completed 200 OK in 26ms (Views: 9.3ms | ActiveRecord: 4.2ms | Allocations: 16364)


Started POST "/register" for ::1 at 2024-03-05 19:36:43 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"1@1.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "1@1.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:36:43.531488"], ["updated_at", "2024-03-06 00:36:43.531488"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.9ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 3], ["created_at", "2024-03-06 00:36:43.545506"], ["updated_at", "2024-03-06 00:36:43.545506"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 246ms (ActiveRecord: 6.6ms | Allocations: 16692)


Started GET "/home" for ::1 at 2024-03-05 19:36:43 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 895)


Started GET "/login" for ::1 at 2024-03-05 19:36:43 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 456)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 6118)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms | Allocations: 6410)


Started POST "/login" for ::1 at 2024-03-05 19:36:45 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"1@1.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1@1.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 237ms (ActiveRecord: 0.2ms | Allocations: 968)


Started GET "/home" for ::1 at 2024-03-05 19:36:46 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.4ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 2149)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 8339)
Completed 200 OK in 16ms (Views: 4.7ms | ActiveRecord: 4.4ms | Allocations: 16324)


Started GET "/apartments" for ::1 at 2024-03-05 19:36:46 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.9ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 4.3ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 11482)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 17916)
Completed 200 OK in 33ms (Views: 24.6ms | ActiveRecord: 2.7ms | Allocations: 19091)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:36:49 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.4ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.7ms | Allocations: 361)
  [1m[36mUser Count (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 18.0ms | Allocations: 7678)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 13996)
Completed 200 OK in 68ms (Views: 17.2ms | ActiveRecord: 15.2ms | Allocations: 30516)


Started PATCH "/apartments/2/occupy" for ::1 at 2024-03-05 19:36:50 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.9ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:36:50.441154"], ["apartment_id", 2], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 17ms (ActiveRecord: 3.5ms | Allocations: 5096)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:36:50 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.6ms | Allocations: 7689)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 13832)
Completed 200 OK in 24ms (Views: 16.6ms | ActiveRecord: 2.2ms | Allocations: 17408)


Started GET "/home" for ::1 at 2024-03-05 19:36:52 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1596)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 7726)
Completed 200 OK in 18ms (Views: 11.6ms | ActiveRecord: 1.4ms | Allocations: 10322)


Started DELETE "/logout" for ::1 at 2024-03-05 19:36:53 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 375)


Started GET "/" for ::1 at 2024-03-05 19:36:53 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 900)


Started GET "/login" for ::1 at 2024-03-05 19:36:53 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 460)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 5918)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 6165)


Started GET "/register" for ::1 at 2024-03-05 19:36:56 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 6044)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.0ms | Allocations: 6472)


Started POST "/register" for ::1 at 2024-03-05 19:37:00 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"2@2.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "2@2.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:37:00.914185"], ["updated_at", "2024-03-06 00:37:00.914185"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-06 00:37:00.917158"], ["updated_at", "2024-03-06 00:37:00.917158"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 2.5ms | Allocations: 3743)


Started GET "/home" for ::1 at 2024-03-05 19:37:00 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.3ms | Allocations: 878)


Started GET "/login" for ::1 at 2024-03-05 19:37:00 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 443)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 5940)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms | Allocations: 6187)


Started POST "/login" for ::1 at 2024-03-05 19:37:03 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"2@2.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "2@2.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.2ms | Allocations: 784)


Started GET "/home" for ::1 at 2024-03-05 19:37:04 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 6663)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.4ms | Allocations: 7847)


Started GET "/apartments" for ::1 at 2024-03-05 19:37:04 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 7764)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 0.8ms | Allocations: 8608)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:37:07 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3733)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 9844)
Completed 200 OK in 22ms (Views: 14.9ms | ActiveRecord: 1.6ms | Allocations: 13411)


Started PATCH "/apartments/3/occupy" for ::1 at 2024-03-05 19:37:08 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:37:08.258954"], ["apartment_id", 3], ["id", 4]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 24ms (ActiveRecord: 2.9ms | Allocations: 4852)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:37:08 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4697)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 11016)
Completed 200 OK in 16ms (Views: 9.7ms | ActiveRecord: 1.8ms | Allocations: 14630)


Started DELETE "/logout" for ::1 at 2024-03-05 19:37:09 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 377)


Started GET "/" for ::1 at 2024-03-05 19:37:09 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 886)


Started GET "/login" for ::1 at 2024-03-05 19:37:09 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 427)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 5911)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 6158)


Started GET "/register" for ::1 at 2024-03-05 19:37:10 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 6028)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 6465)


Started POST "/register" for ::1 at 2024-03-05 19:37:14 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"3@3.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "3@3.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:37:14.566875"], ["updated_at", "2024-03-06 00:37:14.566875"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 5], ["created_at", "2024-03-06 00:37:14.569244"], ["updated_at", "2024-03-06 00:37:14.569244"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 242ms (ActiveRecord: 2.4ms | Allocations: 3746)


Started GET "/home" for ::1 at 2024-03-05 19:37:14 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 884)


Started GET "/login" for ::1 at 2024-03-05 19:37:14 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 427)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | Allocations: 5885)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms | Allocations: 6132)


Started POST "/login" for ::1 at 2024-03-05 19:37:17 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"3@3.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "3@3.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.4ms | Allocations: 778)


Started GET "/home" for ::1 at 2024-03-05 19:37:17 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 6866)
Completed 200 OK in 8ms (Views: 3.7ms | ActiveRecord: 0.5ms | Allocations: 8043)


Started GET "/apartments" for ::1 at 2024-03-05 19:37:18 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 7936)
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 0.8ms | Allocations: 8784)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:37:19 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 10.4ms | Allocations: 5088)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 11225)
Completed 200 OK in 25ms (Views: 15.5ms | ActiveRecord: 2.4ms | Allocations: 14781)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:37:20 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (2.0ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 5], ["status", 0], ["created_at", "2024-03-06 00:37:20.151821"], ["updated_at", "2024-03-06 00:37:20.151821"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 11ms (ActiveRecord: 2.9ms | Allocations: 7249)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:37:20 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 5674)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 11789)
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 1.4ms | Allocations: 15358)


Started GET "/apartments" for ::1 at 2024-03-05 19:37:21 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 7969)
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 0.6ms | Allocations: 8814)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:37:22 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 5085)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 11366)
Completed 200 OK in 26ms (Views: 16.0ms | ActiveRecord: 1.9ms | Allocations: 14933)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 19:37:23 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.2ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 5], ["status", 0], ["created_at", "2024-03-06 00:37:23.714002"], ["updated_at", "2024-03-06 00:37:23.714002"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 10ms (ActiveRecord: 2.2ms | Allocations: 3262)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:37:23 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 5635)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 11751)
Completed 200 OK in 20ms (Views: 11.7ms | ActiveRecord: 1.9ms | Allocations: 15334)


Started GET "/home" for ::1 at 2024-03-05 19:37:25 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2497)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 8627)
Completed 200 OK in 21ms (Views: 16.6ms | ActiveRecord: 1.1ms | Allocations: 9814)


Started DELETE "/logout" for ::1 at 2024-03-05 19:37:26 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 347)


Started GET "/" for ::1 at 2024-03-05 19:37:26 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 910)


Started GET "/login" for ::1 at 2024-03-05 19:37:26 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 448)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 6110)
Completed 200 OK in 7ms (Views: 7.1ms | ActiveRecord: 0.0ms | Allocations: 6359)


Started POST "/login" for ::1 at 2024-03-05 19:37:29 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"1@1.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1@1.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 237ms (ActiveRecord: 0.2ms | Allocations: 772)


Started GET "/home" for ::1 at 2024-03-05 19:37:29 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 2], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 3691)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 9959)
Completed 200 OK in 8ms (Views: 4.9ms | ActiveRecord: 1.0ms | Allocations: 11844)


Started PATCH "/apartments/2/apartment_requests/1" for ::1 at 2024-03-05 19:37:30 -0500
Processing by ApartmentRequestsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "status"=>"approved", "apartment_id"=>"2", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mApartmentRequest Update (0.9ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1, "updated_at" = $2 WHERE "apartment_requests"."id" = $3[0m  [["status", 1], ["updated_at", "2024-03-06 00:37:30.406024"], ["id", 1]]
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mApartmentRequest Update All (0.4ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1 WHERE "apartment_requests"."user_id" = $2 AND "apartment_requests"."id" != $3 AND "apartment_requests"."status" = $4[0m  [["status", 3], ["user_id", 5], ["id", 1], ["status", 0]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:37:30.411440"], ["apartment_id", 2], ["id", 5]]
  â†³ app/models/apartment_request.rb:11:in `block in approve'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/apartment_request.rb:8:in `approve'
Redirected to http://localhost:3000/home
Completed 302 Found in 16ms (ActiveRecord: 3.0ms | Allocations: 5540)


Started GET "/home" for ::1 at 2024-03-05 19:37:30 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1508)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 7639)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 1.1ms | Allocations: 9513)


Started DELETE "/logout" for ::1 at 2024-03-05 19:37:31 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 365)


Started GET "/" for ::1 at 2024-03-05 19:37:31 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 916)


Started GET "/login" for ::1 at 2024-03-05 19:37:31 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 427)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 5885)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 6132)


Started POST "/login" for ::1 at 2024-03-05 19:37:33 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"2@2.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "2@2.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 236ms (ActiveRecord: 0.3ms | Allocations: 803)


Started GET "/home" for ::1 at 2024-03-05 19:37:34 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1509)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 7843)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 1.2ms | Allocations: 9743)


Started DELETE "/logout" for ::1 at 2024-03-05 19:37:35 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms | Allocations: 368)


Started GET "/" for ::1 at 2024-03-05 19:37:35 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 892)


Started GET "/login" for ::1 at 2024-03-05 19:37:35 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 439)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 6049)
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.0ms | Allocations: 6298)


Started POST "/login" for ::1 at 2024-03-05 19:37:38 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"3@3.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "3@3.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.2ms | Allocations: 791)


Started GET "/home" for ::1 at 2024-03-05 19:37:39 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mCACHE Apartment Load (0.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartmentRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2541)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 8673)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 1.2ms | Allocations: 10575)


Started GET "/apartments" for ::1 at 2024-03-05 19:37:41 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.0ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 7764)
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 0.6ms | Allocations: 8625)


Started GET "/cities" for ::1 at 2024-03-05 19:40:52 -0500
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.7ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 12751)
  Rendered layout layouts/application.html.erb (Duration: 67.2ms | Allocations: 65275)
Completed 200 OK in 86ms (Views: 56.7ms | ActiveRecord: 12.7ms | Allocations: 76980)


Started GET "/login" for ::1 at 2024-03-05 19:40:54 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2649)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 8303)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.0ms | Allocations: 8810)


Started GET "/register" for ::1 at 2024-03-05 19:40:55 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1764)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 7259)
Completed 200 OK in 30ms (Views: 12.5ms | ActiveRecord: 2.6ms | Allocations: 15790)


Started POST "/register" for ::1 at 2024-03-05 19:40:57 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"1@1.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "1@1.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:40:57.724285"], ["updated_at", "2024-03-06 00:40:57.724285"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 6], ["created_at", "2024-03-06 00:40:57.738096"], ["updated_at", "2024-03-06 00:40:57.738096"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 6], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 250ms (ActiveRecord: 6.7ms | Allocations: 16829)


Started GET "/home" for ::1 at 2024-03-05 19:40:57 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1129)


Started GET "/login" for ::1 at 2024-03-05 19:40:57 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 465)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 5937)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 6228)


Started POST "/login" for ::1 at 2024-03-05 19:40:59 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"1@1.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1@1.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 236ms (ActiveRecord: 0.2ms | Allocations: 966)


Started GET "/home" for ::1 at 2024-03-05 19:41:00 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.6ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.4ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 4120)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 10299)
Completed 200 OK in 25ms (Views: 4.8ms | ActiveRecord: 7.4ms | Allocations: 29095)


Started GET "/apartments" for ::1 at 2024-03-05 19:41:00 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 6.3ms | Allocations: 1915)
  Rendered apartments/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 2905)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 9339)
Completed 200 OK in 22ms (Views: 17.8ms | ActiveRecord: 1.0ms | Allocations: 10492)


Started GET "/cities" for ::1 at 2024-03-05 19:41:02 -0500
Processing by CitiesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering cities/index.html.erb within layouts/application
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities"[0m
  â†³ app/views/cities/index.html.erb:10
  Rendered cities/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 536)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 25.4ms | Allocations: 7358)
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 1.3ms | Allocations: 7638)


Started DELETE "/logout" for ::1 at 2024-03-05 19:41:04 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 363)


Started GET "/" for ::1 at 2024-03-05 19:41:04 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 909)


Started GET "/login" for ::1 at 2024-03-05 19:41:04 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 433)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 5899)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 6146)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (51.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_development"[0m
  [1m[35m (20.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "roommatic_test"[0m
  [1m[35m (90.3ms)[0m  [1m[35mCREATE DATABASE "roommatic_development" ENCODING = 'unicode'[0m
  [1m[35m (30.1ms)[0m  [1m[35mCREATE DATABASE "roommatic_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-06 00:41:11.511452', '2024-03-06 00:41:11.511454') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-06 00:41:11.513047', '2024-03-06 00:41:11.513048') RETURNING "key"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartment_requests" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "apartment_requests" ("id" bigserial primary key, "apartment_id" bigint NOT NULL, "user_id" bigint NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_apartment_id" ON "apartment_requests" ("apartment_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_apartment_requests_on_user_id" ON "apartment_requests" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "apartments" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "apartments" ("id" bigserial primary key, "street_address" character varying NOT NULL, "bedrooms" integer, "rent" decimal, "notes" text, "neighborhood_id" bigint NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_city_id" ON "apartments" ("city_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_apartments_on_neighborhood_id" ON "apartments" ("neighborhood_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "cities" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "cities" ("id" bigserial primary key, "name" character varying NOT NULL, "state" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "country" character varying)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "neighborhoods" CASCADE[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "neighborhoods" ("id" bigserial primary key, "name" character varying NOT NULL, "city_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_neighborhoods_on_city_id" ON "neighborhoods" ("city_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "name" character varying, "biography" text, "cleanliness" integer, "user_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "apartment_id" bigint)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_apartment_id" ON "users" ("apartment_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_ab0203761e"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "apartment_requests" ADD CONSTRAINT "fk_rails_221162d52b"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_b50d77c703"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "apartments" ADD CONSTRAINT "fk_rails_6395c2e35f"
FOREIGN KEY ("neighborhood_id")
  REFERENCES "neighborhoods" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "neighborhoods" ADD CONSTRAINT "fk_rails_81a381ff87"
FOREIGN KEY ("city_id")
  REFERENCES "cities" ("id")
[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_da51810453"
FOREIGN KEY ("apartment_id")
  REFERENCES "apartments" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240305203149)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240305203122),
(20240128162502),
(20240128162455),
(20240125174854),
(20240109212828),
(20240104224839),
(20240104223720),
(20240104213218);[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-03-06 00:41:11.549874', '2024-03-06 00:41:11.549876') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2024-03-06 00:41:11.550635' WHERE "ar_internal_metadata"."key" = 'environment'[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'bd0e9593e3b57e39721bbc9758c6c505186fb0cd', '2024-03-06 00:41:11.551214', '2024-03-06 00:41:11.551214') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "New York City"], ["LIMIT", 1]]
  [1m[36mCity Create (0.2ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "New York City"], ["state", "New York"], ["created_at", "2024-03-06 00:41:11.579123"], ["updated_at", "2024-03-06 00:41:11.579123"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCity Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "cities" WHERE "cities"."name" = $1 LIMIT $2[0m  [["name", "Boston"], ["LIMIT", 1]]
  [1m[36mCity Create (0.1ms)[0m  [1m[32mINSERT INTO "cities" ("name", "state", "created_at", "updated_at", "country") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Boston"], ["state", "Massachusetts"], ["created_at", "2024-03-06 00:41:11.585736"], ["updated_at", "2024-03-06 00:41:11.585736"], ["country", "USA"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.7ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Lower East Side"], ["city_id", 1], ["created_at", "2024-03-06 00:41:11.593027"], ["updated_at", "2024-03-06 00:41:11.593027"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.6ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Back Bay"], ["city_id", 2], ["created_at", "2024-03-06 00:41:11.594663"], ["updated_at", "2024-03-06 00:41:11.594663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mNeighborhood Create (0.4ms)[0m  [1m[32mINSERT INTO "neighborhoods" ("name", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Cambridge"], ["city_id", 2], ["created_at", "2024-03-06 00:41:11.596021"], ["updated_at", "2024-03-06 00:41:11.596021"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.7ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "372 Marlborough St."], ["bedrooms", 1], ["rent", "825.0"], ["notes", "My rent in 1990"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-06 00:41:11.604775"], ["updated_at", "2024-03-06 00:41:11.604775"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "350 Newbury St"], ["bedrooms", 3], ["rent", "4000.0"], ["notes", "Right next to Newbury comics!"], ["neighborhood_id", 2], ["city_id", 2], ["created_at", "2024-03-06 00:41:11.606394"], ["updated_at", "2024-03-06 00:41:11.606394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "290 Highland Ave"], ["bedrooms", 2], ["rent", "1800.0"], ["notes", "My rent in 1995"], ["neighborhood_id", 3], ["city_id", 2], ["created_at", "2024-03-06 00:41:11.607645"], ["updated_at", "2024-03-06 00:41:11.607645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mApartment Create (0.4ms)[0m  [1m[32mINSERT INTO "apartments" ("street_address", "bedrooms", "rent", "notes", "neighborhood_id", "city_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["street_address", "123 Houston Street"], ["bedrooms", 3], ["rent", "3000.0"], ["notes", "near Death & Co."], ["neighborhood_id", 1], ["city_id", 1], ["created_at", "2024-03-06 00:41:11.608837"], ["updated_at", "2024-03-06 00:41:11.608837"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon@jonphillips.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:41:11.825763"], ["updated_at", "2024-03-06 00:41:11.825763"], ["apartment_id", nil]]
  [1m[36mProfile Create (2.2ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 1], ["created_at", "2024-03-06 00:41:11.840915"], ["updated_at", "2024-03-06 00:41:11.840915"]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "jon.phillips@duke.edu"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:41:12.055950"], ["updated_at", "2024-03-06 00:41:12.055950"], ["apartment_id", nil]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 2], ["created_at", "2024-03-06 00:41:12.057634"], ["updated_at", "2024-03-06 00:41:12.057634"]]
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/login" for ::1 at 2024-03-05 19:41:17 -0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3090)
Started GET "/login" for ::1 at 2024-03-05 19:41:17 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 417)
  Rendered layout layouts/application.html.erb (Duration: 67.5ms | Allocations: 94429)
  Rendered layout layouts/application.html.erb (Duration: 40.2ms | Allocations: 68947)
Completed 200 OK in 73ms (Views: 70.5ms | ActiveRecord: 0.0ms | Allocations: 106278)


Completed 200 OK in 41ms (Views: 40.5ms | ActiveRecord: 0.0ms | Allocations: 69483)


Started GET "/login" for ::1 at 2024-03-05 19:41:17 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 437)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 5970)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms | Allocations: 6212)


Started GET "/login" for ::1 at 2024-03-05 19:41:17 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 423)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 5884)
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.0ms | Allocations: 6127)


Started GET "/login" for ::1 at 2024-03-05 19:41:17 -0500
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 426)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 5887)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 6129)


Started GET "/register" for ::1 at 2024-03-05 19:41:18 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1775)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 7245)
Completed 200 OK in 54ms (Views: 11.6ms | ActiveRecord: 10.6ms | Allocations: 27151)


Started POST "/register" for ::1 at 2024-03-05 19:41:21 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"1@1.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "1@1.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:41:21.643068"], ["updated_at", "2024-03-06 00:41:21.643068"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 3], ["created_at", "2024-03-06 00:41:21.657170"], ["updated_at", "2024-03-06 00:41:21.657170"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 252ms (ActiveRecord: 6.5ms | Allocations: 18853)


Started GET "/home" for ::1 at 2024-03-05 19:41:21 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1137)


Started GET "/login" for ::1 at 2024-03-05 19:41:21 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 438)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 5909)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms | Allocations: 6200)


Started POST "/login" for ::1 at 2024-03-05 19:41:23 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"1@1.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1@1.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.3ms | Allocations: 978)


Started GET "/home" for ::1 at 2024-03-05 19:41:23 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.6ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 2149)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 8339)
Completed 200 OK in 17ms (Views: 4.8ms | ActiveRecord: 5.1ms | Allocations: 16314)


Started GET "/apartments" for ::1 at 2024-03-05 19:41:24 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.9ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 3.9ms | Allocations: 1936)
  Rendered apartments/index.html.erb within layouts/application (Duration: 18.7ms | Allocations: 11444)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 17878)
Completed 200 OK in 30ms (Views: 23.4ms | ActiveRecord: 3.0ms | Allocations: 19063)


Started GET "/apartments/1" for ::1 at 2024-03-05 19:41:25 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.5ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.6ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.5ms | Allocations: 353)
  [1m[36mUser Count (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 1]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 7674)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 13871)
Completed 200 OK in 67ms (Views: 13.6ms | ActiveRecord: 9.9ms | Allocations: 30403)


Started GET "/apartments" for ::1 at 2024-03-05 19:41:26 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 7764)
Completed 200 OK in 18ms (Views: 14.4ms | ActiveRecord: 1.0ms | Allocations: 8621)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:41:26 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.3ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 122)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3733)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 9844)
Completed 200 OK in 24ms (Views: 13.6ms | ActiveRecord: 2.2ms | Allocations: 13418)


Started PATCH "/apartments/2/occupy" for ::1 at 2024-03-05 19:41:27 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:41:27.512315"], ["apartment_id", 2], ["id", 3]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 18ms (ActiveRecord: 5.5ms | Allocations: 5096)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:41:27 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 3], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 16.4ms | Allocations: 7690)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 13890)
Completed 200 OK in 28ms (Views: 21.1ms | ActiveRecord: 1.9ms | Allocations: 17475)


Started DELETE "/logout" for ::1 at 2024-03-05 19:41:28 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 360)


Started GET "/" for ::1 at 2024-03-05 19:41:28 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 888)


Started GET "/login" for ::1 at 2024-03-05 19:41:28 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 445)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 5978)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 6225)


Started GET "/register" for ::1 at 2024-03-05 19:41:31 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 6029)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 6466)


Started POST "/register" for ::1 at 2024-03-05 19:41:35 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"2@2.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "2@2.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:41:35.722371"], ["updated_at", "2024-03-06 00:41:35.722371"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 4], ["created_at", "2024-03-06 00:41:35.724303"], ["updated_at", "2024-03-06 00:41:35.724303"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 2.5ms | Allocations: 3760)


Started GET "/home" for ::1 at 2024-03-05 19:41:35 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 881)


Started GET "/login" for ::1 at 2024-03-05 19:41:35 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 463)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | Allocations: 5921)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms | Allocations: 6168)


Started POST "/login" for ::1 at 2024-03-05 19:41:38 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"2@2.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "2@2.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 240ms (ActiveRecord: 0.4ms | Allocations: 784)


Started GET "/home" for ::1 at 2024-03-05 19:41:38 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 531)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | Allocations: 6661)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.7ms | Allocations: 7839)


Started GET "/apartments" for ::1 at 2024-03-05 19:41:39 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.4ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.9ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 7849)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.8ms | Allocations: 8702)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:41:40 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.4ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.3ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  Rendered apartments/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3734)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | Allocations: 9929)
Completed 200 OK in 25ms (Views: 11.9ms | ActiveRecord: 2.3ms | Allocations: 13490)


Started PATCH "/apartments/3/occupy" for ::1 at 2024-03-05 19:41:41 -0500
Processing by ApartmentsController#occupy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mUser Update (1.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:41:41.658965"], ["apartment_id", 3], ["id", 4]]
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartments_controller.rb:30:in `block in occupy'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 14ms (ActiveRecord: 3.0ms | Allocations: 4839)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:41:41 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.3ms | Allocations: 121)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 4], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4697)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 10812)
Completed 200 OK in 19ms (Views: 11.7ms | ActiveRecord: 2.0ms | Allocations: 14390)


Started DELETE "/logout" for ::1 at 2024-03-05 19:41:42 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 371)


Started GET "/" for ::1 at 2024-03-05 19:41:42 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 885)


Started GET "/login" for ::1 at 2024-03-05 19:41:42 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 454)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | Allocations: 5916)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 6164)


Started GET "/register" for ::1 at 2024-03-05 19:41:44 -0500
Processing by RegisterController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering register/new.html.erb within layouts/application
  Rendered register/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 570)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 6112)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 6549)


Started POST "/register" for ::1 at 2024-03-05 19:41:47 -0500
Processing by RegisterController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"3@3.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "apartment_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["email", "3@3.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-03-06 00:41:47.277694"], ["updated_at", "2024-03-06 00:41:47.277694"], ["apartment_id", nil]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Create (0.2ms)[0m  [1m[32mINSERT INTO "profiles" ("name", "biography", "cleanliness", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", nil], ["biography", nil], ["cleanliness", nil], ["user_id", 5], ["created_at", "2024-03-06 00:41:47.279919"], ["updated_at", "2024-03-06 00:41:47.279919"]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/controllers/register_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/register_controller.rb:13:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 242ms (ActiveRecord: 2.3ms | Allocations: 3746)


Started GET "/home" for ::1 at 2024-03-05 19:41:47 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 893)


Started GET "/login" for ::1 at 2024-03-05 19:41:47 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 445)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 5980)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms | Allocations: 6227)


Started POST "/login" for ::1 at 2024-03-05 19:41:50 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"3@3.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "3@3.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 238ms (ActiveRecord: 0.2ms | Allocations: 793)


Started GET "/home" for ::1 at 2024-03-05 19:41:50 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 531)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 6661)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.5ms | Allocations: 7842)


Started GET "/apartments" for ::1 at 2024-03-05 19:41:50 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 1.1ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 7764)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.6ms | Allocations: 8604)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:41:51 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.2ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.2ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 122)
  [1m[36mUser Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 11.0ms | Allocations: 5088)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 11281)
Completed 200 OK in 33ms (Views: 21.4ms | ActiveRecord: 2.5ms | Allocations: 14851)


Started POST "/apartments/2/apartment_requests" for ::1 at 2024-03-05 19:41:52 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (2.0ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 2], ["user_id", 5], ["status", 0], ["created_at", "2024-03-06 00:41:52.555335"], ["updated_at", "2024-03-06 00:41:52.555335"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/2
Completed 302 Found in 10ms (ActiveRecord: 2.6ms | Allocations: 7238)


Started GET "/apartments/2" for ::1 at 2024-03-05 19:41:52 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 122)
  [1m[36mUser Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 2]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 2], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 5674)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 11865)
Completed 200 OK in 16ms (Views: 10.0ms | ActiveRecord: 1.6ms | Allocations: 15441)


Started GET "/apartments" for ::1 at 2024-03-05 19:41:53 -0500
Processing by ApartmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  Rendering layout layouts/application.html.erb
  Rendering apartments/index.html.erb within layouts/application
  [1m[36mApartment Load (0.3ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments"[0m
  â†³ app/views/apartments/index.html.erb:9
  Rendered collection of apartments/_apartment.html.erb [4 times] (Duration: 0.8ms | Allocations: 705)
  Rendered apartments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1345)
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 7764)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.5ms | Allocations: 8622)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:41:55 -0500
Processing by ApartmentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.4ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 9.0ms | Allocations: 5085)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 11196)
Completed 200 OK in 25ms (Views: 15.2ms | ActiveRecord: 1.9ms | Allocations: 14757)


Started POST "/apartments/3/apartment_requests" for ::1 at 2024-03-05 19:41:55 -0500
Processing by ApartmentRequestsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "apartment_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mApartmentRequest Create (1.9ms)[0m  [1m[32mINSERT INTO "apartment_requests" ("apartment_id", "user_id", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["apartment_id", 3], ["user_id", 5], ["status", 0], ["created_at", "2024-03-06 00:41:55.918496"], ["updated_at", "2024-03-06 00:41:55.918496"]]
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/apartment_requests_controller.rb:8:in `create'
Redirected to http://localhost:3000/apartments/3
Completed 302 Found in 10ms (ActiveRecord: 3.0ms | Allocations: 3262)


Started GET "/apartments/3" for ::1 at 2024-03-05 19:41:55 -0500
Processing by ApartmentsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 ORDER BY "apartments"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1[0m  [["id", 2]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1[0m  [["id", 3]]
  â†³ app/controllers/apartments_controller.rb:90:in `set_apartment'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartments_controller.rb:11:in `show'
  Rendering layout layouts/application.html.erb
  Rendering apartments/show.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:3
  [1m[36mNeighborhood Load (0.1ms)[0m  [1m[34mSELECT "neighborhoods".* FROM "neighborhoods" WHERE "neighborhoods"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/apartments/show.html.erb:4
  Rendered apartments/_apartment.html.erb (Duration: 0.2ms | Allocations: 121)
  [1m[36mUser Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:8
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:10
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mCACHE User Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/models/apartment.rb:24:in `unoccupied?'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "apartment_requests" ON "users"."id" = "apartment_requests"."user_id" WHERE "apartment_requests"."apartment_id" = $1[0m  [["apartment_id", 3]]
  â†³ app/views/apartments/show.html.erb:21
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  [1m[36mCACHE ApartmentRequest Load (0.0ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."user_id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["user_id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment.rb:32:in `request'
  Rendered apartments/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 5635)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 11833)
Completed 200 OK in 19ms (Views: 12.8ms | ActiveRecord: 1.8ms | Allocations: 15401)


Started GET "/home" for ::1 at 2024-03-05 19:41:56 -0500
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  Rendered home/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2570)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 14.2ms | Allocations: 8727)
Completed 200 OK in 19ms (Views: 14.0ms | ActiveRecord: 1.0ms | Allocations: 9906)


Started DELETE "/logout" for ::1 at 2024-03-05 19:41:58 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 344)


Started GET "/" for ::1 at 2024-03-05 19:41:58 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 877)


Started GET "/login" for ::1 at 2024-03-05 19:41:58 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 442)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 5901)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 6148)


Started POST "/login" for ::1 at 2024-03-05 19:42:00 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"2@2.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "2@2.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.2ms | Allocations: 791)


Started GET "/home" for ::1 at 2024-03-05 19:42:00 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2[0m  [["apartment_id", 3], ["status", 0]]
  â†³ app/views/home/index.html.erb:21
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:23
  Rendered home/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 3688)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 9803)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 1.5ms | Allocations: 12355)


Started PATCH "/apartments/3/apartment_requests/2" for ::1 at 2024-03-05 19:42:02 -0500
Processing by ApartmentRequestsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "status"=>"approved", "apartment_id"=>"3", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:35:in `set_apartment'
  [1m[36mApartmentRequest Load (0.2ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."id" = $2 LIMIT $3[0m  [["apartment_id", 3], ["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/apartment_requests_controller.rb:39:in `set_apartment_request'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mApartmentRequest Update (1.1ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1, "updated_at" = $2 WHERE "apartment_requests"."id" = $3[0m  [["status", 1], ["updated_at", "2024-03-06 00:42:02.864777"], ["id", 2]]
  â†³ app/models/apartment_request.rb:9:in `block in approve'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mApartmentRequest Update All (0.5ms)[0m  [1m[33mUPDATE "apartment_requests" SET "status" = $1 WHERE "apartment_requests"."user_id" = $2 AND "apartment_requests"."id" != $3 AND "apartment_requests"."status" = $4[0m  [["status", 3], ["user_id", 5], ["id", 2], ["status", 0]]
  â†³ app/models/apartment_request.rb:10:in `block in approve'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "apartment_id" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2024-03-06 00:42:02.873594"], ["apartment_id", 3], ["id", 5]]
  â†³ app/models/apartment_request.rb:11:in `block in approve'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/apartment_request.rb:8:in `approve'
Redirected to http://localhost:3000/home
Completed 302 Found in 21ms (ActiveRecord: 3.9ms | Allocations: 5555)


Started GET "/home" for ::1 at 2024-03-05 19:42:02 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.3ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 4]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1512)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 4], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 7727)
Completed 200 OK in 17ms (Views: 10.3ms | ActiveRecord: 1.2ms | Allocations: 9593)


Started DELETE "/logout" for ::1 at 2024-03-05 19:42:03 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 356)


Started GET "/" for ::1 at 2024-03-05 19:42:03 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 901)


Started GET "/login" for ::1 at 2024-03-05 19:42:03 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 436)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 5968)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 6216)


Started POST "/login" for ::1 at 2024-03-05 19:42:07 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"3@3.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "3@3.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 236ms (ActiveRecord: 0.2ms | Allocations: 787)


Started GET "/home" for ::1 at 2024-03-05 19:42:07 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.2ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 5]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mCACHE Apartment Load (0.0ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:14
  [1m[36mApartmentRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 3], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2542)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 5], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 8673)
Completed 200 OK in 8ms (Views: 4.7ms | ActiveRecord: 1.3ms | Allocations: 10568)


Started DELETE "/logout" for ::1 at 2024-03-05 19:42:09 -0500
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 341)


Started GET "/" for ::1 at 2024-03-05 19:42:09 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 889)


Started GET "/login" for ::1 at 2024-03-05 19:42:09 -0500
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 430)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 5895)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 6143)


Started POST "/login" for ::1 at 2024-03-05 19:42:11 -0500
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "email"=>"1@1.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "1@1.com"], ["LIMIT", 1]]
  â†³ app/controllers/sessions_controller.rb:8:in `create'
Redirected to http://localhost:3000/home
Completed 302 Found in 239ms (ActiveRecord: 0.3ms | Allocations: 782)


Started GET "/home" for ::1 at 2024-03-05 19:42:12 -0500
Processing by HomeController#index as TURBO_STREAM
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mApartment Load (0.1ms)[0m  [1m[34mSELECT "apartments".* FROM "apartments" WHERE "apartments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/home_controller.rb:3:in `index'
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  [1m[36mCity Load (0.1ms)[0m  [1m[34mSELECT "cities".* FROM "cities" WHERE "cities"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:4
  [1m[36mApartmentRequest Load (0.1ms)[0m  [1m[34mSELECT "apartment_requests".* FROM "apartment_requests" WHERE "apartment_requests"."user_id" = $1[0m  [["user_id", 3]]
  â†³ app/views/home/index.html.erb:12
  [1m[36mApartmentRequest Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "apartment_requests" WHERE "apartment_requests"."apartment_id" = $1 AND "apartment_requests"."status" = $2 LIMIT $3[0m  [["apartment_id", 2], ["status", 0], ["LIMIT", 1]]
  â†³ app/views/home/index.html.erb:18
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1508)
  [1m[36mProfile Load (0.1ms)[0m  [1m[34mSELECT "profiles".* FROM "profiles" WHERE "profiles"."user_id" = $1 LIMIT $2[0m  [["user_id", 3], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:24
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 7721)
Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.9ms | Allocations: 9607)


Started GET "/" for ::1 at 2024-06-28 15:55:28 +0800
  [1m[36mActiveRecord::SchemaMigration Load (3.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by HomeController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:12:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 45ms (ActiveRecord: 29.1ms | Allocations: 15104)


Started GET "/login" for ::1 at 2024-06-28 15:55:28 +0800
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2884)
  Rendered layout layouts/application.html.erb (Duration: 47.4ms | Allocations: 55197)
Completed 200 OK in 52ms (Views: 49.7ms | ActiveRecord: 0.0ms | Allocations: 58539)


